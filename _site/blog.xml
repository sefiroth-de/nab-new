<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Norman&#39;s Academic Blog</title>
<link>https://www.sefiroth.de/blog.html</link>
<atom:link href="https://www.sefiroth.de/blog.xml" rel="self" type="application/rss+xml"/>
<description>Norman&#39;s Academic Blog</description>
<generator>quarto-1.8.27</generator>
<lastBuildDate>Thu, 19 Feb 2026 23:00:00 GMT</lastBuildDate>
<item>
  <title>Einfach eine gute Seite zum Thema RaspberryPi Pico</title>
  <dc:creator>Norman Markgraf</dc:creator>
  <link>https://www.sefiroth.de/posts/2026-02-20-einfach-eine-gute-seite-zum-thema-raspberrypi/</link>
  <description><![CDATA[ 





<section id="einfach-eine-gute-seite-zum-thema-raspberrypi-pico" class="level1">
<h1>Einfach eine gute Seite zum Thema RaspberryPi Pico</h1>
<p>Ich habe auf den Seiten von LHlab Wiki <a href="https://lhlab.wiki/wiki/Kategorie:RaspberryPiPico">hier</a> ein paar Seiten zum Thema RaspberryPi Pico gefunden die ich für recht interessant halte.</p>
<p>Für die ersten Schritte mit dem RaspberryPi Pico könnte die Seite <a href="https://www.elektronik-kompendium.de/sites/raspberry-pi/2612191.htm">https://www.elektronik-kompendium.de/sites/raspberry-pi/2612191.htm</a> sehr hilfreich sein.</p>
<p>Informationen zu den Anschlüssen des RaspberryPi Pico finden wir auf der Seite <a href="https://www.elektronik-kompendium.de/sites/raspberry-pi/2611031.htm">https://www.elektronik-kompendium.de/sites/raspberry-pi/2611031.htm</a>.</p>
<p>Eine guter Belegungsplan der GPIO Pins des RaspberryPi Pico findet sich auf der Seite <a href="https://www.elektronik-kompendium.de/sites/raspberry-pi/2611051.htm">https://www.elektronik-kompendium.de/sites/raspberry-pi/2611051.htm</a>.</p>
<p>Informationen zum Schlafmodues des RaspberryPi Pico findet sich auf der Seite <a href="https://www.elektronik-kompendium.de/sites/raspberry-pi/2802131.htm">https://www.elektronik-kompendium.de/sites/raspberry-pi/2802131.htm</a>.</p>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section"></h2>
<p>Unter <a href="https://raw.githubusercontent.com/alaub81/rpi_pico_scripts/main/config_sample.py">https://raw.githubusercontent.com/alaub81/rpi_pico_scripts/main/config_sample.py</a> gibt es eine Beispielkonfiguration für die Nutzung von MicroPython auf dem RaspberryPi Pico. Das könnte für Einsteiger sehr hilfreich sein, um schnell loszulegen und die ersten Schritte mit dem Pico zu machen.</p>
<p><a href="https://raw.githubusercontent.com/alaub81/rpi_pico_scripts/main/wificonnection.py">https://raw.githubusercontent.com/alaub81/rpi_pico_scripts/main/wificonnection.py</a></p>
</section>
<section id="raspberry-pi-os-download" class="level2">
<h2 class="anchored" data-anchor-id="raspberry-pi-os-download">Raspberry Pi OS download</h2>
<p><a href="https://www.raspberrypi.com/software/operating-systems/">https://www.raspberrypi.com/software/operating-systems/</a></p>


</section>
</section>

 ]]></description>
  <category>RasperryPi</category>
  <category>RaspberryPi Pico</category>
  <guid>https://www.sefiroth.de/posts/2026-02-20-einfach-eine-gute-seite-zum-thema-raspberrypi/</guid>
  <pubDate>Thu, 19 Feb 2026 23:00:00 GMT</pubDate>
</item>
<item>
  <title>Eine interessante trigonometrische Identität mit weitreichender Wirkung</title>
  <dc:creator>Norman Markgraf</dc:creator>
  <link>https://www.sefiroth.de/posts/2026-02-09-eine-trigonometrisch-identitaet-mit-weitreichender-wirkung/</link>
  <description><![CDATA[ 





<section id="eine-interessante-trigonometrische-identität-mit-weitreichender-wirkung" class="level1">
<h1>Eine interessante trigonometrische Identität mit weitreichender Wirkung</h1>
<p>Die folgende trigonometrische Identität ist nicht nur eine mathematische Kuriosität, sondern hat auch weitreichende Auswirkungen in verschiedenen Bereichen der Mathematik und Physik:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%20%20a%20%5Csin(x)%20+%20b%20%5Ccos(x)%20=%20%5Csqrt%7Ba%5E2%20+%20b%5E2%7D%20%5Ccdot%20%5Csin%5Cleft(x%20+%20%5Carctan%5Cleft(%5Cfrac%7Bb%7D%7Ba%7D%5Cright)%5Cright)%0A"></p>
<p>Diese Identität zeigt, dass eine lineare Kombination von Sinus- und Kosinusfunktionen in eine einzelne Sinusfunktion umgewandelt werden kann, die um einen bestimmten Winkel verschoben ist. Hier sind einige wichtige Punkte zu dieser Identität:</p>
<ol type="1">
<li><p><strong>Vereinfachung von Ausdrücken</strong>: Diese Identität ermöglicht es, komplexe trigonometrische Ausdrücke zu vereinfachen, indem sie in eine einzige Sinusfunktion umgewandelt werden.</p></li>
<li><p><strong>Anwendungen in der Physik</strong>: In der Physik, insbesondere in der Schwingungslehre und der Signalverarbeitung, wird diese Identität verwendet, um die Amplitude und Phase von Schwingungen zu bestimmen.</p></li>
<li><p><strong>Lösung von Gleichungen</strong>: Diese Identität kann auch bei der Lösung von trigonometrischen Gleichungen helfen, indem sie die Anzahl der Terme reduziert und die Gleichung leichter lösbar macht.</p></li>
<li><p><strong>Fourier-Analyse</strong>: In der Fourier-Analyse wird diese Identität verwendet, um die Fourier-Koeffizienten zu berechnen und die Frequenz und Phase von Signalen zu bestimmen.</p></li>
<li><p><strong>Laplace-Transformation</strong>: In der Laplace-Transformation wird diese Identität verwendet, um die Transformation von Funktionen zu vereinfachen und die Berechnung von Inversen zu erleichtern.</p></li>
</ol>
<p>Insgesamt ist diese trigonometrische Identität ein mächtiges Werkzeug, das in vielen Bereichen der Mathematik und Physik Anwendung findet und dazu beiträgt, komplexe Probleme zu lösen und das Verständnis von Schwingungen und Signalen zu vertiefen.</p>
<p>Schauen wir uns einmal die reale Fourier-Transformation an, um zu sehen, wie diese Identität in der Praxis angewendet wird. Die Fourier-Transformation eines Signals <img src="https://latex.codecogs.com/png.latex?f(t)"> ist definiert als: <img src="https://latex.codecogs.com/png.latex?%0AF(%5Comega)%20=%20%5Cint_%7B-%5Cinfty%7D%5E%7B%5Cinfty%7D%20f(t)%20e%5E%7B-i%20%5Comega%20t%7D%20dt%0A"> Wenn wir das Signal <img src="https://latex.codecogs.com/png.latex?f(t)"> als eine lineare Kombination von Sinus- und Kosinusfunktionen darstellen, können wir die obige Identität verwenden, um die Fourier-Koeffizienten zu berechnen und die Frequenz und Phase des Signals zu bestimmen. Dies ist besonders nützlich in der Signalverarbeitung, wo es wichtig ist, die Eigenschaften von Signalen zu analysieren und zu verstehen.</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%20%20F(%5Comega)%20=%20%5Cint_%7B-%5Cinfty%7D%5E%7B%5Cinfty%7D%20(a%20%5Csin(t)%20+%20b%20%5Ccos(t))%20e%5E%7B-i%20%5Comega%20t%7D%20dt%0A"></p>
<p>Durch die Anwendung der Identität können wir diesen Ausdruck vereinfachen und die Fourier-Koeffizienten berechnen, was uns wichtige Informationen über das Signal liefert, wie z.B. seine Frequenzkomponenten und Phasenverschiebungen. Dies zeigt, wie eine scheinbar einfache trigonometrische Identität in der Praxis eine wichtige Rolle spielt und weitreichende Auswirkungen hat.</p>
<p>Die Fourier-Reihenentwicklung eines Signals <img src="https://latex.codecogs.com/png.latex?f(t)"> kann auch durch die Anwendung dieser Identität vereinfacht werden. Wenn wir das Signal als eine Summe von Sinus- und Kosinusfunktionen darstellen, können wir die Identität verwenden, um die Koeffizienten der Fourier-Reihe zu berechnen und die Frequenz und Phase der einzelnen Komponenten zu bestimmen. Dies ist besonders nützlich in der Analyse von periodischen Signalen, wo es wichtig ist, die Eigenschaften der einzelnen Frequenzkomponenten zu verstehen.</p>
<p><img src="https://latex.codecogs.com/png.latex?%20%20%0A%20%20f(t)%20=%20%5Cfrac%7Ba_0%7D%7B2%7D%20+%20%5Csum_%7Bn=1%7D%5E%7B%5Cinfty%7D%20(a_n%20%5Ccos(nt)%20+%20b_n%20%5Csin(nt))%20%20%0A"></p>
<p>Durch die Anwendung der Identität können wir die Koeffizienten <img src="https://latex.codecogs.com/png.latex?a_n"> und <img src="https://latex.codecogs.com/png.latex?b_n"> berechnen und die Frequenz und Phase der einzelnen Komponenten der Fourier-Reihe bestimmen, was uns wichtige Informationen über das Signal liefert. Dies zeigt, wie eine einfache trigonometrische Identität in der Praxis eine wichtige Rolle spielt und weitreichende Auswirkungen hat.</p>
<p>Wir können die Fourier-Reihe nun nur mit Sinus (oder nur mit Kosinus) schreiben: <img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cbegin%7Balign*%7D%0A%20%20f(t)%20&amp;=%20%5Cfrac%7Ba_0%7D%7B2%7D%20+%20%5Csum_%7Bn=1%7D%5E%7B%5Cinfty%7D%20%5Csqrt%7Ba_n%5E2%20+%20b_n%5E2%7D%20%5Ccdot%20%5Csin%5Cleft(nt%20+%20%5Carctan%5Cleft(%5Cfrac%7Bb_n%7D%7Ba_n%7D%5Cright)%5Cright)%20%5C%5C%0A%20%20%20%20%20%20&amp;=%20%5Cfrac%7Ba_0%7D%7B2%7D%20+%20%5Csum_%7Bn=1%7D%5E%7B%5Cinfty%7D%20%5Csqrt%7Ba_n%5E2%20+%20b_n%5E2%7D%20%5Ccdot%20%5Ccos%5Cleft(nt%20-%20%5Carctan%5Cleft(%5Cfrac%7Bb_n%7D%7Ba_n%7D%5Cright)%5Cright)%0A%20%20%5Cend%7Balign*%7D%0A"> Setzen wir <img src="https://latex.codecogs.com/png.latex?A_n%20=%20%5Csqrt%7Ba_n%5E2%20+%20b_n%5E2%7D"> und <img src="https://latex.codecogs.com/png.latex?%5Cphi_n%20=%20%5Carctan%5Cleft(%5Cfrac%7Bb_n%7D%7Ba_n%7D%5Cright)">, so können wir die Fourier-Reihe in der folgenden Form schreiben: <img src="https://latex.codecogs.com/png.latex?%20%20%0A%20%20f(t)%20=%20%5Cfrac%7Ba_0%7D%7B2%7D%20+%20%5Csum_%7Bn=1%7D%5E%7B%5Cinfty%7D%20A_n%20%5Ccdot%20%5Csin(nt%20+%20%5Cphi_n)%0A"></p>
<p>oder <img src="https://latex.codecogs.com/png.latex?%0A%20%20f(t)%20=%20%5Cfrac%7Ba_0%7D%7B2%7D%20+%20%5Csum_%7Bn=1%7D%5E%7B%5Cinfty%7D%20A_n%20%5Ccdot%20%5Ccos(nt%20-%20%5Cphi_n)%0A"> Diese Form der Fourier-Reihe zeigt, dass jedes Signal als eine Summe von Sinus- oder Kosinusfunktionen dargestellt werden kann, wobei die Amplitude <img src="https://latex.codecogs.com/png.latex?A_n"> und die Phase <img src="https://latex.codecogs.com/png.latex?%5Cphi_n"> der einzelnen Komponenten durch die Koeffizienten der ursprünglichen Fourier-Reihe bestimmt werden. Dies ist ein weiteres Beispiel dafür, wie eine einfache trigonometrische Identität in der Praxis eine wichtige Rolle spielt und weitreichende Auswirkungen hat.</p>


</section>

 ]]></description>
  <category>Laplace</category>
  <category>Mathematik</category>
  <guid>https://www.sefiroth.de/posts/2026-02-09-eine-trigonometrisch-identitaet-mit-weitreichender-wirkung/</guid>
  <pubDate>Sun, 08 Feb 2026 23:00:00 GMT</pubDate>
</item>
<item>
  <title>Wie mensch manchmal ohne de L’Hospital auskommt</title>
  <dc:creator>Norman Markgraf</dc:creator>
  <link>https://www.sefiroth.de/posts/2026-02-05-wie-mensch-manchmal-ohne-de-lhospital-auskommt/</link>
  <description><![CDATA[ 





<section id="wie-mensch-manchmal-ohne-de-lhospital-auskommt" class="level1">
<h1>Wie mensch manchmal ohne de L’Hospital auskommt</h1>
<p>Brauchen wir um das folgende Problem zu lösen immer die Regel von de L’Hospital?</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Clim%5Climits_%7Bx%20%5Cto%201%7D%20%5Cfrac%7Bx%5E%7B%5Cfrac%7B1%7D%7B3%7D%7D-1%7D%7Bx%5E%7B%5Cfrac%7B1%7D%7B2%7D%7D-1%7D%0A"></p>
<p>Die Antwort ist ganz klar: <strong>Nein</strong>.</p>
<p>Manchmal, so wie in diesem Fall, reicht eine geschickte Substitution.</p>
<p>Ersetzen wir nämlich <img src="https://latex.codecogs.com/png.latex?x%5E%7B%5Cfrac%7B1%7D%7B6%7D%7D"> durch <img src="https://latex.codecogs.com/png.latex?t">, so beobachten wir: <img src="https://latex.codecogs.com/png.latex?%0A%20%20t%5E2%20=%20%5Cleft(x%5E%7B%5Cfrac%7B1%7D%7B6%7D%7D%5Cright)%5E2%0A%20%20%20%20%20%20=%20x%5E%7B%5Cfrac%7B1%7D%7B3%7D%7D%0A%20%20%5Cquad%20%5Ctext%7Bbzw.%7D%20%5Cquad%0A%20%20t%5E3%20=%20%5Cleft(x%5E%7B%5Cfrac%7B1%7D%7B6%7D%7D%5Cright)%5E3%0A%20%20%20%20%20%20=%20x%5E%7B%5Cfrac%7B1%7D%7B2%7D%7D%0A"></p>
<p>Ersetzen wir das nun in unserer Ursprünglichen Aufgabe so erhalten wir:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Clim%5Climits_%7Bt%20%5Cto%201%7D%20%5Cfrac%7Bt%5E2-1%7D%7Bt%5E3-1%7D%0A"> Sowohl der Zähler, als auch der Nenner lassen sich nun wie folgt umformulieren: <img src="https://latex.codecogs.com/png.latex?%0A%20%20t%5E2%20-%201%20=%20(t-1)%20(t+1)%0A"> <img src="https://latex.codecogs.com/png.latex?%0A%20%20t%5E3%20-%201%20=%20(t-1)%5Cleft(t%5E2+t+1%5Cright)%0A"></p>
<p>Der Bruch lässt sich somit umformen zu:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cfrac%7Bt%5E2-1%7D%7Bt%5E3-1%7D%20=%20%5Cfrac%7B(t-1)(t+1)%7D%7B(t-1)%5Cleft(t%5E2+t+1%5Cright)%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20=%20%5Cfrac%7Bt+1%7D%7Bt%5E2+t+1%7D%0A"> Und in die rechte Seite können wir <img src="https://latex.codecogs.com/png.latex?t=1"> ohne Probleme einsetzen und erhalten:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%20%20%20%5Clim%5Climits_%7Bx%20%5Cto%201%7D%20%5Cfrac%7Bx%5E%7B%5Cfrac%7B1%7D%7B3%7D%7D-1%7D%7Bx%5E%7B%5Cfrac%7B1%7D%7B2%7D%7D-1%7D%0A=%20%5Clim%5Climits_%7Bt%20%5Cto%201%7D%20%5Cfrac%7Bt%5E2-1%7D%7Bt%5E3-1%7D%0A=%20%5Clim%5Climits_%7Bt%20%5Cto%201%7D%20%5Cfrac%7Bt+1%7D%7Bt%5E2+t+1%7D%0A=%20%5Cfrac%7B1+1%7D%7B1%5E2+1+1%7D%0A=%20%5Cfrac%7B2%7D%7B3%7D%0A"></p>
<p>Die Idee ist klar. Da die Laufvariable gegen eine Nullstelle von Zähler und Nenner geht, müssen wir diese Nullstelle oben wie unten auskammern und wegkürzen. Um das zu erreichen muss unsere Substitution passen.</p>
<p>Im Hinterkopf haben wir dabei die Binomischen Formeln, insbesondere die 3. Binomische Formel: <img src="https://latex.codecogs.com/png.latex?%0A%20%20x%5E2-y%5E2%20=%20(x-y)(x+y)%0A"> Wir nutzen hier aber auch die Verallgemeinerung dieser Formel: <img src="https://latex.codecogs.com/png.latex?%0A%20%20x%5E3-y%5E3%20=%20(x-y)%5Cleft(x%5E2+xy+y%5E2%5Cright)%0A%20%20%5Cquad%5Ctext%7B%20und%20%7D%5Cquad%0A%20%20x%5E4-y%5E4%20=%20(x-y)%5Cleft(x%5E3+x%5E2y+xy%5E2+y%5E3%5Cright)%0A"> Oder für noch größere Exponenten: <img src="https://latex.codecogs.com/png.latex?%0A%20%20x%5En-y%5En%20=%20(x-y)%20%5Ccdot%5Cleft(%5Csum%5Climits_%7Bk=0%7D%5E%7Bn-1%7Dx%5Eky%5E%7Bn-k%7D%5Cright)%0A"></p>


</section>

 ]]></description>
  <category>de L&#39;Hospital</category>
  <category>Binomische Formeln</category>
  <category>Mathematik</category>
  <guid>https://www.sefiroth.de/posts/2026-02-05-wie-mensch-manchmal-ohne-de-lhospital-auskommt/</guid>
  <pubDate>Wed, 04 Feb 2026 23:00:00 GMT</pubDate>
</item>
<item>
  <title>Warum Exponentiation und Logarithmen wichtig sind in der Statistik.</title>
  <dc:creator>Norman Markgraf</dc:creator>
  <link>https://www.sefiroth.de/posts/2026-02-04-warum-exponentiation-und-logarithmen-wichtig-sind-in-der-statistik/</link>
  <description><![CDATA[ 





<section id="warum-exponentiation-und-logarithmen-wichtig-sind-in-der-statistik" class="level1">
<h1>Warum Exponentiation und Logarithmen wichtig sind in der Statistik</h1>
<p>Die Exponentiation und der Logarithmus sind wichtig in der Statistik, weil sie helfen, komplexe Zusammenhänge zu verstehen und zu modellieren. Hier sind einige Gründe, warum sie so wichtig sind:</p>
<ol type="1">
<li><p><strong>Daten Transformation</strong>: Viele statistische Modelle setzen voraus, dass die Daten normalverteilt sind. Durch die Anwendung von Logarithmen können schiefe Verteilungen in eine normalverteilte Form transformiert werden, was die Analyse erleichtert.</p></li>
<li><p><strong>Multiplikative Beziehungen</strong>: In vielen Fällen sind die Beziehungen zwischen Variablen multiplikativ statt additiv. Logarithmen ermöglichen es, diese Beziehungen in eine additive Form zu überführen, was die Interpretation und Modellierung vereinfacht.</p></li>
<li><p><strong>Wachstumsprozesse</strong>: Exponentielle Funktionen werden häufig verwendet, um Wachstumsprozesse zu modellieren, wie z.B. Bevölkerungswachstum oder Zinseszinsen. Logarithmen helfen dabei, diese Prozesse zu analysieren und zu verstehen.</p></li>
<li><p><strong>Linearisierung</strong>: Viele nicht-lineare Modelle können durch die Anwendung von Logarithmen linearisiert werden, was die Anwendung von linearen Regressionsmethoden ermöglicht.</p></li>
<li><p><strong>Skalierung</strong>: Logarithmische Skalen werden oft verwendet, um Daten darzustellen, die über mehrere Größenordnungen variieren, wie z.B. in der Finanzanalyse oder bei Messungen von Erdbebenstärken. Insgesamt sind Exponentiation und Logarithmen unverzichtbare Werkzeuge in der Statistik, die helfen, Daten zu transformieren, Beziehungen zu modellieren und komplexe Phänomene zu verstehen.</p></li>
</ol>
<section id="datentransformation-und-linearisierung-mit-exponentiation-und-logarithmes" class="level2">
<h2 class="anchored" data-anchor-id="datentransformation-und-linearisierung-mit-exponentiation-und-logarithmes">Datentransformation und Linearisierung mit Exponentiation und Logarithmes</h2>
<section id="beispiel-1-daten-transformation-mit-logarithmen" class="level3">
<h3 class="anchored" data-anchor-id="beispiel-1-daten-transformation-mit-logarithmen">Beispiel 1 – Daten Transformation mit Logarithmen</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" aria-controls="tabset-1-1" aria-selected="true" href="">R</a></li><li class="nav-item"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" aria-controls="tabset-1-2" aria-selected="false" href="">Python</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggplot2)</span>
<span id="cb1-2"></span>
<span id="cb1-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Beispiel in R: Log-Transformation einer schiefen Verteilung</span></span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">set.seed</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2009</span>)</span>
<span id="cb1-5">data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rexp</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1000</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">rate =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Exponentielle Verteilung</span></span>
<span id="cb1-6">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> data)</span>
<span id="cb1-7"></span>
<span id="cb1-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> df) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_histogram</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">bins =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">30</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lightblue"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Original Data"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">xlab</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Value"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>()</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2026-02-04-warum-exponentiation-und-logarithmen-wichtig-sind-in-der-statistik/index_files/figure-html/unnamed-chunk-1-1.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">df_log <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">log</span>(data))  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Log-Transformation</span></span>
<span id="cb2-2"></span>
<span id="cb2-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> df_log) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_histogram</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">bins =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">30</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lightgreen"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Log-Transformed Data"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">xlab</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Log(Value)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb2-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>()</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2026-02-04-warum-exponentiation-und-logarithmen-wichtig-sind-in-der-statistik/index_files/figure-html/unnamed-chunk-1-2.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> numpy <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> np</span>
<span id="cb3-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> matplotlib.pyplot <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> plt</span>
<span id="cb3-3"></span>
<span id="cb3-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Beispiel in Python: Log-Transformation einer schiefen Verteilung</span></span>
<span id="cb3-5"></span>
<span id="cb3-6">np.random.seed(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2009</span>)</span>
<span id="cb3-7"></span>
<span id="cb3-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Exponentielle Verteilung</span></span>
<span id="cb3-9">data <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> np.random.exponential(scale<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, size<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1000</span>)</span>
<span id="cb3-10">plt.hist(data, bins<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">30</span>, color<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'lightblue'</span>, alpha<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>)</span>
<span id="cb3-11">plt.title(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Original Data'</span>)</span>
<span id="cb3-12">plt.xlabel(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Value'</span>)</span>
<span id="cb3-13">plt.show()</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2026-02-04-warum-exponentiation-und-logarithmen-wichtig-sind-in-der-statistik/index_files/figure-html/unnamed-chunk-2-1.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1">plt.clf()</span>
<span id="cb4-2"></span>
<span id="cb4-3">log_data <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> np.log(data)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Log-Transformation</span></span>
<span id="cb4-4">plt.hist(log_data, bins<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">30</span>, color<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'lightgreen'</span>, alpha<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>)</span>
<span id="cb4-5">plt.title(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Log-Transformed Data'</span>)</span>
<span id="cb4-6">plt.xlabel(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Log(Value)'</span>)</span>
<span id="cb4-7">plt.show()</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2026-02-04-warum-exponentiation-und-logarithmen-wichtig-sind-in-der-statistik/index_files/figure-html/unnamed-chunk-2-2.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"></span>
<span id="cb5-2">plt.clf()</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2026-02-04-warum-exponentiation-und-logarithmen-wichtig-sind-in-der-statistik/index_files/figure-html/unnamed-chunk-2-3.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="beispiel-2-linearisierung-mit-logarithmen" class="level2">
<h2 class="anchored" data-anchor-id="beispiel-2-linearisierung-mit-logarithmen">Beispiel 2 – Linearisierung mit Logarithmen</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" aria-controls="tabset-2-1" aria-selected="true" href="">R</a></li><li class="nav-item"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" aria-controls="tabset-2-2" aria-selected="false" href="">Python</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggplot2)</span>
<span id="cb6-2"></span>
<span id="cb6-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Beispiel in R: Linearisierung einer exponentiellen Beziehung</span></span>
<span id="cb6-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">set.seed</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2009</span>)</span>
<span id="cb6-5"></span>
<span id="cb6-6">x <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)</span>
<span id="cb6-7">y <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">exp</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> x) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">length</span>(x),</span>
<span id="cb6-8">                 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sd =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Exponentielle Beziehung mit Rauschen</span></span>
<span id="cb6-9">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> y)</span>
<span id="cb6-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> y), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> df) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"blue"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Exponentielle Beziehung"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"X"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Y"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>()</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2026-02-04-warum-exponentiation-und-logarithmen-wichtig-sind-in-der-statistik/index_files/figure-html/unnamed-chunk-3-7.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">log_y <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">log</span>(y)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Log-Transformation von Y</span></span>
<span id="cb7-2">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> log_y)</span>
<span id="cb7-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> y), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> df) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Linearisierte Beziehung"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"X"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Log(Y)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>()</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2026-02-04-warum-exponentiation-und-logarithmen-wichtig-sind-in-der-statistik/index_files/figure-html/unnamed-chunk-3-8.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> numpy <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> np</span>
<span id="cb8-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> matplotlib.pyplot <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> plt</span>
<span id="cb8-3"></span>
<span id="cb8-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Beispiel in Python: Linearisierung einer exponentiellen Beziehung</span></span>
<span id="cb8-5">np.random.seed(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2009</span>)</span>
<span id="cb8-6"></span>
<span id="cb8-7">x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> np.arange(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">10.1</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>)</span>
<span id="cb8-8">y <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> np.exp(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> x) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> np.random.normal(</span>
<span id="cb8-9">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, size<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">len</span>(x) </span>
<span id="cb8-10">    )</span>
<span id="cb8-11">plt.scatter(x, y, color<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'blue'</span>)</span>
<span id="cb8-12">plt.title(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Exponentielle Beziehung'</span>)</span>
<span id="cb8-13">plt.xlabel(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'X'</span>)</span>
<span id="cb8-14">plt.ylabel(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Y'</span>)</span>
<span id="cb8-15">plt.show()</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2026-02-04-warum-exponentiation-und-logarithmen-wichtig-sind-in-der-statistik/index_files/figure-html/unnamed-chunk-4-1.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1">plt.clf()</span>
<span id="cb9-2"></span>
<span id="cb9-3">log_y <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> np.log(y)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Log-Transformation von Y</span></span></code></pre></div></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;string&gt;:2: RuntimeWarning: invalid value encountered in log</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1">plt.scatter(x, log_y, color<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'red'</span>)</span>
<span id="cb11-2">plt.title(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Linearisierte Beziehung'</span>)</span>
<span id="cb11-3">plt.xlabel(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'X'</span>)</span>
<span id="cb11-4">plt.ylabel(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Log(Y)'</span>)</span>
<span id="cb11-5">plt.show()</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2026-02-04-warum-exponentiation-und-logarithmen-wichtig-sind-in-der-statistik/index_files/figure-html/unnamed-chunk-4-2.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"></span>
<span id="cb12-2">plt.clf()</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2026-02-04-warum-exponentiation-und-logarithmen-wichtig-sind-in-der-statistik/index_files/figure-html/unnamed-chunk-4-3.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="multiplikative-beziehungen" class="level2">
<h2 class="anchored" data-anchor-id="multiplikative-beziehungen">Multiplikative Beziehungen</h2>
<p>Logarithmen sind besonders nützlich, um multiplikative Beziehungen zwischen Variablen zu modellieren. Wenn die Beziehung zwischen zwei Variablen durch eine Multiplikation beschrieben wird, kann die Anwendung des Logarithmus diese Beziehung in eine additive Form überführen, was die Analyse und Interpretation erleichtert. <img src="https://latex.codecogs.com/png.latex?%0A%20%20y%20=%20a%20%5Ccdot%20x_1%5E%7Bb_1%7D%20%5Ccdot%20x_2%5E%7Bb_2%7D%20%5Ccdots%20x_n%5E%7Bb_n%7D%0A"> Durch die Anwendung des Logarithmus auf beide Seiten der Gleichung erhalten wir: <img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Clog(y)%20=%20%5Clog(a)%20+%20b_1%20%5Ccdot%20%5Clog(x_1)%20+%20b_2%20%5Ccdot%20%5Clog(x_2)%20+%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Ccdots%20+%20b_n%20%5Ccdot%20%5Clog(x_n)%0A"> Diese Transformation ermöglicht es, die multiplikative Beziehung als lineare Kombination der logarithmierten Variablen darzustellen, was die Anwendung von linearen Regressionsmethoden erleichtert.</p>
<p>In der Statistik und Datenanalyse wird diese Technik häufig verwendet, um Modelle zu erstellen, die besser zu den Daten passen und leichter zu interpretieren sind.</p>
<p>Zum Beispiel bei der log-likelihood-Funktion in der Maximum-Likelihood-Schätzung oder bei der Analyse von Wachstumsprozessen, bei denen die Wachstumsraten oft als multiplikative Effekte modelliert werden.</p>
<p>Wenn Statisiker log-likelihood-Funktionen verwenden, dann u.a. aus diesen Gründen:</p>
<p><strong>Monotonie:</strong> Logarithmen sind streng monoton wachsend, was bedeutet, dass die Maximierung der log-likelihood-Funktion äquivalent zur Maximierung der ursprünglichen likelihood-Funktion ist. Dies erleichtert die Optimierung erheblich.</p>
<p><strong>Produkte wandeln sich zu Summen:</strong> Für unabhängige Beobachtungen gilt</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%20%20L(%5Ctheta)%20=%20%5Cprod_%7Bi=1%7D%5E%7Bn%7D%20f(x_i%20%5Cmid%20%5Ctheta),%0A"></p>
<p>welche mit dem Logarithmus zu</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Clog%20L(%5Ctheta)%20=%20%5Csum_%7Bi=1%7D%5E%7Bn%7D%20%5Clog%20f(x_i%20%5Cmid%20%5Ctheta)%0A"> wird.</p>
<p>Dies vereinfacht die Berechnungen und reduziert numerische Instabilitäten, die bei der Arbeit mit sehr kleinen Wahrscheinlichkeiten auftreten können.</p>
<p><strong>Anti-Symmetrie:</strong> Beim vergleich zweier Modelle <img src="https://latex.codecogs.com/png.latex?M_1"> und <img src="https://latex.codecogs.com/png.latex?M_2"> mit Likelihoods <img src="https://latex.codecogs.com/png.latex?L_1"> und <img src="https://latex.codecogs.com/png.latex?L_2"> ist der Log-Likelihood-Ratio</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%20%20%5Clog%5Cleft(%5Cfrac%7BL_1%7D%7BL_2%7D%5Cright)%20&amp;=%20%5Clog(L_1)%20-%20%5Clog(L_2)%20%5C%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20&amp;=%20-%20%5Clog(L_2)%20+%20%5Clog(L_1)%20%5C%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20&amp;=%20-%5Cleft(%5Clog(L_2)%20-%20%5Clog(L_1)%5Cright)%20%5C%5C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20&amp;=%20-%20%5Clog%5Cleft(%5Cfrac%7BL_2%7D%7BL_1%7D%5Cright).%0A%5Cend%7Baligned%7D%0A"></p>
<p>Das bedeutet, dass der Log-Likelihood-Ratio anti-symmetrisch ist, was bei der Interpretation von Modellen hilfreich sein kann.</p>
<p>So ist die Evidenz für Modell <img src="https://latex.codecogs.com/png.latex?M_1"> gegenüber Modell <img src="https://latex.codecogs.com/png.latex?M_2"> genau das negative der Evidenz für Modell <img src="https://latex.codecogs.com/png.latex?M_2"> gegenüber Modell <img src="https://latex.codecogs.com/png.latex?M_1">.</p>
<section id="beispiel-3-multiplikative-beziehungen-mit-logarithmen" class="level3">
<h3 class="anchored" data-anchor-id="beispiel-3-multiplikative-beziehungen-mit-logarithmen">Beispiel 3 – Multiplikative Beziehungen mit Logarithmen</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" aria-controls="tabset-3-1" aria-selected="true" href="">R</a></li><li class="nav-item"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" aria-controls="tabset-3-2" aria-selected="false" href="">Python</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggplot2)</span>
<span id="cb13-2"></span>
<span id="cb13-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Beispiel in R: Multiplikative Beziehung</span></span>
<span id="cb13-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">set.seed</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2009</span>)</span>
<span id="cb13-5">x1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">runif</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span>
<span id="cb13-6">x2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">runif</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span>
<span id="cb13-7">y <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> x1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">^</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> x2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">^</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span></span>
<span id="cb13-8">                 , <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sd =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Multiplikative Beziehung mit Rauschen</span></span>
<span id="cb13-9">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x1 =</span> x1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x2 =</span> x2, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> y)</span>
<span id="cb13-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> y), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> df) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb13-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"blue"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb13-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Multiplikative Beziehung"</span>, </span>
<span id="cb13-13">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"X1"</span>, </span>
<span id="cb13-14">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Y"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb13-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>()</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2026-02-04-warum-exponentiation-und-logarithmen-wichtig-sind-in-der-statistik/index_files/figure-html/unnamed-chunk-5-7.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1">log_y <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">log</span>(y)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Log-Transformation von Y</span></span>
<span id="cb14-2">log_x1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">log</span>(x1)</span>
<span id="cb14-3">log_x2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">log</span>(x2)</span>
<span id="cb14-4">df_log <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x1 =</span> log_x1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x2 =</span> log_x2, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> log_y)</span>
<span id="cb14-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> x1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> y), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> df_log) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb14-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb14-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Additive Beziehung nach Log-Transformation"</span>, </span>
<span id="cb14-8">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Log(X1)"</span>, </span>
<span id="cb14-9">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Log(Y)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb14-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_minimal</span>()</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2026-02-04-warum-exponentiation-und-logarithmen-wichtig-sind-in-der-statistik/index_files/figure-html/unnamed-chunk-5-8.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> numpy <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> np</span>
<span id="cb15-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> matplotlib.pyplot <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> plt</span>
<span id="cb15-3"></span>
<span id="cb15-4">np.random.seed(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2009</span>)</span>
<span id="cb15-5">x1 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> np.random.uniform(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>)</span>
<span id="cb15-6">x2 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> np.random.uniform(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>)</span>
<span id="cb15-7"></span>
<span id="cb15-8">y <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> x1<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">**</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> x2<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">**</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> np.random.normal(</span>
<span id="cb15-9">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, size<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Multiplikative Beziehung mit Rauschen</span></span>
<span id="cb15-10">    </span>
<span id="cb15-11">plt.scatter(x1, y, color<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'blue'</span>)</span>
<span id="cb15-12">plt.title(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Multiplikative Beziehung'</span>)</span>
<span id="cb15-13">plt.xlabel(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'X1'</span>)</span>
<span id="cb15-14">plt.ylabel(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Y'</span>)</span>
<span id="cb15-15">plt.show()</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2026-02-04-warum-exponentiation-und-logarithmen-wichtig-sind-in-der-statistik/index_files/figure-html/unnamed-chunk-6-1.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1">plt.clf()</span>
<span id="cb16-2">log_y <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> np.log(y)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Log-Transformation von Y</span></span>
<span id="cb16-3">log_x1 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> np.log(x1)</span>
<span id="cb16-4">log_x2 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> np.log(x2)</span>
<span id="cb16-5">plt.scatter(log_x1, log_y, color<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'red'</span>)</span>
<span id="cb16-6">plt.title(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Additive Beziehung nach Log-Transformation'</span>)</span>
<span id="cb16-7">plt.xlabel(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Log(X1)'</span>)</span>
<span id="cb16-8">plt.ylabel(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Log(Y)'</span>)</span>
<span id="cb16-9">plt.show()</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2026-02-04-warum-exponentiation-und-logarithmen-wichtig-sind-in-der-statistik/index_files/figure-html/unnamed-chunk-6-2.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1">plt.clf()</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2026-02-04-warum-exponentiation-und-logarithmen-wichtig-sind-in-der-statistik/index_files/figure-html/unnamed-chunk-6-3.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="fazit" class="level2">
<h2 class="anchored" data-anchor-id="fazit">Fazit</h2>
<p>Exponentiation und Logarithmen sind mächtige Werkzeuge in der Statistik, die es ermöglichen, Daten zu transformieren, Beziehungen zu modellieren und komplexe Phänomene zu verstehen. Durch die Anwendung dieser mathematischen Konzepte können Statistiker und Datenwissenschaftler tiefere Einblicke in ihre Daten gewinnen und präzisere Modelle erstellen.</p>


</section>
</section>

 ]]></description>
  <category>Statistik</category>
  <category>Logarithmen</category>
  <category>Exponentiation</category>
  <category>Likelihood</category>
  <category>Log-Likelihood</category>
  <guid>https://www.sefiroth.de/posts/2026-02-04-warum-exponentiation-und-logarithmen-wichtig-sind-in-der-statistik/</guid>
  <pubDate>Tue, 03 Feb 2026 23:00:00 GMT</pubDate>
</item>
<item>
  <title>kitty: Der schnelle, feature-reiche, GPU-basierte Terminal-Emulator</title>
  <dc:creator>Norman Markgraf</dc:creator>
  <link>https://www.sefiroth.de/posts/2026-01-30-kitty-der_schnelle_gpu_basierte_terminal_emulator/</link>
  <description><![CDATA[ 





<section id="einführung" class="level2">
<h2 class="anchored" data-anchor-id="einführung">Einführung</h2>
<p>In der Welt der Terminal-Emulatoren gibt es viele Optionen, aber nur wenige bieten die Kombination aus Geschwindigkeit, Funktionsreichtum und moderner Technologie wie <strong>kitty</strong>.</p>
</section>
<section id="was-ist-kitty" class="level2">
<h2 class="anchored" data-anchor-id="was-ist-kitty">Was ist kitty?</h2>
<p>Kitty ist ein moderner, GPU-basierter Terminal-Emulator, der auf Leistung und Benutzerfreundlichkeit ausgelegt ist. Es nutzt die Grafikprozessoren (GPUs) moderner Computer, um eine flüssige und schnelle Darstellung von Text und Grafiken zu gewährleisten. Dies macht kitty besonders geeignet für Entwickler, die viel Zeit im Terminal verbringen.</p>
</section>
<section id="installation" class="level2">
<h2 class="anchored" data-anchor-id="installation">Installation</h2>
<p>Die Installation von kitty ist einfach und kann auf verschiedenen Betriebssystemen durchgeführt werden. Hier sind die grundlegenden Schritte für die Installation auf Linux und macOS:</p>
<p><strong>Linux/macOS</strong>: - Laden Sie das Installationsskript herunter und führen Sie es aus:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">curl</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-L</span> https://sw.kovidgoyal.net/kitty/installer.sh <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sh</span> /dev/stdin</span></code></pre></div></div>
<ul>
<li>Fügen Sie kitty zu Ihrem PATH hinzu, indem Sie die folgende Zeile zu Ihrer <code>.bashrc</code> oder <code>.zshrc</code> hinzufügen:</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">export</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">PATH</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$HOME</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">/.local/kitty/bin:</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$PATH</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span></code></pre></div></div>
</section>
<section id="hauptmerkmale-von-kitty" class="level2">
<h2 class="anchored" data-anchor-id="hauptmerkmale-von-kitty">Hauptmerkmale von kitty</h2>
<p>Kitty bietet eine Vielzahl von Funktionen, die es von anderen Terminal-Emulatoren abheben:</p>
<ol type="1">
<li><p><strong>GPU-Beschleunigung</strong>: Durch die Nutzung der GPU für die Textdarstellung bietet kitty eine außergewöhnliche Leistung, insbesondere bei der Anzeige von großen Textmengen oder komplexen Grafiken.</p></li>
<li><p><strong>Tabs und Fenster</strong>: Kitty unterstützt mehrere Tabs und Fenster, sodass Sie Ihre Arbeitsumgebung effizient organisieren können.</p></li>
<li><p><strong>Grafikunterstützung</strong>: Kitty kann Bilder direkt im Terminal anzeigen, was es ideal für Entwickler macht, die mit Grafiken arbeiten.</p></li>
<li><p><strong>Anpassbare Tastenkombinationen</strong>: Sie können Ihre eigenen Tastenkombinationen definieren, um Ihre Produktivität zu steigern.</p></li>
<li><p><strong>Remote-Verbindungen</strong>: Kitty unterstützt SSH und andere Remote-Protokolle, sodass Sie nahtlos auf entfernte Systeme zugreifen können.</p></li>
<li><p><strong>Leistungsstarke Konfiguration</strong>: Kitty bietet eine umfangreiche Konfigurationsdatei, mit der Sie das Verhalten und Aussehen des Terminals an Ihre Bedürfnisse anpassen können.</p></li>
</ol>
</section>
<section id="warum-kitty-verwenden" class="level2">
<h2 class="anchored" data-anchor-id="warum-kitty-verwenden">Warum kitty verwenden?</h2>
<p>Es gibt mehrere Gründe, warum Sie kitty als Ihren bevorzugten Terminal-Emulator in Betracht ziehen sollten:</p>
<ul>
<li><p><strong>Leistung</strong>: Die GPU-Beschleunigung sorgt für eine reibungslose und schnelle Benutzererfahrung.</p></li>
<li><p><strong>Funktionsreichtum</strong>: Mit einer Vielzahl von Funktionen und Anpassungsmöglichkeiten bietet kitty eine flexible Arbeitsumgebung.</p></li>
<li><p><strong>Aktive Entwicklung</strong>: Kitty wird aktiv weiterentwickelt, was bedeutet, dass Sie regelmäßig neue Funktionen und Verbesserungen erhalten.</p></li>
<li><p><strong>Open Source</strong>: Kitty ist Open Source, was bedeutet, dass Sie den Quellcode einsehen und anpassen können.</p></li>
</ul>
</section>
<section id="fazit" class="level2">
<h2 class="anchored" data-anchor-id="fazit">Fazit</h2>
<p>Kitty ist ein leistungsstarker und funktionsreicher Terminal-Emulator, der sich durch seine GPU-Beschleunigung und Anpassungsfähigkeit auszeichnet. Egal, ob Sie ein Entwickler sind, der viel Zeit im Terminal verbringt, oder einfach nur einen schnellen und zuverlässigen Terminal-Emulator suchen, kitty ist definitiv eine Überlegung wert.</p>
<p>Link: <a href="https://sw.kovidgoyal.net/kitty/">Offizielle kitty-Website</a></p>


</section>

 ]]></description>
  <category>terminal-emulator</category>
  <category>kitty</category>
  <category>gpu</category>
  <guid>https://www.sefiroth.de/posts/2026-01-30-kitty-der_schnelle_gpu_basierte_terminal_emulator/</guid>
  <pubDate>Thu, 29 Jan 2026 23:00:00 GMT</pubDate>
</item>
<item>
  <title>B-Bäume und mehr: Ein Vergleich von Python-Implementierungen</title>
  <dc:creator>Norman Markgraf</dc:creator>
  <link>https://www.sefiroth.de/posts/2026-01-04-b-baeume-und-mehr/</link>
  <description><![CDATA[ 





<section id="einführung" class="level2">
<h2 class="anchored" data-anchor-id="einführung">Einführung</h2>
<p>B-Bäume sind eine Art von selbstbalancierenden Suchbäumen, die in Datenbanken und Dateisystemen weit verbreitet sind. In diesem Beitrag werde ich verschiedene Python-Implementierungen von B-Bäumen vergleichen und ihre Vor- und Nachteile diskutieren.</p>
</section>
<section id="implementierungen-im-vergleich" class="level2">
<h2 class="anchored" data-anchor-id="implementierungen-im-vergleich">Implementierungen im Vergleich</h2>
<ol type="1">
<li><strong>bintrees</strong>: Diese Bibliothek bietet eine einfache Implementierung von B-Bäumen und anderen Baumstrukturen. Sie ist leicht zu verwenden und gut dokumentiert, aber möglicherweise nicht die leistungsfähigste Option für große Datenmengen.</li>
<li><strong>bplustree</strong>: Diese Bibliothek implementiert B+-Bäume, eine Variante von B-Bäumen, die für Datenbankanwendungen optimiert ist. Sie bietet gute Leistung und Skalierbarkeit, erfordert jedoch ein tieferes Verständnis der B+-Baum-Struktur.</li>
<li><strong>pybloom-live</strong>: Obwohl hauptsächlich für Bloom-Filter gedacht, enthält diese Bibliothek auch eine B-Baum-Implementierung. Sie ist nützlich für Anwendungen, die sowohl Bäume als auch probabilistische Datenstrukturen benötigen.</li>
<li><strong>btree</strong>: Diese Implementierung ist in der Standardbibliothek von Python enthalten und bietet grundlegende B-Baum-Funktionalitäten. Sie ist einfach zu verwenden, aber möglicherweise nicht so leistungsfähig wie spezialisierte Bibliotheken.</li>
</ol>
</section>
<section id="leistungstest" class="level2">
<h2 class="anchored" data-anchor-id="leistungstest">Leistungstest</h2>
<p>Um die Leistung der verschiedenen Implementierungen zu vergleichen, habe ich einen einfachen Test durchgeführt, bei dem ich eine große Anzahl von Einfügungen und Suchvorgängen durchgeführt habe. Hier sind die Ergebnisse:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> time</span>
<span id="cb1-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> bintrees <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> FastRBTree</span>
<span id="cb1-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> bplustree <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> BPlusTree</span>
<span id="cb1-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Testdaten</span></span>
<span id="cb1-5">data <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">list</span>(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">range</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100000</span>))</span>
<span id="cb1-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># bintrees Test</span></span>
<span id="cb1-7">bintree <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> FastRBTree()</span>
<span id="cb1-8">start_time <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> time.time()</span>
<span id="cb1-9"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> item <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> data:</span>
<span id="cb1-10">    bintree.insert(item, item)</span>
<span id="cb1-11">bintree_time <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> time.time() <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> start_time</span>
<span id="cb1-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># bplustree Test</span></span>
<span id="cb1-13">bplustree <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> BPlusTree(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'bplustree.db'</span>, order<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span>)</span>
<span id="cb1-14">start_time <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> time.time()</span>
<span id="cb1-15"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> item <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> data:</span>
<span id="cb1-16">    bplustree.insert(item, item)</span>
<span id="cb1-17">bplustree_time <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> time.time() <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> start_time</span>
<span id="cb1-18"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"bintrees Einfügezeit: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>bintree_time<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;"> Sekunden"</span>)</span>
<span id="cb1-19"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"bplustree Einfügezeit: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>bplustree_time<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;"> Sekunden"</span>)</span></code></pre></div></div>
<p>Die Ergebnisse zeigten, dass <code>bplustree</code> bei großen Datenmengen eine bessere Leistung erzielte, insbesondere bei Suchvorgängen, während <code>bintrees</code> für kleinere Datensätze ausreichend war.</p>
</section>
<section id="fazit" class="level2">
<h2 class="anchored" data-anchor-id="fazit">Fazit</h2>
<p>Die Wahl der richtigen B-Baum-Implementierung hängt stark von den spezifischen Anforderungen Ihres Projekkts ab. Für einfache Anwendungen kann <code>bintrees</code> ausreichend sein, während <code>bplustree</code> besser für komplexe Datenbankanwendungen geeignet ist. Es lohnt sich, die verschiedenen Optionen zu testen, um die beste Leistung für Ihre spezifischen Anwendungsfälle zu erzielen. Unabhängig von der gewählten Implementierung bieten B-Bäume eine effiziente Möglichkeit, große Datenmengen zu verwalten und zu durchsuchen. Ich hoffe, dieser Vergleich hilft Ihnen bei der Auswahl der richtigen B-Baum-Implementierung für Ihre Python-Projekte! Happy Coding! 🚀</p>


</section>

 ]]></description>
  <category>Python</category>
  <guid>https://www.sefiroth.de/posts/2026-01-04-b-baeume-und-mehr/</guid>
  <pubDate>Sat, 03 Jan 2026 23:00:00 GMT</pubDate>
</item>
<item>
  <title>Das Lotto-Abbildungsproblem</title>
  <dc:creator>Norman Markgraf</dc:creator>
  <link>https://www.sefiroth.de/posts/2025-12-22-das-lotto-abbildungs-problem/</link>
  <description><![CDATA[ 





<section id="die-beschreibung" class="level1">
<h1>Die Beschreibung</h1>
<p>Jeder, der Kombinatorik oder Wahrscheinlichkeitsrechnung studiert hat, kennt das klassische Lotto-Problem: Aus einer Menge von 49 Zahlen werden 6 Zahlen ohne Zurücklegen gezogen. Wie viele verschiedene Kombinationen sind möglich?</p>
<p>Die Antwort ist bekanntlich: <img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cbinom%7B49%7D%7B6%7D%20=%20%5Cfrac%7B49!%7D%7B6!(49-6)!%7D%20=%2013%5C,983%5C,816%0A"></p>
<p>Aber viele sehen nicht, dass dies auch bedeutet, dass jedes Ziehungsergebnis ein-ein-deutig auf die Zahlen <img src="https://latex.codecogs.com/png.latex?1"> bis <img src="https://latex.codecogs.com/png.latex?13%5C,983%5C,816"> abbildet. Genauer, es gibt (mindestens) eine Abbilung aus <img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BL%7D%20=%20%5C%7B1,%202,%20%5Cldots,%2049%5C%7D"> in <img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BM%7D%20=%20%5C%7Bq,%201,%202,%20%5Cldots,%2013%5C,983%5C,816%5C%7D">, so dass jede 6-elementige Teilmenge von <img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BL%7D"> auf ein eindeutiges Element von <img src="https://latex.codecogs.com/png.latex?%5Cmathcal%7BM%7D"> abgebildet wird.</p>
</section>
<section id="die-frage" class="level1">
<h1>Die Frage</h1>
<p><strong>Wie sieht so eine Abbildung aus und vorallem wie lautet die Umkehrabbildung?</strong></p>
</section>
<section id="eine-mögliche-lösung" class="level1">
<h1>Eine mögliche Lösung</h1>
<p>Wir können die Abbildung konstruieren, indem wir die 6 gezogenen Zahlen sortieren und dann eine lexikographische Ordnung verwenden, um jede Kombination zu nummerieren. Angenommen, die gezogenen Zahlen sind <img src="https://latex.codecogs.com/png.latex?a_1%20%3C%20a_2%20%3C%20a_3%20%3C%20a_4%20%3C%20a_5%20%3C%20a_6">. Dann können wir die Abbildung <img src="https://latex.codecogs.com/png.latex?f:%20%5Cmathcal%7BL%7D%5E6%20%5Cto%20%5Cmathcal%7BM%7D"> wie folgt definieren:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0Af(a_1,%20a_2,%20a_3,%20a_4,%20a_5,%20a_6)%20=%20%5Csum_%7Bi=1%7D%5E%7B6%7D%20%5Cbinom%7Ba_i%20-%201%7D%7Bi%7D%0A"></p>
<p>Hierbei ist <img src="https://latex.codecogs.com/png.latex?%5Cbinom%7Bn%7D%7Bk%7D"> der Binomialkoeffizient, der die Anzahl der Möglichkeiten angibt, <img src="https://latex.codecogs.com/png.latex?k"> Elemente aus einer Menge von <img src="https://latex.codecogs.com/png.latex?n"> Elementen auszuwählen.</p>
<p>Diese Abbildung ist eindeutig, da jede Kombination von 6 Zahlen eine eindeutige Summe von Binomialkoeffizienten ergibt.</p>
<p>Die Umkehrabbildung <img src="https://latex.codecogs.com/png.latex?f%5E%7B-1%7D:%20%5Cmathcal%7BM%7D%20%5Cto%20%5Cmathcal%7BL%7D%5E6"> kann durch eine iterative Methode konstruiert werden, bei der wir die größte Zahl <img src="https://latex.codecogs.com/png.latex?a_6"> bestimmen, die noch in die Summe passt, dann <img src="https://latex.codecogs.com/png.latex?a_5">, und so weiter, bis wir alle 6 Zahlen gefunden haben.</p>
<p>Hier ist ein Beispiel für die Umkehrabbildung:</p>
<ol type="1">
<li><p>Setze <img src="https://latex.codecogs.com/png.latex?n%20=%20f(a_1,%20a_2,%20a_3,%20a_4,%20a_5,%20a_6)">.</p></li>
<li><p>Für <img src="https://latex.codecogs.com/png.latex?i"> von 6 bis 1:</p>
<ul>
<li><p>Finde die größte Zahl <img src="https://latex.codecogs.com/png.latex?a_i"> such that <img src="https://latex.codecogs.com/png.latex?%5Cbinom%7Ba_i%20-%201%7D%7Bi%7D%20%5Cleq%20n">.</p></li>
<li><p>Setze <img src="https://latex.codecogs.com/png.latex?n%20=%20n%20-%20%5Cbinom%7Ba_i%20-%201%7D%7Bi%7D">.</p></li>
</ul></li>
<li><p>Gib die Zahlen <img src="https://latex.codecogs.com/png.latex?a_1,%20a_2,%20a_3,%20a_4,%20a_5,%20a_6"> zurück.</p></li>
</ol>
<p>Diese Methode garantiert, dass wir die ursprünglichen gezogenen Zahlen zurückerhalten, da wir die gleiche Logik wie in der Vorwärtsabbildung verwenden, aber in umgekehrter Reihenfolge.</p>
</section>
<section id="fazit" class="level1">
<h1>Fazit</h1>
<p>Die Abbildung des Lotto-Problems zeigt, wie kombinatorische Konzepte verwendet werden können, um eindeutige Zuordnungen zwischen Mengen zu erstellen. Diese Art von Abbildungen ist nicht nur in der Mathematik interessant, sondern findet auch Anwendungen in Bereichen wie Kryptographie und Datenkompression.</p>
</section>
<section id="implementierung-in-r-und-python" class="level1">
<h1>Implementierung in R und Python</h1>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" aria-controls="tabset-1-1" aria-selected="true" href="">R</a></li><li class="nav-item"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" aria-controls="tabset-1-2" aria-selected="false" href="">Python</a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-1-1" class="tab-pane active" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># R-Code zur Berechnung der Abbildung und Umkehrabbildung</span></span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(gmp)</span>
<span id="cb1-3"></span>
<span id="cb1-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Funktion zur Berechnung der Abbildung</span></span>
<span id="cb1-5">lotto_abbildung <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(a) {</span>
<span id="cb1-6">  t <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sort</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unique</span>(a))</span>
<span id="cb1-7">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> (<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">length</span>(t) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">||</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">any</span>(t <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">||</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">any</span>(t <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">49</span>)) {</span>
<span id="cb1-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">stop</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Eingabe muss 6 eindeutige Zahlen zwischen 1 und 49 sein."</span>)</span>
<span id="cb1-9">  }</span>
<span id="cb1-10">  l <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sapply</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>, <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(i) <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">chooseZ</span>(a[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, i), </span>
<span id="cb1-11">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">simplify =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"array"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">USE.NAMES =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">FALSE</span>)</span>
<span id="cb1-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">return</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>l[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> l[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>]] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> l[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>]] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> l[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>]] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> l[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>]] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> l[[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>]])</span>
<span id="cb1-13">}</span>
<span id="cb1-14"></span>
<span id="cb1-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Funktion zur Berechnung der Umkehrabbildung</span></span>
<span id="cb1-16">lotto_umkehrabbildung <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(n) {</span>
<span id="cb1-17">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> (n <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">||</span> n <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">chooseZ</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">49</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>)) {</span>
<span id="cb1-18">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">stop</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Eingabe muss zwischen 1 und 13.983.816 liegen."</span>)</span>
<span id="cb1-19">  }</span>
<span id="cb1-20">  a <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">integer</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>)</span>
<span id="cb1-21">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> (i <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) {</span>
<span id="cb1-22">    a[i] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">which</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">chooseZ</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">49</span>, i) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> n))</span>
<span id="cb1-23">    n <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> n <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">chooseZ</span>(a[i] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, i)</span>
<span id="cb1-24">  }</span>
<span id="cb1-25">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">return</span>(a)</span>
<span id="cb1-26">}</span></code></pre></div></div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Python-Code zur Berechnung der Abbildung und Umkehrabbildung</span></span>
<span id="cb2-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> math <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> comb</span>
<span id="cb2-3"></span>
<span id="cb2-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Funktion zur Berechnung der Abbildung</span></span>
<span id="cb2-5"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> lotto_abbildung(a):</span>
<span id="cb2-6">    a <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">sorted</span>(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">set</span>(a))</span>
<span id="cb2-7">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">len</span>(a) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">or</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">any</span>(x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">or</span> x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">49</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> x <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> a):</span>
<span id="cb2-8">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">raise</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">ValueError</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Eingabe muss 6 eindeutige Zahlen zwischen 1 und 49 sein."</span>)</span>
<span id="cb2-9">    l <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [comb(a[i] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, i <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> i <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">range</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>)]</span>
<span id="cb2-10">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">sum</span>(l)</span>
<span id="cb2-11"></span>
<span id="cb2-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Funktion zur Berechnung der Umkehrabbildung</span></span>
<span id="cb2-13"><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">def</span> lotto_umkehrabbildung(n):</span>
<span id="cb2-14">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> n <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">or</span> n <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> comb(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">49</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>):</span>
<span id="cb2-15">        <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">raise</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">ValueError</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Eingabe muss zwischen 0 und 13.983.816 liegen."</span>)</span>
<span id="cb2-16">    a <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span></span>
<span id="cb2-17">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> i <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">range</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>):</span>
<span id="cb2-18">        tmp <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">max</span>(k <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">for</span> k <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">in</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">range</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span>) <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> comb(k, i <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> n)</span>
<span id="cb2-19">        a[i] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> tmp</span>
<span id="cb2-20">        n <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-=</span> comb(tmp, i <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb2-21">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">return</span> a</span></code></pre></div></div>
</div>
</div>
</div>
</div>
</section>
<section id="beispiel" class="level1">
<h1>Beispiel</h1>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" aria-controls="tabset-2-1" aria-selected="true" href="">R</a></li><li class="nav-item"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" aria-controls="tabset-2-2" aria-selected="false" href="">Python</a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-2-1" class="tab-pane active" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">gezogene_zahlen <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">23</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">34</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">45</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">49</span>)</span>
<span id="cb3-2">abbildung <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lotto_abbildung</span>(gezogene_zahlen)</span>
<span id="cb3-3">umkehrabbildung <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lotto_umkehrabbildung</span>(abbildung)</span></code></pre></div></div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1">gezogene_zahlen <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">23</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">34</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">45</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">49</span>]</span>
<span id="cb4-2">abbildung <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> lotto_abbildung(gezogene_zahlen)</span>
<span id="cb4-3">umkehrabbildung <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> lotto_umkehrabbildung(abbildung)</span></code></pre></div></div>
</div>
</div>
</div>
</div>
<p>Die Ausgabe zeigt die eindeutige Nummer der gezogenen Zahlen und die zurückgewonnenen Zahlen</p>
<div class="tabset-margin-container"></div><div class="panel-tabset" data-group="language">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" aria-controls="tabset-3-1" aria-selected="true" href="">R</a></li><li class="nav-item"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" aria-controls="tabset-3-2" aria-selected="false" href="">Python</a></li></ul>
<div class="tab-content" data-group="language">
<div id="tabset-3-1" class="tab-pane active" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Ausgabe</span></span>
<span id="cb5-2">abbildung  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Eindeutige Nummer</span></span></code></pre></div></div>
<div class="cell-output cell-output-stdout">
<pre><code>Big Integer ('bigz') :
[1] 13400040</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">umkehrabbildung  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Zurückgewonnene Zahlen</span></span></code></pre></div></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  5 12 23 34 45 49</code></pre>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Ausgabe</span></span>
<span id="cb9-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(abbildung)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Eindeutige Nummer</span></span></code></pre></div></div>
<div class="cell-output cell-output-stdout">
<pre><code>13400040</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(umkehrabbildung)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Zurückgewonnene Zahlen</span></span></code></pre></div></div>
<div class="cell-output cell-output-stdout">
<pre><code>[5, 12, 23, 34, 45, 49]</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Die Ausgabe zeigt die eindeutige Nummer der gezogenen Zahlen und die zurückgewonnenen Zahlen.</p>
<p>Die Frage bleibt, geht es auch ohne (extra) Scheifen bei der Suche nach dem nächsten <img src="https://latex.codecogs.com/png.latex?a_i"> in der Umkehrabbildung?</p>
</section>
<section id="referenzen" class="level1">
<h1>Referenzen</h1>
<ul>
<li><a href="https://de.wikipedia.org/wiki/Lotto_(Spiel%20)">Wikipedia: Lotto (Spiel)</a></li>
<li><a href="https://de.wikipedia.org/wiki/Binomialkoeffizient">Wikipedia: Binomialkoeffizient</a></li>
<li><a href="https://www.mathe-online.at/materialien/mathematik/kombinatorik-und-wahrscheinlichkeitsrechnung/">Kombinatorik und Wahrscheinlichkeitsrechnung</a></li>
</ul>


</section>

 ]]></description>
  <category>Quarto</category>
  <category>Python</category>
  <category>R</category>
  <guid>https://www.sefiroth.de/posts/2025-12-22-das-lotto-abbildungs-problem/</guid>
  <pubDate>Sun, 21 Dec 2025 23:00:00 GMT</pubDate>
</item>
<item>
  <title>Quarto-Dokumente mit WebP anstatt PNG Bilddateien erstellen</title>
  <dc:creator>Norman Markgraf</dc:creator>
  <link>https://www.sefiroth.de/posts/2025-12-03-quarto-dokumente-mit-webp-anstatt-png/</link>
  <description><![CDATA[ 





<section id="webp-statt-png" class="level1">
<h1>WebP statt PNG?</h1>
<p>Ich bin über die Quarto-Extension von Klaus Brunner mit dem Namen <a href="https://github.com/klausbrunner/convert-to-webp">Convert PNG to WebP (Quarto Extension)</a> gestolpert und nutze diesen nun regelmässig.</p>
<p>Dafür habe ich auf meinem Mac via HomeBrew die Application “webp” installiert.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> brew <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">install</span> webp</span></code></pre></div></div>
<p>Dadurch habe ich das Programm <code>cwebp</code> installiert. Es dient zum umwandeln von PNG in webp Dateien. Zum Testen nutze ich den Befehl:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> cwebp <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">-version</span></span></code></pre></div></div>
<p>Aktuell bekomme ich damit die Ausgabe:</p>
<pre><code>1.6.0
libsharpyuv: 0.4.2</code></pre>
<p>Das Programm ersetzt die erzeugten Bild-Ausgaben, welche normalerweise im PNG-Format erzeugt werden, durch Neue im WebP-Format.</p>
<p>Die KI sagt:</p>
<blockquote class="blockquote">
<p>WebP ist ein modernes Bildformat von Google, das eine effizientere Komprimierung als herkömmliche Formate wie JPEG und PNG ermöglicht, um Bilder im Web kleiner zu machen und Ladezeiten zu beschleunigen. Es unterstützt sowohl verlustfreie als auch verlustbehaftete Komprimierung sowie Transparenz und Animationen, ähnlich wie PNG und GIF. WebP wird von den meisten modernen Browsern unterstützt, aber für ältere Browser ist es ratsam, eine alternative Bildversion bereitzustellen</p>
</blockquote>
<section id="installation-im-quarto-projekt" class="level2">
<h2 class="anchored" data-anchor-id="installation-im-quarto-projekt">Installation im Quarto-Projekt</h2>
<p>Um sofort bei der Erstellung von Dokumenten, wie zum Beispiel diese Blog-Einträge, mit Quarto webp zu nutzen, installiert mensch einfach im Quarto-Projekt mittels:</p>
<pre class="bas"><code>&gt; quarto add klausbrunner/convert-to-webp</code></pre>
<p>Danach in der Datei <code>_quarto.yml</code> noch die folgenden Zeilen hinzufügen:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode yml code-with-copy"><code class="sourceCode yaml"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filters</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span></span>
<span id="cb5-2"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> convert-to-webp</span></span>
<span id="cb5-3"></span>
<span id="cb5-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">webp-delete-originals</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">false</span></span>
<span id="cb5-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">webp-disable</span><span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">false</span></span></code></pre></div></div>
<p>Jetzt wird nach jedem ‘rendern’ eines Dokuments die erzeugten PNG-Dateien in WebP-Dateien übersetzt und im HTML-Code entsprechend ersetzt.</p>


</section>
</section>

 ]]></description>
  <category>Quarto</category>
  <guid>https://www.sefiroth.de/posts/2025-12-03-quarto-dokumente-mit-webp-anstatt-png/</guid>
  <pubDate>Tue, 02 Dec 2025 23:00:00 GMT</pubDate>
</item>
<item>
  <title>Brotli statt Gzip auf dem Server konfigurieren</title>
  <dc:creator>Norman Markgraf</dc:creator>
  <link>https://www.sefiroth.de/posts/2025-08-09-brotli-statt-gzip-konfigurieren/</link>
  <description><![CDATA[ 





<section id="wie-mensch-einen-webserver-davon-überzeugt-brotli-zu-nutzen" class="level1">
<h1>Wie mensch einen Webserver davon überzeugt Brotli zu nutzen</h1>
<p>Ich habe meinen Webserver von gzip auf brotli umgerüstet. Dachte ich jeden falls, aber alle Test mit</p>
<pre><code>&gt; curl -I -H 'Accept-Encoding: br' https://sefiroth.de</code></pre>
<p>schlugen fehl. Nach langer Suche im Internet habe ich herausgefunden, dass zwar die Datei <code>brotli.load</code> in den Verzeichnissen <code>/etc/apache2/mods-enable</code> und <code>/etc/apache2/mods-available</code> existieren, nicht aber die Datei <code>brotli.conf</code>, mit welcher die ganzen Einstellungen gemacht werden.</p>
<p>Fügt mensch nun in diese Datei den Inhalt</p>
<pre><code>&lt;IfModule mod_brotli.c&gt;
    AddOutputFilterByType BROTLI_COMPRESS text/html text/plain text/xml text/css text/javascript app
lication/javascript application/x-javascript application/json application/xml
    BrotliCompressionQuality 6
&lt;/IfModule&gt;</code></pre>
<p>ein und startet danach den apache-Server neu, so läuft <em>brotli</em> endlich auch auf dem Server!</p>


</section>

 ]]></description>
  <category>Apache</category>
  <category>Webserver</category>
  <category>Nginx</category>
  <guid>https://www.sefiroth.de/posts/2025-08-09-brotli-statt-gzip-konfigurieren/</guid>
  <pubDate>Fri, 08 Aug 2025 22:00:00 GMT</pubDate>
</item>
<item>
  <title>Wie mensch eine Datenbank auf einem RASPBERRY Pi Zero installiert</title>
  <dc:creator>Norman Markgraf</dc:creator>
  <link>https://www.sefiroth.de/posts/2025-08-09-wie-mensch-eine-datenbank-auf-einen-raspberry-zero-installiert/</link>
  <description><![CDATA[ 





<section id="einrichten-des-raspberry-zero" class="level2">
<h2 class="anchored" data-anchor-id="einrichten-des-raspberry-zero">Einrichten des Raspberry Zero</h2>
<section id="schrit-1-neues-betriebssystem-installieren" class="level3">
<h3 class="anchored" data-anchor-id="schrit-1-neues-betriebssystem-installieren">Schrit 1: Neues Betriebssystem installieren</h3>
<p>Am besten mit dem Raspberry Pi Installer von hier: <a href="https://www.raspberrypi.com/software/" class="uri">https://www.raspberrypi.com/software/</a></p>
<p>Für einen Raspberry Zero: <em>Raspberry Pi OS (32-bit) Lite</em></p>
<p>Für einen Raspberry Zero 2 W: <em>Raspberry Pi OS (64-bit) Lite</em></p>
<p><strong>Wichtig</strong> MIT SSH konfigurieren!</p>
</section>
<section id="schrit-2-ein-link-zum-display" class="level3">
<h3 class="anchored" data-anchor-id="schrit-2-ein-link-zum-display">Schrit 2: Ein Link zum Display</h3>
<p>Auf dem RaspberryPI Zero ist ein Waveshare 2-13inch-e-Paper HAT installiert. Alles Wichtige dazu findet sich unter: <a href="https://www.waveshare.com/wiki/2.13inch_e-Paper_HAT_Manual#Working_With_Raspberry_Pi" class="uri">https://www.waveshare.com/wiki/2.13inch_e-Paper_HAT_Manual#Working_With_Raspberry_Pi</a></p>
<p>Damit das Display richtig funktioniert sollte man in der <code>config.txt</code> die folgende Zeile anpassen:</p>
<pre><code>dtparam=spi=on</code></pre>
</section>
<section id="schritt-3-den-raspberry-pi-im-netz-suchen-und-finden" class="level3">
<h3 class="anchored" data-anchor-id="schritt-3-den-raspberry-pi-im-netz-suchen-und-finden">Schritt 3: Den Raspberry Pi im Netz suchen und finden</h3>
<p>Es gibt viele Weg die zum Ziel führen (können).</p>
<p>Zum Beispiel mit dem Befehl <code>nmap</code>:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> nmap <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">-sn</span> 192.168.2.0/24</span></code></pre></div></div>
<p>Oder einfach den Hostnamen “raspberrpi.local” nutzen.</p>
<p>Man kann sich somit ggf. mittels ssh und dem folgenden Kommando anmelden:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> ssh <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">norman@raspberrypi.local</span></span></code></pre></div></div>
<p>Ebenso kann <a href="http://connect.raspberrypi.com">R PI Connect</a> benutzt werden, wenn man es vorher eingerichtet hat.</p>
</section>
<section id="schritt-4-startup-display-installieren" class="level3">
<h3 class="anchored" data-anchor-id="schritt-4-startup-display-installieren">Schritt 4: Startup-Display installieren</h3>
<p>Ich habe bei GitHub ein kleines Programm geschrieben, welches die aktuelle IP Address (IP4 und IP6 sowie die aktuelle Uhrzeit) auf dem Display ausgibt.</p>
<p>Es ist unter <a href="https://github.com/NMarkgraf/pi-startup-display" class="uri">https://github.com/NMarkgraf/pi-startup-display</a> zu finden und wird einfach in das Hauptverzeichnis des Nutzers “norman” unter “/home/norman” per</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> git <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">clone</span> https://github.com/NMarkgraf/pi-startup-display </span></code></pre></div></div>
<p>installiert.</p>
<p>Später kann dann im Verzeichnis <code>pi-startup-display</code> einfach das aktuelle Release von GutHUb durch den folgenden Befehl geladen werden:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> git <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pull</span></span></code></pre></div></div>
<p>Damit dieses Skript nach jedem Neustart automatisch (einmal) gestartet wird bin ich nach dem Beispiel von <a href="https://webnist.de/automatisches-starten-eines-python-skripts-auf-dem-raspberry-pi-mit-systemd/" class="uri">https://webnist.de/automatisches-starten-eines-python-skripts-auf-dem-raspberry-pi-mit-systemd/</a> vorgegangen.</p>
<p>Aber ich habe die service Datei “/etc/systemd/system/startup-display.service” wie folgt angepasst:</p>
<pre><code>[Unit]
Description=startup-display
After=network.target
 
[Service]
ExecStart=/usr/bin/python3 -u /home/norman/pi-startup-display/start-display.py 
WorkingDirectory=/home/norman/pi-startup-display/
#StandardOutput=inherit
StandardOutput=file:/tmp/start-display.log
#StandardError=inherit
StandardError=file:/tmp/start-display-error.log
#Restart=always
Restart=on-failture
RestartSec=60
User=norman
 
[Install]
WantedBy=multi-user.target</code></pre>
<p>Zum anlegen habe ich den Editor “nano” genutzt und die Datei gleich mit angelegt.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> sudo <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">nano</span> /etc/systemd/system/startup-display.service</span></code></pre></div></div>
<p>Die geänderte Datei muss nun initialisiert werden mit:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> sudo <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">systemctl</span> daemon-reload</span>
<span id="cb8-2"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> sudo <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">systemctl</span> enable startup-display.service</span></code></pre></div></div>
<p>Dann können wir alles, zum Testen, von Hand starten:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> sudo <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">systemctl</span> start startup-display.service</span></code></pre></div></div>
<p>Ob alles zu unserer Zufriedenheit funktioniert können wir mit der Status-Anzeige mit dem folgenden Befehl prüfen:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> sudo <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">systemctl</span> status startup-display.service</span></code></pre></div></div>
<p>Und natürlich ggf. auch stoppen:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> sudo <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">systemctl</span> stop startup-display.service</span></code></pre></div></div>
</section>
</section>
<section id="postgresql-installieren" class="level2">
<h2 class="anchored" data-anchor-id="postgresql-installieren">PostgreSQL installieren</h2>
<p>Ich gehe wie folgt vor:</p>
<section id="schritt-1-installieren-von-postgresql" class="level3">
<h3 class="anchored" data-anchor-id="schritt-1-installieren-von-postgresql">Schritt 1: Installieren von PostgreSQL</h3>
<p>Da es ein deb Paket gibt, nehme ich den leichten Weg:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> sudo <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">apt</span> install postgresql</span></code></pre></div></div>
</section>
<section id="schritt-2-wechseln-auf-nutzerin-postgres" class="level3">
<h3 class="anchored" data-anchor-id="schritt-2-wechseln-auf-nutzerin-postgres">Schritt 2: Wechseln auf Nutzer:in “postgres”</h3>
<p>Wir kommunizieren mit PostgreSQL durch den Benutzer “postgres”, in den wir uns verwandelt:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> sudo <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">su</span> postgres</span></code></pre></div></div>
</section>
<section id="schritt-3-herunterladen-der-demo-daten-entpacken-und-installieren" class="level3">
<h3 class="anchored" data-anchor-id="schritt-3-herunterladen-der-demo-daten-entpacken-und-installieren">Schritt 3: Herunterladen der Demo-Daten, entpacken und installieren</h3>
<p>Die erste Demo-Daten erhalten wir durch:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> curl <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">-L</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-O</span> https://github.com/lerocha/netflixdb/releases/download/v1.0.16/netflixdb-postgres.zip</span>
<span id="cb14-2"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> unzip <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">netflixdb-postgres.zip</span></span></code></pre></div></div>
<p>Da Daten können wir dann in die Datenbank “netfix” einfügren:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> sudo <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">su</span> postgres</span>
<span id="cb15-2"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> psql <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">-d</span> netflix</span>
<span id="cb15-3"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\i</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">/home/norman/netflixdb-postgres.sql</span></span></code></pre></div></div>
<p>Jetzt ist die Datenbank “netflix” in PostgreSQL installiert.</p>
<p>Und wir können diese nun mit den folgenden Parametern ansprechen:</p>
<pre><code>  ip:       ???? 
  port:     5342
  user:     postgres
  password: postgresdemo 
  dbname:   netflix</code></pre>
</section>
<section id="schritt-4-adminerneo-installieren" class="level3">
<h3 class="anchored" data-anchor-id="schritt-4-adminerneo-installieren">Schritt 4: AdminerNEO installieren</h3>
<p>AdminerNEO ist ein Webtool für die Verwaltung von PostgreSQL.</p>
<p>Wir installieren die aktuelle Version von der Website: <a href="https://www.adminneo.org/download" class="uri">https://www.adminneo.org/download</a></p>


</section>
</section>

 ]]></description>
  <category>RaspberryPi</category>
  <category>Datenbank</category>
  <guid>https://www.sefiroth.de/posts/2025-08-09-wie-mensch-eine-datenbank-auf-einen-raspberry-zero-installiert/</guid>
  <pubDate>Fri, 08 Aug 2025 22:00:00 GMT</pubDate>
</item>
<item>
  <title>Beweisverfahren in der Mathematik</title>
  <dc:creator>Norman Markgraf</dc:creator>
  <link>https://www.sefiroth.de/posts/2025-07-27-beweisverfahren/</link>
  <description><![CDATA[ 





<section id="allgemeine-beweistechniken" class="level2">
<h2 class="anchored" data-anchor-id="allgemeine-beweistechniken">Allgemeine Beweistechniken</h2>
<section id="beweis-durch-einschüchterung" class="level3">
<h3 class="anchored" data-anchor-id="beweis-durch-einschüchterung">Beweis durch Einschüchterung</h3>
<p>Trivial!</p>
</section>
<section id="beweis-durch-umständliche-notation" class="level3">
<h3 class="anchored" data-anchor-id="beweis-durch-umständliche-notation">Beweis durch umständliche Notation</h3>
<p>Der Satz folgt sofort aus dem Fakt</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Cleft%7C%0A%20%20%20%20%5Coplus_%7Bk%20%5Cin%20S%7D%0A%20%20%20%20%20%20%5Cleft(%0A%20%20%20%20%20%20%20%5Cmathfrak%7BK%7D%5E%7B%5Cmathbb%7BF%7D%5E%5Calpha(i)%7D%20%20%0A%20%20%20%20%20%20%5Cright)_%7Bi%20%5Cin%20%5Cmathcal%7BU%7D_k%7D%0A%20%20%5Cright%7C%0A%20%20%5Cpreceq%20%5Caleph_1%0A%20%20%5Ctext%7B%20wenn%20%7D%0A%20%20%5Cleft%5B%0A%20%20%20%20%5Cmathfrak%7BH%7D_%5Cmathcal%7BW%7D%0A%20%20%5Cright%5D%20%20%20%20%20%0A%20%20%5Ccap%20%5Cmathbb%7BF%7D%5E%5Calpha(%5Cmathbb%7BN%7D)%20%5Cneq%20%5Cemptyset.%0A"></p>
</section>
<section id="beweis-durch-unzugreifbare-literatur" class="level3">
<h3 class="anchored" data-anchor-id="beweis-durch-unzugreifbare-literatur">Beweis durch unzugreifbare Literatur</h3>
<p>Der Satz ist ein einfaches Korrollat eines Ergebnis bewiesen in einer handgeschriebenen Anmerkung ausgehändigt in einer Vorlesung bei der Jugoslawischen Mathematischen Gesellschaft 1973.</p>
</section>
<section id="beweis-durch-geisterhafte-zitate" class="level3">
<h3 class="anchored" data-anchor-id="beweis-durch-geisterhafte-zitate">Beweis durch geisterhafte Zitate</h3>
<p>Der Beweis kann auf Seite 478 gefunden werden, in einem Buch, welches nur 396 Seiten hat.</p>
</section>
<section id="beweis-durch-circularer-argumentation" class="level3">
<h3 class="anchored" data-anchor-id="beweis-durch-circularer-argumentation">Beweis durch circularer Argumentation</h3>
<p>Proposition 5.18 in [BL] ist ein einfaches Korollar zm Satz 7.18 in [C], welches wiederum auf Korollar 2.14 in [K] basiert. Dieses wiederum wird unter Bezugnahme auf Proposition 5.18 in [BL] hergeleitet.</p>
</section>
<section id="beweis-durch-autorität" class="level3">
<h3 class="anchored" data-anchor-id="beweis-durch-autorität">Beweis durch Autorität</h3>
<p>Mein guter Kollege Andrew meinte, er glaube, er hätte dafür vor ein paar Jahren einen Beweis finden können …</p>
</section>
<section id="beweis-durch-internet-referenz" class="level3">
<h3 class="anchored" data-anchor-id="beweis-durch-internet-referenz">Beweis durch Internet Referenz</h3>
<p>Für Interessierte ist das Ergebnis auf der Webseite zu diesem Buch zu sehen. – Die es leider nicht mehr gibt.</p>
</section>
<section id="beweis-durch-vermeidung" class="level3">
<h3 class="anchored" data-anchor-id="beweis-durch-vermeidung">Beweis durch Vermeidung</h3>
<p>Kapitel 3: Der Beweis hierfür wird erst in Kapitel 7 erbracht, wenn wir die Theorie weiterentwickelt haben.</p>
<p>Kapitel 7: Der Einfachheit halber beweisen wir dies nur für den Fall z = 0. Der allgemeine Fall wird jedoch in Anhang C behandelt.</p>
<p>Anhang C: Der formale Beweis geht über den Rahmen dieses Buches hinaus, aber unsere Intuition sagt uns natürlich, dass dies wahr ist.</p>


</section>
</section>

 ]]></description>
  <category>Mathematik</category>
  <guid>https://www.sefiroth.de/posts/2025-07-27-beweisverfahren/</guid>
  <pubDate>Sat, 26 Jul 2025 22:00:00 GMT</pubDate>
</item>
<item>
  <title>Willkommen in meinem Blog</title>
  <dc:creator>Norman Markgraf</dc:creator>
  <link>https://www.sefiroth.de/posts/Willkommen/</link>
  <description><![CDATA[ 





<p>Das ist mein erster Blog-Eintrag! Ich werde nun hoffentlich (langsam) meinen Blog von Hugo aus Quarto umstellen. Ich arbeite viel mit R und eine extra Sprache nur für den Blog ist mir einfach auf Dauer zu umständlich. Aber mal sehen, wann ich Zeit finde dieses Projekt umzustezen.</p>



 ]]></description>
  <category>news</category>
  <guid>https://www.sefiroth.de/posts/Willkommen/</guid>
  <pubDate>Fri, 18 Jul 2025 22:00:00 GMT</pubDate>
</item>
<item>
  <title>Grafiken nebeneinander setzen mit ggplot2 oder ggformula</title>
  <dc:creator>Norman Markgraf</dc:creator>
  <link>https://www.sefiroth.de/posts/2021-12-27-grafiken-nebeneinander-setzen-mit-ggplot2-oder-ggformula/</link>
  <description><![CDATA[ 





<section id="wie-menschen-grafiken-von-ggplot2-oder-ggformula-nebeneinander-setzten-kann" class="level2">
<h2 class="anchored" data-anchor-id="wie-menschen-grafiken-von-ggplot2-oder-ggformula-nebeneinander-setzten-kann">Wie menschen Grafiken von ggplot2 oder ggformula nebeneinander setzten kann</h2>
<p>Ab und zu möchte mensch zwei (oder mehr) Grafiken neben- oder übereinander setzen.</p>
<p>Hier ein kurzes Beispiel, wie das gelingen kann. Zunächst bereiten wir alles vor, in dem wir die Pakete laden und die Daten freigeben.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(mosaic)</span>
<span id="cb1-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ggf. einmal vorher den Befehl:</span></span>
<span id="cb1-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># install.packages("gridExtra")</span></span>
<span id="cb1-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ausführen oder das Paket "gridExtra" installieren.</span></span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(gridExtra)</span>
<span id="cb1-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data</span>(iris)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Datensatz bereitstellen</span></span></code></pre></div></div>
</div>
<p>Dann erstellen nun vier Plots und speichern diese in vier Variablen:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Ersten Plot erstellen</span></span>
<span id="cb2-2">plot1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_point</span>(Sepal.Length <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> Sepal.Width, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> iris)</span>
<span id="cb2-3"></span>
<span id="cb2-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Zweiten Plot erstellen</span></span>
<span id="cb2-5">plot2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_point</span>(Petal.Length <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> Petal.Width, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> iris)</span>
<span id="cb2-6"></span>
<span id="cb2-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Dritten Plot erstellen</span></span>
<span id="cb2-8">plot3 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_point</span>(Sepal.Length <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> Petal.Width, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> iris)</span>
<span id="cb2-9"></span>
<span id="cb2-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Vierten Plot erstellen</span></span>
<span id="cb2-11">plot4 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_point</span>(Petal.Length <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> Sepal.Width, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> iris)</span></code></pre></div></div>
</div>
<p>Nun arrangieren wir die Plots entsprechend:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Zwei Plots nebeneinander in einer Zeile: </span></span>
<span id="cb3-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">grid.arrange</span>(plot1, plot2, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-12-27-grafiken-nebeneinander-setzen-mit-ggplot2-oder-ggformula/index_files/figure-html/unnamed-chunk-4-1.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Zwei Plots untereinander in einer Spalte</span></span>
<span id="cb4-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">grid.arrange</span>(plot1, plot2, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">nrow =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-12-27-grafiken-nebeneinander-setzen-mit-ggplot2-oder-ggformula/index_files/figure-html/unnamed-chunk-5-1.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Vier Plots in einer Matrix:</span></span>
<span id="cb5-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">grid.arrange</span>(plot1, plot2, plot3, plot4, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">nrow =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>) </span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-12-27-grafiken-nebeneinander-setzen-mit-ggplot2-oder-ggformula/index_files/figure-html/unnamed-chunk-6-1.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>


</section>

 ]]></description>
  <category>Statistik</category>
  <guid>https://www.sefiroth.de/posts/2021-12-27-grafiken-nebeneinander-setzen-mit-ggplot2-oder-ggformula/</guid>
  <pubDate>Sun, 26 Dec 2021 23:00:00 GMT</pubDate>
</item>
<item>
  <title>CSV Dateien bearbeiten mit Miller</title>
  <dc:creator>Norman Markgraf</dc:creator>
  <link>https://www.sefiroth.de/posts/csv-dateien-bearbeiten-mit-miller/</link>
  <description><![CDATA[ 





<p>Miller beschreibt sich selbst folgendermaßen:</p>
<blockquote class="blockquote">
<p>Miller is like awk, sed, cut, join, and sort for name-indexed data such as CSV, TSV, and tabular JSON. You get to work with your data using named fields, without needing to count positional column indices.</p>
</blockquote>
<p>Miller kombiniert die Funktionalität von awk, sed und cut und eignet sich besonders für feldbasierte Datenmanipulation.</p>
<section id="beispiel-1-erstellung-einer-markdown-tabelle" class="level3">
<h3 class="anchored" data-anchor-id="beispiel-1-erstellung-einer-markdown-tabelle">Beispiel 1: Erstellung einer Markdown-Tabelle</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> mlr <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">--icsv</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--fs</span> semicolon <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--otsv</span> cat tips.csv <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb1-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sed</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'s/,/./g'</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">mlr</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--itsv</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--omd</span> cat</span></code></pre></div></div>
<p>Mit diesem Befehl wird eine durch Semikolon getrennte CSV-Datei in eine durch Tabulator getrennte TSV-Datei umgewandelt, anschließend werden alle Kommata durch Punkte ersetzt und schließlich wird daraus eine Markdown-Tabelle erzeugt.</p>
</section>
<section id="beispiel-2-gerahmte-darstellung" class="level3">
<h3 class="anchored" data-anchor-id="beispiel-2-gerahmte-darstellung">Beispiel 2: Gerahmte Darstellung</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> mlr <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">--icsv</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--fs</span> semicolon <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--otsv</span> cat tips.csv <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\</span></span>
<span id="cb2-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sed</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'s/,/./g'</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">|</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">mlr</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--itsv</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--opprint</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--barred</span> cat</span></code></pre></div></div>
<p>Mit diesem Befehl wird ebenfalls eine durch Semikolon getrennte CSV-Datei in eine durch Tabulator getrennte TSV-Datei umgewandelt, alle Kommata werden durch Punkte ersetzt und am Ende wird eine eingerahmte Tabelle erzeugt.</p>


</section>

 ]]></description>
  <category>Allgemeines</category>
  <category>Miller</category>
  <category>CSV</category>
  <category>Datenjudo</category>
  <category>Datenformate</category>
  <guid>https://www.sefiroth.de/posts/csv-dateien-bearbeiten-mit-miller/</guid>
  <pubDate>Thu, 26 Aug 2021 22:00:00 GMT</pubDate>
</item>
<item>
  <title>Datenjudo für Fragebögen</title>
  <dc:creator>Norman Markgraf</dc:creator>
  <link>https://www.sefiroth.de/posts/2021-06-27-datenjudo-fuer-frageboegen/</link>
  <description><![CDATA[ 





<p>Ab und zu bekomme ich die Frage, wie man einen Fragebogen mit Likert-Scalen-Items auswerten kann.</p>
<p>Dazu kann etwas gezieltes Datenjudo helfen. Wir schauen uns das folgende generierte Mini-Beispiel an:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(mosaic)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Basis Paket</span></span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tibble)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Eine modernere Variante der data.frames!</span></span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">set.seed</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2009</span>)   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Reproduzierbarkeit</span></span>
<span id="cb1-4"></span>
<span id="cb1-5">N <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">25</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Anzahl der Testzeileneinträge in den "testdaten"!</span></span>
<span id="cb1-6"></span>
<span id="cb1-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Wir wollen eine Likert-Scale </span></span>
<span id="cb1-8">minLikert <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># bis</span></span>
<span id="cb1-9">maxLikert <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># erstellen.</span></span>
<span id="cb1-10"></span>
<span id="cb1-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Zum späteren Umrechnen der inversen Items:</span></span>
<span id="cb1-12">maxInvItem <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> maxLikert <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb1-13"></span>
<span id="cb1-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Wir bauen uns eine Testumfrage mit zwei Itemserien </span></span>
<span id="cb1-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># (AS1-AS6 und BS1-BS6) und N Beobachtungen.</span></span>
<span id="cb1-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Die Items AS3, AS4  und BS1 und BS5 sind dabei </span></span>
<span id="cb1-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># inverse Items, welche später umgerechnet werden:</span></span>
<span id="cb1-18">testdaten <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tibble</span>(</span>
<span id="cb1-19">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ID =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>N,</span>
<span id="cb1-20">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># AS1-AS6 bilden ein Itemset:</span></span>
<span id="cb1-21">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">AS1 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sample</span>(minLikert<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>maxLikert, N, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">replace =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb1-22">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">AS2 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sample</span>(minLikert<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>maxLikert, N, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">replace =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb1-23">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">AS3 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sample</span>(minLikert<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>maxLikert, N, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">replace =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb1-24">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">AS4 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sample</span>(minLikert<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>maxLikert, N, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">replace =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb1-25">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">AS5 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sample</span>(minLikert<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>maxLikert, N, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">replace =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb1-26">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">AS6 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sample</span>(minLikert<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>maxLikert, N, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">replace =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb1-27">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># BS1-BS5 bilden ein Itemset:</span></span>
<span id="cb1-28">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">BS1 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sample</span>(minLikert<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>maxLikert, N, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">replace =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb1-29">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">BS2 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sample</span>(minLikert<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>maxLikert, N, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">replace =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb1-30">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">BS3 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sample</span>(minLikert<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>maxLikert, N, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">replace =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb1-31">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">BS4 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sample</span>(minLikert<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>maxLikert, N, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">replace =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb1-32">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">BS5 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sample</span>(minLikert<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>maxLikert, N, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">replace =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>),</span>
<span id="cb1-33">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Geschlecht als sex mit (1 für Frauen und 2 für Männer)</span></span>
<span id="cb1-34">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sex =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sample</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, N, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">replace =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span>
<span id="cb1-35">)</span>
<span id="cb1-36"></span>
<span id="cb1-37"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Orinal testdaten einmal ausgeben:</span></span>
<span id="cb1-38"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(testdaten)</span>
<span id="cb1-39"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; # A tibble: 6 × 13</span></span>
<span id="cb1-40"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;      ID   AS1   AS2   AS3   AS4   AS5   AS6   BS1   BS2   BS3   BS4   BS5   sex</span></span>
<span id="cb1-41"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;</span></span>
<span id="cb1-42"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 1     1     4     4     1     1     2     4     5     5     3     2     3     2</span></span>
<span id="cb1-43"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 2     2     2     1     2     2     5     6     4     5     2     2     6     1</span></span>
<span id="cb1-44"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 3     3     4     4     6     3     3     4     3     3     4     1     5     1</span></span>
<span id="cb1-45"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 4     4     2     6     1     4     5     4     6     4     5     1     3     1</span></span>
<span id="cb1-46"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 5     5     3     1     3     5     5     6     6     1     2     6     5     1</span></span>
<span id="cb1-47"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 6     6     6     4     1     3     6     6     4     6     5     3     3     1</span></span></code></pre></div></div>
</div>
<p>Die Spalten AS3, AS4 und BS1, BS5 waren inverse Items, die wir noch umrechnen müssen:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Inverse Item umrechnen:</span></span>
<span id="cb2-2">testdaten <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb2-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb2-4">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">AS3 =</span> maxInvItem <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> AS3,</span>
<span id="cb2-5">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">AS4 =</span> maxInvItem <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> AS4,</span>
<span id="cb2-6">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">BS1 =</span> maxInvItem <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> BS1,</span>
<span id="cb2-7">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">BS5 =</span> maxInvItem <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> BS5</span>
<span id="cb2-8">    ) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> testdaten_korrigiert </span>
<span id="cb2-9"></span>
<span id="cb2-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Die Daten mit den umgerechnetern inversen Items:</span></span>
<span id="cb2-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(testdaten_korrigiert)</span>
<span id="cb2-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; # A tibble: 6 × 13</span></span>
<span id="cb2-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;      ID   AS1   AS2   AS3   AS4   AS5   AS6   BS1   BS2   BS3   BS4   BS5   sex</span></span>
<span id="cb2-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;int&gt;</span></span>
<span id="cb2-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 1     1     4     4     6     6     2     4     2     5     3     2     4     2</span></span>
<span id="cb2-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 2     2     2     1     5     5     5     6     3     5     2     2     1     1</span></span>
<span id="cb2-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 3     3     4     4     1     4     3     4     4     3     4     1     2     1</span></span>
<span id="cb2-18"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 4     4     2     6     6     3     5     4     1     4     5     1     4     1</span></span>
<span id="cb2-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 5     5     3     1     4     2     5     6     1     1     2     6     2     1</span></span>
<span id="cb2-20"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 6     6     6     4     6     4     6     6     3     6     5     3     4     1</span></span></code></pre></div></div>
</div>
<p>Die jeweiligen Itemsets werden nun zur einem Wert (Gesamtscore) zusammengefasst, in dem wir jeweils den Mittelwert von <code>AS1</code>-<code>AS6</code> und <code>BS1</code>-<code>BS5</code> bildenund in <code>AS</code> bzw. <code>BS</code> speichern:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Wir fassen nun die AS1-AS6 und die BS1-BS5 zusammen </span></span>
<span id="cb3-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># und bilden die jeweiligen Mittelwerte:</span></span>
<span id="cb3-3">testdaten_korrigiert <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb3-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(ID, sex) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Damit wird für jede Zeile die Zusammenfassung gemacht!</span></span>
<span id="cb3-5">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(</span>
<span id="cb3-6">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">AS =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(AS1, AS2, AS3, AS4, AS5, AS6)),</span>
<span id="cb3-7">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">BS =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(BS1, BS2, BS3, BS4, BS5))</span>
<span id="cb3-8">    ) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> testdaten_sum</span>
<span id="cb3-9"></span>
<span id="cb3-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Ausgabe der Mittelwerte der AS und BS</span></span>
<span id="cb3-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(testdaten_sum)</span>
<span id="cb3-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; # A tibble: 6 × 4</span></span>
<span id="cb3-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; # Groups:   ID [6]</span></span>
<span id="cb3-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;      ID   sex    AS    BS</span></span>
<span id="cb3-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;   &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb3-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 1     1     2  4.33   3.2</span></span>
<span id="cb3-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 2     2     1  4      2.6</span></span>
<span id="cb3-18"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 3     3     1  3.33   2.8</span></span>
<span id="cb3-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 4     4     1  4.33   3  </span></span>
<span id="cb3-20"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 5     5     1  3.5    2.4</span></span>
<span id="cb3-21"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 6     6     1  5.33   4.2</span></span></code></pre></div></div>
</div>
<p>Die Datentabelle <code>testdaten_sum</code> enthält nun die Spalten <code>AS</code> und <code>BS</code> mit den entsprechenden Mittelwerten der einzelnen Items <code>AS1</code>-<code>AS6</code> sowieso <code>BS1</code>- <code>BS5</code>.</p>
<p>Wir wollen nun die Ergebnisse als Boxplots anzeigen lassen. Dafür benennen wir die Geschlechter von 1,2 auf “Frau”, “Mann” um:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">testdaten_sum <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb4-2">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sex =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(sex, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>),</span>
<span id="cb4-3">                             <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Frau"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Mann"</span>))</span>
<span id="cb4-4">    ) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> testdaten_sex </span></code></pre></div></div>
</div>
<p>Nun können wir die Boxplots erstellen:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Darstellung der Ergebnisse als Boxplot AS ~ sex:</span></span>
<span id="cb5-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_boxplot</span>(AS <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> sex, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> testdaten_sex) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_labs</span>(</span>
<span id="cb5-4">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Boxplot von AS nach Geschlechtern"</span>,</span>
<span id="cb5-5">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Geschlechter"</span>,</span>
<span id="cb5-6">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Item AS"</span></span>
<span id="cb5-7">    ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb5-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_refine</span>(</span>
<span id="cb5-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(</span>
<span id="cb5-10">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>, </span>
<span id="cb5-11">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>,</span>
<span id="cb5-12">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">limits =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.5</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">4.5</span>)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Gibt den Bereich von 2.5 bis 4.5 aus!</span></span>
<span id="cb5-13">    )  </span>
<span id="cb5-14">  )</span>
<span id="cb5-15"></span>
<span id="cb5-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Darstellung der Ergebnisse als Boxplot BS ~ sex:</span></span>
<span id="cb5-17"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_boxplot</span>(BS <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> sex, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> testdaten_sex) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-18">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_labs</span>(</span>
<span id="cb5-19">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Boxplot von BS nach Geschlechtern"</span>,</span>
<span id="cb5-20">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Geschlechter"</span>,</span>
<span id="cb5-21">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Item BS"</span></span>
<span id="cb5-22">    ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb5-23">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_refine</span>(</span>
<span id="cb5-24">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(</span>
<span id="cb5-25">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>, </span>
<span id="cb5-26">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>,</span>
<span id="cb5-27">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">limits =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Gibt den ganzen Bereich von 1 bis 6 aus!</span></span>
<span id="cb5-28">    )  </span>
<span id="cb5-29">  )</span></code></pre></div></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-27-datenjudo-fuer-frageboegen/index_files/figure-html/unnamed-chunk-5-1.webp" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-27-datenjudo-fuer-frageboegen/index_files/figure-html/unnamed-chunk-5-2.webp" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
<p>Die Kennzahlen dazu erhalten wir mit <code>favstats</code>. Dabei wählen wir die ersten sechs Einträge (Variabelbezeichnung und Q0 bis Q4) aus:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">favstats</span>(AS <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> sex, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> testdaten_sex)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>]</span>
<span id="cb6-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;    sex      min       Q1   median       Q3      max</span></span>
<span id="cb6-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 1 Frau 2.166667 3.333333 3.666667 4.166667 5.333333</span></span>
<span id="cb6-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 2 Mann 3.666667 4.000000 4.333333 4.333333 4.500000</span></span>
<span id="cb6-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">favstats</span>(BS <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> sex, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> testdaten_sex)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>]</span>
<span id="cb6-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;    sex min  Q1 median  Q3 max</span></span>
<span id="cb6-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 1 Frau 2.4 2.8    3.4 4.2 4.6</span></span>
<span id="cb6-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 2 Mann 2.6 3.2    3.3 3.8 4.2</span></span></code></pre></div></div>
</div>
<p>Unter der Verwendung des Pakets <code>likert</code> (https://github.com/jbryer/likert) können wir die Ausgaben auch noch etwas schöner gestalten:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(likert)</span>
<span id="cb7-2"></span>
<span id="cb7-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Wir wählen nur den Itemset BS aus und speichern in in items2:</span></span>
<span id="cb7-4">testdaten_korrigiert <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb7-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(</span>
<span id="cb7-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">starts_with</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"BS"</span>)</span>
<span id="cb7-7">  ) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> items2</span>
<span id="cb7-8"></span>
<span id="cb7-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Leider mag likert tibbels nicht so gerne, daher:</span></span>
<span id="cb7-10">items2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.data.frame</span>(items2)</span>
<span id="cb7-11"></span>
<span id="cb7-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Wir geben den Items noch ein paar Buzzwords:</span></span>
<span id="cb7-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(items2) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Gesundheit"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Familie"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Geld"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Freunde"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Langes Leben"</span>)</span>
<span id="cb7-14"></span>
<span id="cb7-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Vorbereitung:</span></span>
<span id="cb7-16">l2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">likert</span>(items2, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">nlevels =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)</span>
<span id="cb7-17"></span>
<span id="cb7-18"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Zusammenfassung</span></span>
<span id="cb7-19"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>(l2)</span>
<span id="cb7-20"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;           Item      low   neutral     high     mean       sd</span></span>
<span id="cb7-21"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 3         Geld 28.57143 23.809524 47.61905 3.380952 1.359272</span></span>
<span id="cb7-22"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 5 Langes Leben 57.14286  4.761905 38.09524 2.619048 1.532194</span></span>
<span id="cb7-23"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 1   Gesundheit 38.09524 28.571429 33.33333 2.857143 1.492840</span></span>
<span id="cb7-24"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 2      Familie 38.09524 28.571429 33.33333 2.952381 1.499206</span></span>
<span id="cb7-25"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 4      Freunde 42.85714 23.809524 33.33333 2.857143 1.236354</span></span>
<span id="cb7-26"></span>
<span id="cb7-27"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Graphische Ausgaben:</span></span>
<span id="cb7-28"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(l2)</span>
<span id="cb7-29"></span>
<span id="cb7-30"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(l2,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bar"</span>)</span>
<span id="cb7-31"></span>
<span id="cb7-32"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(l2,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"heat"</span>)</span>
<span id="cb7-33"></span>
<span id="cb7-34"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(l2,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"density"</span>)</span></code></pre></div></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-27-datenjudo-fuer-frageboegen/index_files/figure-html/unnamed-chunk-7-1.webp" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-27-datenjudo-fuer-frageboegen/index_files/figure-html/unnamed-chunk-7-2.webp" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-27-datenjudo-fuer-frageboegen/index_files/figure-html/unnamed-chunk-7-3.webp" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-27-datenjudo-fuer-frageboegen/index_files/figure-html/unnamed-chunk-7-4.webp" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
<p>Voilà!</p>



 ]]></description>
  <category>Statistik</category>
  <guid>https://www.sefiroth.de/posts/2021-06-27-datenjudo-fuer-frageboegen/</guid>
  <pubDate>Sat, 26 Jun 2021 22:00:00 GMT</pubDate>
</item>
<item>
  <title>Dinge die man in zwei Dimensionen machen kann - Multiple lineare Regression</title>
  <dc:creator>Norman Markgraf</dc:creator>
  <link>https://www.sefiroth.de/posts/2021-06-24-dinge-die-man-in-zwei-dimensionen-machen-kann-multiple-lineare-regression/</link>
  <description><![CDATA[ 





<p>Wir wollen den Fall unterschen bei dem wir mit zwei statistischen Variabeln (<img src="https://latex.codecogs.com/png.latex?X"> und <img src="https://latex.codecogs.com/png.latex?Y">) eine dritte Variable (<img src="https://latex.codecogs.com/png.latex?Z">) mittels einer multiplen linearen Regression modellieren.</p>
<p>Es seien die Datenpunkte <img src="https://latex.codecogs.com/png.latex?(x_1,%20y_1,%20z_1),%20%5Cdots,%20(x_n,%20y_n,%20z_n)"> gegeben und wir wollen eine lineare Funktion <img src="https://latex.codecogs.com/png.latex?g(x,y)"> finden, so dass</p>
<p><img src="https://latex.codecogs.com/png.latex?%0Az_i%20=%20g(x_i,y_i)+%20%5Cepsilon_i%20=%5Cbeta_0%20+%20%5Cbeta_1%20%5Ccdot%20x_i%20+%20%5Cbeta_2%20%5Ccdot%20y_i%20+%20%5Cepsilon_i%0A"></p>
<p>gilt und der Abweichungsterm <img src="https://latex.codecogs.com/png.latex?%5Cepsilon_i"> möglichst klein ist.</p>
<p>Auf Grundlage unserer Datenpunkt wollen wir die Koeffizienten so schätzen, dass die Summe der quadratische Abweichungen minimal ist. <img src="https://latex.codecogs.com/png.latex?%0A%20%20QS%20=%20QS(%5Chat%5Cbeta_0,%20%5Chat%5Cbeta_1,%20%5Chat%5Cbeta_2)%0A%20%20=%20%5Csum%5Climits_%7Bi=1%7D%5En%20(z_i%20-%20%5Chat%5Cbeta_0%20-%20%5Chat%5Cbeta_1%20%5Ccdot%20x_i%20-%20%5Chat%5Cbeta_2%20%5Ccdot%20y_i%20)%5E2%0A"></p>
<p>Das führt zu der folgenden, notwendigen Bedingen (für stationäre Punkte):</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cnabla%20QS(%5Chat%5Cbeta_0,%20%5Chat%5Cbeta_1,%20%5Chat%5Cbeta_2)%20=%20%5Cbegin%7Bpmatrix%7D%200%5C%5C%200%5C%5C%200%5Cend%7Bpmatrix%7D%0A"></p>
<p>Im einzelnen heißt das:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%20%5Chat%5Cbeta_0%7D%20QS(%5Chat%5Cbeta_0,%20%5Chat%5Cbeta_1,%20%5Chat%5Cbeta_2)%20&amp;=%20-2%20%5Ccdot%5Csum%5Climits_%7Bi=1%7D%5En%20%5Cleft(z_i%20-%20%5Chat%5Cbeta_0%20-%20%5Chat%5Cbeta_1%20%5Ccdot%20x_i%20-%20%5Chat%5Cbeta_2%20%5Ccdot%20y_i%20%5Cright)%20%5C%5C%0A&amp;=%20-2%20%5Ccdot%20n%20%5Ccdot%20%5Cleft(%5Cbar%7Bz%7D%20-%20%5Chat%5Cbeta_0%20-%20%5Chat%5Cbeta_1%20%5Ccdot%5Cbar%7Bx%7D%20-%20%5Chat%5Cbeta_2%20%5Ccdot%5Cbar%7By%7D%20%5Cright)%20%5C%5C%0A%5C%5C%0A%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%20%5Chat%5Cbeta_1%7D%20QS(%5Chat%5Cbeta_0,%20%5Chat%5Cbeta_1,%20%5Chat%5Cbeta_2)%20&amp;=%20-2%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En%20%5Cleft(%20z_i%5Ccdot%20x_i%20-%20%5Chat%5Cbeta_0%20%5Ccdot%20x_i%20-%20%5Chat%5Cbeta_1%20%5Ccdot%20x_i%5Ccdot%20x_i%20-%20%5Chat%5Cbeta_2%20%5Ccdot%20y_i%5Ccdot%20x_i%20%5Cright)%20%5C%5C%0A&amp;=%20-2%20%5Ccdot%20%5Cleft(%5Csum%5Climits_%7Bi=1%7D%5En%20%20z_i%5Ccdot%20x_i%20-%20%20%5Chat%5Cbeta_0%20%5Ccdot%20n%20%5Ccdot%20%5Cbar%7Bx%7D-%20%5Chat%5Cbeta_1%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En%20x_i%5E2%20-%20%5Chat%5Cbeta_2%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En%20y_i%5Ccdot%20x_i%20%5Cright)%20%5C%5C%0A%5C%5C%0A%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%20%5Chat%5Cbeta_2%7D%20QS(%5Chat%5Cbeta_0,%20%5Chat%5Cbeta_1,%20%5Chat%5Cbeta_2)%20&amp;=%20-2%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En%20%5Cleft(%20z_i%5Ccdot%20y_i%20-%20%5Chat%5Cbeta_0%20%5Ccdot%20y_i%20-%20%5Chat%5Cbeta_1%20%5Ccdot%20x_i%5Ccdot%20y_i%20-%20%5Chat%5Cbeta_2%20%5Ccdot%20y_i%5Ccdot%20y_i%20%5Cright)%20%5C%5C%0A&amp;=%20-2%20%5Ccdot%20%5Cleft(%5Csum%5Climits_%7Bi=1%7D%5En%20%20z_i%5Ccdot%20y_i%20-%20%20%5Chat%5Cbeta_0%20%5Ccdot%20n%20%5Ccdot%20%5Cbar%7By%7D-%20%5Chat%5Cbeta_1%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En%20x_i%5Ccdot%20y_i%20-%20%5Chat%5Cbeta_2%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En%20y_i%5E2%20%5Cright)%20%5C%5C%0A%5Cend%7Baligned%7D%0A"></p>
<p>Wir setzen die 1. Gleichung gleich Null und stellen nach <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_0"> um:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%20%20%5Chat%5Cbeta_0%20=%20%5Cbar%7Bz%7D%20%20-%20%5Chat%5Cbeta_1%20%5Ccdot%20%5Cbar%7Bx%7D%20-%20%5Chat%5Cbeta_2%20%5Ccdot%20%5Cbar%7By%7D%0A"> Nun ersetzen wir <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_0"> in den verbleibenden Gleichungen durch <img src="https://latex.codecogs.com/png.latex?z_i%20-%20%5Chat%5Cbeta_1%20%5Ccdot%20x_i%20-%20%5Chat%5Cbeta_2%20%5Ccdot%20y_i"> und nutzen den Verschiebesatz:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%20%5Chat%5Cbeta_1%7D%20QS%0A&amp;=%20-2%20%5Ccdot%20%5Cleft(%5Csum%5Climits_%7Bi=1%7D%5En%20%20z_i%5Ccdot%20x_i%20-%20(%5Cbar%7Bz%7D%20%20-%20%5Chat%5Cbeta_1%20%5Ccdot%20%5Cbar%7Bx%7D%20-%20%5Chat%5Cbeta_2%20%5Ccdot%20%5Cbar%7By%7D)%20%5Ccdot%20n%20%5Ccdot%20%5Cbar%7Bx%7D-%20%5Chat%5Cbeta_1%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En%20x_i%5E2%20-%20%5Chat%5Cbeta_2%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En%20y_i%5Ccdot%20x_i%20%5Cright)%20%5C%5C%0A&amp;=%20-2%20%5Ccdot%20%5Cleft(%5Csum%5Climits_%7Bi=1%7D%5En%20(z_i-%5Cbar%7Bz%7D)(x_i%20-%20%5Cbar%7Bx%7D)%20-%20%5Chat%5Cbeta_1%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En%20(x_i%20-%5Cbar%7Bx%7D)%5E2%20-%20%5Chat%5Cbeta_2%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En%20(y_i-%5Cbar%7By%7D)(x_i-%20%5Cbar%7Bx%7D)%20%5Cright)%20%5C%5C%0A%5C%5C%0A%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%20%5Chat%5Cbeta_2%7D%20QS%0A&amp;=%20-2%20%5Ccdot%20%5Cleft(%5Csum%5Climits_%7Bi=1%7D%5En%20%20z_i%5Ccdot%20y_i%20-%20(%5Cbar%7Bz%7D%20%20-%20%5Chat%5Cbeta_1%20%5Ccdot%20%5Cbar%7Bx%7D%20-%20%5Chat%5Cbeta_2%20%5Ccdot%20%5Cbar%7By%7D)%20%5Ccdot%20n%20%5Ccdot%20%5Cbar%7By%7D-%20%5Chat%5Cbeta_1%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En%20x_i%5Ccdot%20y_i%20-%20%5Chat%5Cbeta_2%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En%20y_i%5E2%20%5Cright)%20%5C%5C%0A&amp;=%20-2%20%5Ccdot%20%5Cleft(%5Csum%5Climits_%7Bi=1%7D%5En%20(z_i-%5Cbar%7Bz%7D)(y_i%20-%20%5Cbar%7By%7D)%20-%20%5Chat%5Cbeta_2%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En%20(y_i%20-%5Cbar%7By%7D)%5E2%20-%20%5Chat%5Cbeta_1%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En%20(y_i-%5Cbar%7By%7D)(x_i-%20%5Cbar%7Bx%7D)%20%5Cright)%20%5C%5C%0A%5Cend%7Baligned%7D%0A"></p>
<p>Wir setzen die beiden Gleichungen nun gleich Null und formen nach <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_1"> und <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_2"> um:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%20%20%5Chat%5Cbeta_1%0A%20%20&amp;=%20%5Cfrac%7B%5Csum%5Climits_%7Bi=1%7D%5En%20(z_i-%5Cbar%7Bz%7D)(x_i%20-%20%5Cbar%7Bx%7D)%20-%20%5Chat%5Cbeta_2%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En%20(y_i-%5Cbar%7By%7D)(x_i-%20%5Cbar%7Bx%7D)%7D%7B%5Csum%5Climits_%7Bi=1%7D%5En%20(x_i%20-%5Cbar%7Bx%7D)%5E2%7D%20%5C%5C%0A%20%20%5C%5C%0A%20%20%5Chat%5Cbeta_2%0A%20%20&amp;=%20%5Cfrac%7B%5Csum%5Climits_%7Bi=1%7D%5En%20(z_i-%5Cbar%7Bz%7D)(y_i%20-%20%5Cbar%7By%7D)%20-%20%5Chat%5Cbeta_1%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En%20(y_i-%5Cbar%7By%7D)(x_i-%20%5Cbar%7Bx%7D)%7D%7B%5Csum%5Climits_%7Bi=1%7D%5En%20(y_i%20-%5Cbar%7By%7D)%5E2%7D%0A%5Cend%7Baligned%7D%0A"></p>
<p>Durch Erweiterung von Zähler nun Nenner mit <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B1%7D%7Bn-1%7D"> erhalten wir:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%20%20%5Chat%5Cbeta_1%0A%20%20&amp;=%20%5Cfrac%7B%5Cfrac%7B1%7D%7Bn-1%7D%5Ccdot%5Csum%5Climits_%7Bi=1%7D%5En%20(z_i-%5Cbar%7Bz%7D)(x_i%20-%20%5Cbar%7Bx%7D)%20-%20%5Chat%5Cbeta_2%20%5Ccdot%20%5Cfrac%7B1%7D%7Bn-1%7D%5Ccdot%5Csum%5Climits_%7Bi=1%7D%5En%20(y_i-%5Cbar%7By%7D)(x_i-%20%5Cbar%7Bx%7D)%7D%7B%5Cfrac%7B1%7D%7Bn-1%7D%5Ccdot%5Csum%5Climits_%7Bi=1%7D%5En%20(x_i%20-%5Cbar%7Bx%7D)%5E2%7D%20%5C%5C%0A%20%20&amp;=%20%5Cfrac%7Bs_%7Bx,z%7D-%5Chat%5Cbeta_2%5Ccdot%20s_%7Bx,y%7D%7D%7Bs%5E2_%7Bx%7D%7D%20=%20%5Cfrac%7Bs_%7Bx,z%7D%7D%7Bs%5E2_x%7D-%5Chat%5Cbeta_2%20%5Cfrac%7Bs_%7Bx,y%7D%7D%7Bs%5E2_%7Bx%7D%7D%20%5C%5C%0A%20%20%5C%5C%0A%20%20%5Chat%5Cbeta_2%0A%20%20&amp;=%20%5Cfrac%7B%5Cfrac%7B1%7D%7Bn-1%7D%5Ccdot%5Csum%5Climits_%7Bi=1%7D%5En%20(z_i-%5Cbar%7Bz%7D)(y_i%20-%20%5Cbar%7By%7D)%20-%20%5Chat%5Cbeta_1%20%5Ccdot%20%5Cfrac%7B1%7D%7Bn-1%7D%5Ccdot%5Csum%5Climits_%7Bi=1%7D%5En%20(y_i-%5Cbar%7By%7D)(x_i%20-%20%5Cbar%7Bx%7D)%7D%7B%5Cfrac%7B1%7D%7Bn-1%7D%5Ccdot%5Csum%5Climits_%7Bi=1%7D%5En%20(y_i%20-%5Cbar%7By%7D)%5E2%7D%20%5C%5C%0A%20%20&amp;=%20%5Cfrac%7Bs_%7By,z%7D-%5Chat%5Cbeta_1%5Ccdot%20s_%7Bx,y%7D%7D%7Bs%5E2_%7By%7D%7D%20=%20%5Cfrac%7Bs_%7By,z%7D%7D%7Bs%5E2_y%7D-%5Chat%5Cbeta_1%20%5Cfrac%7Bs_%7Bx,y%7D%7D%7Bs%5E2_%7By%7D%7D%20%5C%5C%0A%5Cend%7Baligned%7D%0A"></p>
<p>wir setzen nun die erste in die zweite Gleichung ein und erhalten:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%5Chat%5Cbeta_2%0A%20%20&amp;=%20%5Cfrac%7Bs_%7By,z%7D%7D%7Bs%5E2_y%7D%20-%20%5Cleft(%5Cfrac%7Bs_%7Bx,z%7D%7D%7Bs%5E2_x%7D-%5Chat%5Cbeta_2%20%5Cfrac%7Bs_%7Bx,y%7D%7D%7Bs%5E2_%7Bx%7D%7D%5Cright)%20%5Cfrac%7Bs_%7Bx,y%7D%7D%7Bs%5E2_%7By%7D%7D%20%5C%5C%0A%20%20&amp;=%20%5Cfrac%7Bs_%7By,z%7D%7D%7Bs%5E2_y%7D%20-%20%5Cfrac%7Bs_%7Bx,z%7D%7D%7Bs%5E2_x%7D%5Cfrac%7Bs_%7Bx,y%7D%7D%7Bs%5E2_%7By%7D%7D%20+%20%5Chat%5Cbeta_2%20%5Cfrac%7Bs_%7Bx,y%7D%7D%7Bs%5E2_%7Bx%7D%7D%5Cfrac%7Bs_%7Bx,y%7D%7D%7Bs%5E2_%7By%7D%7D%20%5C%5C%0A%20%20&amp;=%20%5Cfrac%7B%5Cfrac%7Bs_%7By,z%7D%7D%7Bs%5E2_y%7D%20-%20%5Cfrac%7Bs_%7Bx,z%7D%7D%7Bs%5E2_x%7D%5Cfrac%7Bs_%7Bx,y%7D%7D%7Bs%5E2_%7By%7D%7D%7D%7B1-%5Cfrac%7Bs_%7Bx,y%7D%7D%7Bs%5E2_%7Bx%7D%7D%5Cfrac%7Bs_%7Bx,y%7D%7D%7Bs%5E2_%7By%7D%7D%7D%20%5C%5C%0A%20%20&amp;=%20%5Cfrac%7B%5Cfrac%7Bs_%7By,z%7D%5Ccdot%20s%5E2_x%20-%20s_%7Bx,z%7D%20s_%7Bx,y%7D%7D%7Bs%5E2_x%5Ccdot%20s%5E2_y%7D%7D%7B%5Cfrac%7Bs%5E2_x%20s%5E2_y-(s_%7Bx,y%7D)%5E2%7D%7Bs%5E2_x%20%5Ccdot%20s%5E2_y%7D%7D%0A%20%20=%20%5Cfrac%7Bs_%7By,z%7D%5Ccdot%20s%5E2_x%20-%20s_%7Bx,z%7D%20s_%7Bx,y%7D%7D%7Bs%5E2_x%20s%5E2_y-(s_%7Bx,y%7D)%5E2%7D%0A%5Cend%7Baligned%7D%0A"></p>
<p>Und damit weiter:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%5Chat%5Cbeta_1%20%20%0A%20%20&amp;=%20%5Cfrac%7Bs_%7Bx,z%7D%7D%7Bs%5E2_x%7D-%5Chat%5Cbeta_2%20%5Cfrac%7Bs_%7Bx,y%7D%7D%7Bs%5E2_%7Bx%7D%7D%20%5C%5C%0A%20%20&amp;=%20%5Cfrac%7Bs_%7Bx,z%7D%7D%7Bs%5E2_x%7D%20-%20%5Cfrac%7Bs_%7By,z%7D%5Ccdot%20s%5E2_x%20-%20s_%7Bx,z%7D%20s_%7Bx,y%7D%7D%7Bs%5E2_x%20s%5E2_y-(s_%7Bx,y%7D)%5E2%7D%20%5Cfrac%7Bs_%7Bx,y%7D%7D%7Bs%5E2_%7Bx%7D%7D%20%5C%5C%0A%20%20&amp;=%20%5Cfrac%7Bs_%7Bx,z%7D%20(s%5E2_x%20s%5E2_y%20-%20(s_%7Bx,y%7D)%5E2)%20-%20s_%7By,z%7Ds_%7Bx,y%7Ds%5E2_x%20+%20s_%7Bx,z%7Ds_%7Bx,y%7Ds_%7Bx,y%7D%7D%7Bs%5E2_x%20(s%5E2_x%20s%5E2_y%20-%20(s_%7Bx,y%7D)%5E2)%7D%20%5C%5C%0A%20%20%20%20&amp;=%20%5Cfrac%7Bs_%7Bx,z%7Ds%5E2_x%20s%5E2_y%20-%20s_%7Bx,z%7D(s_%7Bx,y%7D)%5E2%20-%20s_%7By,z%7Ds_%7Bx,y%7Ds%5E2_x%20+%20s_%7Bx,z%7D(s_%7Bx,y%7D)%5E2%7D%7Bs%5E2_x%20s%5E2_x%20s%5E2_y-%20s%5E2_x(s_%7Bx,y%7D)%5E2%7D%20%5C%5C%0A%5Cend%7Baligned%7D%0A"></p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(mosaic)</span>
<span id="cb1-2"></span>
<span id="cb1-3">mtcars <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb1-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(mpg, hp, wt) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> dt</span>
<span id="cb1-5"></span>
<span id="cb1-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Von R berechnete Koeffizienten:</span></span>
<span id="cb1-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coef</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lm</span>(mpg <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> wt, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt))</span>
<span id="cb1-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; (Intercept)          hp          wt </span></span>
<span id="cb1-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 37.22727012 -0.03177295 -3.87783074</span></span>
<span id="cb1-10"></span>
<span id="cb1-11">mean_x <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>( <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)</span>
<span id="cb1-12">mean_y <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>( <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> wt, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)</span>
<span id="cb1-13">mean_z <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>( <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> mpg, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)</span>
<span id="cb1-14"></span>
<span id="cb1-15">s_xy <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cov</span>(hp <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> wt, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)</span>
<span id="cb1-16">s_xz <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cov</span>(hp <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> mpg, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)</span>
<span id="cb1-17">s_yz <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cov</span>(wt <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> mpg, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)</span>
<span id="cb1-18"></span>
<span id="cb1-19">var_x <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">var</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)</span>
<span id="cb1-20">var_y <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">var</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> wt, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)</span>
<span id="cb1-21">b1z <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> s_xz<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>var_x<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>var_y <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> s_xz<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>(s_xy)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">**</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> s_yz<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>s_xy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>var_x <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> s_xz<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>s_xy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">**</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span></span>
<span id="cb1-22">b1n <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> var_x<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>var_x<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>var_y <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> var_x<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>s_xy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">**</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span></span>
<span id="cb1-23">b1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> b1z <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> b1n</span>
<span id="cb1-24">b2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> (s_yz<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>var_x <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> s_xz<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>s_xy) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> (var_x <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> var_y <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> s_xy<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>s_xy)</span>
<span id="cb1-25">b0 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> mean_z <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> b1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> mean_x <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> b2 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> mean_y</span>
<span id="cb1-26"></span>
<span id="cb1-27"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Koeffizienten zur Ausgabe aufbereiten:</span></span>
<span id="cb1-28">my_coef <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(b0, b1, b2)</span>
<span id="cb1-29"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(my_coef) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"(Intercept)"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hp"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"wt"</span>)</span>
<span id="cb1-30"></span>
<span id="cb1-31"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Von Hand berechnete Koeffizienten:</span></span>
<span id="cb1-32">my_coef</span>
<span id="cb1-33"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; (Intercept)          hp          wt </span></span>
<span id="cb1-34"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 37.22727012 -0.03177295 -3.87783074</span></span></code></pre></div></div>
</div>
<section id="was-passiert-wenn-wir-alle-datenpunkte-studentisieren" class="level2">
<h2 class="anchored" data-anchor-id="was-passiert-wenn-wir-alle-datenpunkte-studentisieren">Was passiert, wenn wir alle Datenpunkte studentisieren?</h2>
<p>Wir rechnen um in:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0Ax_i%5E%7B%5Ctext%7Bstud%7D%7D%20=%20%5Cfrac%7Bx_i-%5Cbar%7Bx%7D%7D%7Bs_x%7D;%20%5Cquad%20y_i%5E%7B%5Ctext%7Bstud%7D%7D%20=%20%5Cfrac%7By_i-%5Cbar%7By%7D%7D%7Bs_y%7D;%20%5Cquad%20z_i%5E%7B%5Ctext%7Bstud%7D%7D%20=%20%5Cfrac%7Bz_i-%5Cbar%7Bz%7D%7D%7Bs_z%7D%0A"></p>
<p>Damit ist</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbar%7Bx_i%7D%5E%5Ctext%7Bstud%7D%20=%200;%20%5Cquad%20%5Cbar%7By_i%7D%5E%5Ctext%7Bstud%7D%20=%200;%5Cquad%20%5Cbar%7Bz_i%7D%5E%5Ctext%7Bstud%7D%20=%200%0A"> und</p>
<p><img src="https://latex.codecogs.com/png.latex?%0As_%7B%7Bx_i%7D%5E%5Ctext%7Bstud%7D%7D%20=%201;%20%5Cquad%20s_%7B%7By_i%7D%5E%5Ctext%7Bstud%7D%7D%20=%201;%5Cquad%20s_%7B%7Bz_i%7D%5E%5Ctext%7Bstud%7D%7D%20=%201%0A"></p>
<p>Zur Vereinfachung lassen wir die Kennzeichnung “stud” weg. Damit ist dann:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%5Chat%5Cbeta_0%0A%20%20&amp;=%200%5C%5C%0A%5C%5C%0A%5Chat%5Cbeta_1%0A%20%20&amp;=%20%5Cfrac%7Bs_%7Bx,z%7D%20%5Ccdot%20s%5E2_x%20%5Ccdot%20s%5E2_y%20-%20s_%7Bx,z%7D%20%5Ccdot%20(s_%7Bx,y%7D)%5E2%20-%20s_%7By,z%7D%20%5Ccdot%20s_%7Bx,y%7Ds%5E2_x%20+%20s_%7Bx,z%7D%20%5Ccdot%20(s_%7Bx,y%7D)%5E2%7D%7Bs%5E2_x%20%5Ccdot%20s%5E2_x%20s%5E2_y-%20s%5E2_x%20%5Ccdot%20(s_%7Bx,y%7D)%5E2%7D%20%5C%5C%0A%20%20&amp;=%20%5Cfrac%7Bs_%7Bx,z%7D%20%5Ccdot%201%20%5Ccdot%201%20-%20%20s_%7Bx,z%7D%20%5Ccdot%20(s_%7Bx,y%7D)%5E2%20-%20s_%7By,z%7D%20%5Ccdot%20s_%7Bx,y%7D%20%5Ccdot%201%20+%20s_%7Bx,z%7D%20%5Ccdot%20(s_%7Bx,y%7D)%5E2%7D%7B1%20%5Ccdot%201%20%5Ccdot%201%20-%201%20%5Ccdot%20(s_%7Bx,y%7D)%5E2%7D%5C%5C%0A%20%20&amp;=%20%5Cfrac%7Bs_%7Bx,z%7D%20-%20%20s_%7Bx,z%7D%20%5Ccdot%20(s_%7Bx,y%7D)%5E2%20-%20s_%7By,z%7D%20%5Ccdot%20s_%7Bx,y%7D%20+%20s_%7Bx,z%7D%20%5Ccdot%20(s_%7Bx,y%7D)%5E2%7D%7B1%20-%20(s_%7Bx,y%7D)%5E2%7D%20%5C%5C%0A%20%20&amp;=%20%5Cfrac%7Bs_%7Bx,z%7D%20-%20s_%7By,z%7D%20%5Ccdot%20s_%7Bx,y%7D%20%7D%7B1%20-%20(s_%7Bx,y%7D)%5E2%7D%20%5C%5C%0A%5C%5C%0A%5Chat%5Cbeta_2%0A%20%20&amp;=%20%5Cfrac%7Bs_%7By,z%7D%20%5Ccdot%20s%5E2_x%20-%20s_%7Bx,z%7D%20%5Ccdot%20s_%7Bx,y%7D%7D%7Bs%5E2_x%20%5Ccdot%20s%5E2_y%20-%20(s_%7Bx,y%7D)%5E2%7D%20%5C%5C%0A%20%20&amp;=%20%5Cfrac%7Bs_%7By,z%7D%20%5Ccdot%201%20-%20s_%7Bx,z%7D%20%5Ccdot%20s_%7Bx,y%7D%7D%7B1%20%5Ccdot%201%20-%20(s_%7Bx,y%7D)%5E2%7D%20%5C%5C%0A%20%20&amp;=%20%5Cfrac%7Bs_%7By,z%7D%20-%20s_%7Bx,z%7D%20%5Ccdot%20s_%7Bx,y%7D%7D%7B1%20-%20(s_%7Bx,y%7D)%5E2%7D%20%5C%5C%0A%5Cend%7Baligned%7D%0A"></p>
<p>Wir schauen uns ein paar Fälle genauer an:</p>
<ol type="1">
<li><p>Fall: <img src="https://latex.codecogs.com/png.latex?X"> und <img src="https://latex.codecogs.com/png.latex?Y"> sind unabhängig. Dann ist <img src="https://latex.codecogs.com/png.latex?s_%7Bx,y%7D=0"> und wir erhalten <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_1=s_%7Bx,z%7D%5Cin%5B-1;1%5D"> und <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_2=s_%7By,z%7D%5Cin%5B-1;1%5D">.</p></li>
<li><p>Fall: <img src="https://latex.codecogs.com/png.latex?X"> und <img src="https://latex.codecogs.com/png.latex?Y"> sind abhängig. Dann ist <img src="https://latex.codecogs.com/png.latex?%7Cs_%7Bx,y%7D%7C=1"> und es gibt keine Lösung für <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_1"> und <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_2">.</p></li>
<li><p>Fall: <img src="https://latex.codecogs.com/png.latex?0%20%3C%20%7Cs_%7Bx,y%7D%7C%20%3C%201">. …</p></li>
</ol>


</section>

 ]]></description>
  <category>Statistik</category>
  <guid>https://www.sefiroth.de/posts/2021-06-24-dinge-die-man-in-zwei-dimensionen-machen-kann-multiple-lineare-regression/</guid>
  <pubDate>Wed, 23 Jun 2021 22:00:00 GMT</pubDate>
</item>
<item>
  <title>Regression mit studentisierten Daten</title>
  <dc:creator>Norman Markgraf</dc:creator>
  <link>https://www.sefiroth.de/posts/2021-06-23-regression-mit-studentisierten-daten/</link>
  <description><![CDATA[ 





<p>Bei einer einfachen linearen Regression versuchen wir zu vorgegebenen Datenpunkten <img src="https://latex.codecogs.com/png.latex?(x_1,%20y_1),%20%5Ccdots%20(x_n,%20y_n)"> die Parameter einer möglichst passenden Gerade <img src="https://latex.codecogs.com/png.latex?g(x)=%5Cbeta_0%20+%20%5Cbeta_1%20%5Ccdot%20x"> zu schätzen.</p>
<p>Die Schätzung des y-Achsenabschnitts <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_0"> und der Steigung <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_1"> erfolgt dabei algebraisch exakt mittels:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Chat%5Cbeta_0%20=%20%5Cbar%7By%7D%20-%20%5Chat%5Cbeta_1%20%5Ccdot%20%5Cbar%7Bx%7D%20%5Cquad%5Ctext%7Bund%7D%5Cquad%20%5Chat%5Cbeta_1%20=%20%5Cfrac%7Bs_x%7D%7Bs_y%7D%5Ccdot%20r_%7Bx,y%7D%0A"></p>
<p>Dabei sind <img src="https://latex.codecogs.com/png.latex?%5Cbar%7Bx%7D"> bzw. <img src="https://latex.codecogs.com/png.latex?%5Cbar%7By%7D"> die Mittelwerte und <img src="https://latex.codecogs.com/png.latex?s_x"> bzw. <img src="https://latex.codecogs.com/png.latex?s_y"> die Standardabweichungen der Datenpunkte <img src="https://latex.codecogs.com/png.latex?x_i"> bzw. <img src="https://latex.codecogs.com/png.latex?y_i">; darüberhinaus ist <img src="https://latex.codecogs.com/png.latex?r_%7Bx,y%7D"> der Korrelationskoeffizient der Datenpunkte.</p>
<p>Beim studentisieren werden die Datenpunkte bzgl. des Mittelwertes zentriert und bzgl der Standardabweichung normiert:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0Ax_i%5E%7B%5Ctext%7Bstud%7D%7D%20=%20%5Cfrac%7Bx_i-%5Cbar%7Bx%7D%7D%7Bs_x%7D%20%5Cquad%5Ctext%7Bbzw.%7D%5Cquad%20y_i%5E%7B%5Ctext%7Bstud%7D%7D%20=%20%5Cfrac%7By_i-%5Cbar%7By%7D%7D%7Bs_y%7D%0A"></p>
<p>Was passiert nun durch eine solche Studentisierung (oft auch z-Transformation genannt) mit den geschätzen Parametern?</p>
<p>Die Mittelwerte <img src="https://latex.codecogs.com/png.latex?%5Cbar%7Bx%7D%5E%7Bstud%7D"> und <img src="https://latex.codecogs.com/png.latex?%5Cbar%7By%7D%5E%7Bstud%7D"> werden zu Null. Die Standardabweichungen <img src="https://latex.codecogs.com/png.latex?s_%7Bx%5E%7Bstud%7D%7D"> und <img src="https://latex.codecogs.com/png.latex?s_%7By%5Estud%7D"> werden zur Eins:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbar%7Bx%7D%5E%7Bstud%7D=0=%5Cbar%7By%7D%5E%7Bstud%7D%20%5Cqquad%20s_%7Bx%5E%7Bstud%7D%7D=%201%20=%20s_%7By%5E%7Bstud%7D%7D%0A"></p>
<p>Der y-Achsenabschnitt wird nun durch</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Chat%5Cbeta_0%5E%7Bstud%7D%0A=%20%5Cbar%7By%7D%5E%7Bstud%7D%20-%20%5Chat%5Cbeta_1%5E%7Bstud%7D%20%5Ccdot%20%5Cbar%7Bx%7D%5E%7Bstud%7D%0A=%200%20-%20%5Chat%5Cbeta_1%5E%7Bstud%7D%20%5Ccdot%200%20=%200%0A"></p>
<p>und die Steigung durch</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Chat%5Cbeta_1%5E%7Bstud%7D%0A=%20%5Cfrac%7Bs_%7Bx%5E%7Bstud%7D%7D%7D%7Bs_%7By%5E%7Bstud%7D%7D%7D%5Ccdot%20r_%7Bx%5E%7Bstud%7D,y%5E%7Bstud%7D%7D%0A=%20%5Cfrac%7B1%7D%7B1%7D%5Ccdot%20r_%7Bx%5E%7Bstud%7D,y%5E%7Bstud%7D%7D%20=%20r_%7Bx%5E%7Bstud%7D,y%5E%7Bstud%7D%7D%0A"></p>
<p>geschätzt.</p>
<p>Für den Korrelationskoeffienten gilt nun</p>
<p><img src="https://latex.codecogs.com/png.latex?%0Ar_%7Bx%5E%7Bstud%7D,y%5E%7Bstud%7D%7D%0A=%20%5Cfrac%7Bs_%7Bx%5E%7Bstud%7D,y%5E%7Bstud%7D%7D%7D%7Bs_%7Bx%5E%7Bstud%7D%7D%5Ccdot_%7By%5E%7Bstud%7D%7D%7D%0A=%20%5Cfrac%7Bs_%7Bx%5E%7Bstud%7D,y%5E%7Bstud%7D%7D%7D%7B1%20%5Ccdot%201%7D%0A=%20s_%7Bx%5E%7Bstud%7D,y%5E%7Bstud%7D%7D.%0A"></p>
<p>Damit Schätzen wir unsere Steigung <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_1%5E%7Bstud%7D"> direkt aus der Kovarianz <img src="https://latex.codecogs.com/png.latex?s_%7Bx%5E%7Bstud%7D,y%5E%7Bstud%7D%7D">.</p>
<p>Damit gilt:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Chat%5Cbeta_1%5E%7Bstud%7D%20=%20r_%7Bx%5E%7Bstud%7D,y%5E%7Bstud%7D%7D%20=%20s_%7Bx%5E%7Bstud%7D,y%5E%7Bstud%7D%7D%20%5Cin%20%5B-1,%201%5D%0A"></p>
<p>In Worten zusammengefasst: <em>Im studentisierten Fall ist</em></p>
<ul>
<li><em>der y-Achsenabschnitt immer 0 und</em></li>
<li><em>die Steigung immer ein Wert zwischen -1 und 1</em></li>
</ul>
<section id="beispiel-mtcars--daten" class="level3">
<h3 class="anchored" data-anchor-id="beispiel-mtcars--daten">Beispiel: <code>mtcars</code>- Daten</h3>
<p>Auf Grundlage der Datentabelle <em>mtcars</em> wollen wir den linearer Zusammenhang zwischen dem Verbrauch (in Meilen pro Gallone <em>mpg</em>) und der Leistung (Pferdestärke <em>hp</em>) modellieren.<sup>1</sup></p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(mosaic)</span>
<span id="cb1-2"></span>
<span id="cb1-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Wir nehmen die Datentabelle 'mtcars':</span></span>
<span id="cb1-4">mtcars <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb1-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(hp, mpg) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> dt</span>
<span id="cb1-6"></span>
<span id="cb1-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Ein kurzer Blick aus die Daten:</span></span>
<span id="cb1-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">df_stats</span>( <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> mpg, mean, sd, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)</span>
<span id="cb1-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;   response      mean        sd</span></span>
<span id="cb1-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 1       hp 146.68750 68.562868</span></span>
<span id="cb1-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 2      mpg  20.09062  6.026948</span></span>
<span id="cb1-12"></span>
<span id="cb1-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Wir vergleichen den Verbrauch (mpg, miles per gallon) </span></span>
<span id="cb1-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># mit den Pferdestärken (hp) mit Hilfe eines Streudiagramms.</span></span>
<span id="cb1-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Dazu berechnen wir vorab die Mittelwerte</span></span>
<span id="cb1-16">mean_hp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)</span>
<span id="cb1-17">mean_mpg <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> mpg, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)</span>
<span id="cb1-18"></span>
<span id="cb1-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># und berechnen nun die Schätzwerte für die Regressionsgerade</span></span>
<span id="cb1-20">beta_1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cov</span>(mpg <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">var</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)</span>
<span id="cb1-21">beta_0 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> mean_mpg <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> beta_1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> mean_hp</span>
<span id="cb1-22"></span>
<span id="cb1-23"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># schliesslich zeichnen alles in das Streudiagramm ein:</span></span>
<span id="cb1-24"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_point</span>(mpg <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb1-25">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_hline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">yintercept =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> mean_mpg, </span>
<span id="cb1-26">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey60"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dashed"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb1-27">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_vline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> mean_hp, </span>
<span id="cb1-28">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey60"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dashed"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb1-29">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_point</span>(mean_mpg <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> mean_hp, </span>
<span id="cb1-30">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb1-31">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_abline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">slope =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> beta_1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">intercept =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>beta_0, </span>
<span id="cb1-32">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dodgerblue"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb1-33">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_lims</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">35</span>))</span></code></pre></div></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-23-regression-mit-studentisierten-daten/index_files/figure-html/unnamed-chunk-1-1.webp" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
<p>Die Funktionsvorschrift für die (blaue) Regressionsgerade lautet:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%20%20%5Chat%7By%7D%20&amp;=%20%5Chat%5Cbeta_0%20+%20%5Chat%5Cbeta_1%20%5Ccdot%20x%20%5C%5C%0A%20%20%20%20%20%20%20%20%20%20&amp;%5Capprox%2030.0988605%20-0.0682283%20%5Ccdot%20x%20%5C%5C%0A%20%20%20%20%20%20%20%20%20%20&amp;%5Capprox%2030.099%20-0.068%20%5Ccdot%20x%0A%5Cend%7Baligned%7D%0A"></p>
<p>Studentisieren wir nun die <em>mpg</em> und <em>hp</em> Werte. In <strong>R</strong> können wir das mit der Funktion ‘zscore()’<sup>2</sup> wie folgt machen:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">dt <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb2-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb2-3">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hp_stud =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">zscore</span>(hp),</span>
<span id="cb2-4">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mpg_stud =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">zscore</span>(mpg)</span>
<span id="cb2-5">  ) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> dt</span>
<span id="cb2-6"></span>
<span id="cb2-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Ein kurzer Blick aus die Daten:</span></span>
<span id="cb2-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">df_stats</span>( <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp_stud <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> mpg_stud, mean, sd, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)</span>
<span id="cb2-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;   response          mean sd</span></span>
<span id="cb2-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 1  hp_stud -4.857226e-17  1</span></span>
<span id="cb2-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 2 mpg_stud  4.336809e-17  1</span></span></code></pre></div></div>
</div>
<p>Der Grund für die kleinen Abweichungen von der Null bei den Mittelwerten sind unumgängliche Rundungsfehler, die der Computer macht!</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Wir "berechnen" die Mittelwerte:</span></span>
<span id="cb3-2">mean_hp_stud <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># = mean(~ hp_stud, data = dt)</span></span>
<span id="cb3-3">mean_mpg_stud <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># = mean(~ mpg_stud, data = dt)</span></span>
<span id="cb3-4"></span>
<span id="cb3-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Berechnen wir nun die Schätzwerte für die Regressionsgerade:</span></span>
<span id="cb3-6">beta_1_stud <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cov</span>(mpg_stud <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp_stud, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)</span>
<span id="cb3-7">beta_0_stud <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># = mean_mpg_stud - beta_1_stud * mean_hp_stud</span></span>
<span id="cb3-8"></span>
<span id="cb3-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># und zeichnen diese in unser Streudiagramm ein:</span></span>
<span id="cb3-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_point</span>(mpg_stud <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp_stud, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_hline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">yintercept =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> mean_mpg_stud, </span>
<span id="cb3-12">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey60"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dashed"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_vline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> mean_hp_stud, </span>
<span id="cb3-14">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey60"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dashed"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_point</span>(mean_mpg_stud <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> mean_hp_stud, </span>
<span id="cb3-16">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-17">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_abline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">slope =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> beta_1_stud, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">intercept =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>beta_0_stud, </span>
<span id="cb3-18">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dodgerblue"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-19">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_lims</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>))</span></code></pre></div></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-23-regression-mit-studentisierten-daten/index_files/figure-html/unnamed-chunk-3-1.webp" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
<p>Die Regressionsgerade im studentisierten Problem lautet nun:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%20%20%5Chat%7By%7D%5E%7Bstud%7D%20&amp;=%20%5Chat%5Cbeta_0%5E%7Bstud%7D%20+%20%5Chat%5Cbeta_1%5E%7Bstud%7D%20%5Ccdot%20x%5E%7Bstud%7D%20%5C%5C%0A%20%20%20%20&amp;%5Capprox%200%20-%200.7761684%20%5Ccdot%20x%5E%7Bstud%7D%20%5C%5C%0A%20%20%20%20&amp;%5Capprox%200%20-0.776%20%5Ccdot%20x%5E%7Bstud%7D%0A%5Cend%7Baligned%7D%0A"></p>
</section>
<section id="direkt-mit-r" class="level3">
<h3 class="anchored" data-anchor-id="direkt-mit-r">Direkt mit ‘R’</h3>
<p>Wir erhalten unsere Ergebnisse natürlich auch direkt in R, ohne selber die Werte auszurechnen:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Ursprüngliches Modell:</span></span>
<span id="cb4-2">erglm <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lm</span>(mpg <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)</span>
<span id="cb4-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coef</span>(erglm)</span>
<span id="cb4-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; (Intercept)          hp </span></span>
<span id="cb4-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 30.09886054 -0.06822828</span></span>
<span id="cb4-6"></span>
<span id="cb4-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Studentisiertes Modell:</span></span>
<span id="cb4-8">erglm_stud <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lm</span>(mpg_stud <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp_stud, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)</span>
<span id="cb4-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coef</span>(erglm_stud)</span>
<span id="cb4-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;   (Intercept)       hp_stud </span></span>
<span id="cb4-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;  7.209053e-17 -7.761684e-01</span></span></code></pre></div></div>
</div>
</section>
<section id="zurückrechnen-der-studentisierten-werte-in-das-ursprüngliche-problem" class="level3">
<h3 class="anchored" data-anchor-id="zurückrechnen-der-studentisierten-werte-in-das-ursprüngliche-problem">Zurückrechnen der studentisierten Werte in das ursprüngliche Problem</h3>
<p>Aus dem Ergebnis des studentisierten Modells können wir die Koeffizenten des ursprünglichen Modells wie folgt berechnen:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Chat%5Cbeta_1%20=%20%5Chat%5Cbeta_1%5E%7Bstud%7D%20%5Ccdot%20%5Cfrac%7Bs_y%7D%7Bs_x%7D%0A"> und</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Chat%5Cbeta_0%20=%20%5Cbar%7By%7D%20-%20%5Chat%5Cbeta_1%20%5Ccdot%20%5Cbar%7Bx%7D%0A"></p>
<p>In <strong>R</strong> geht das wie folgt:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">mean_mpg <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>( <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> mpg, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)</span>
<span id="cb5-2">sd_mpg <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sd</span>( <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> mpg, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)</span>
<span id="cb5-3">mean_hp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>( <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)</span>
<span id="cb5-4">sd_hp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sd</span>( <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)</span>
<span id="cb5-5"></span>
<span id="cb5-6">(beta_1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> beta_1_stud <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> sd_mpg <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> sd_hp)</span>
<span id="cb5-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; [1] -0.06822828</span></span>
<span id="cb5-8">(beta_0 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> mean_mpg <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> beta_1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> mean_hp)</span>
<span id="cb5-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; [1] 30.09886</span></span></code></pre></div></div>
</div>
</section>
<section id="fazit" class="level3">
<h3 class="anchored" data-anchor-id="fazit">Fazit</h3>
<p>…</p>
</section>
<section id="reproduzierbarkeitsinformationen" class="level2">
<h2 class="anchored" data-anchor-id="reproduzierbarkeitsinformationen">Reproduzierbarkeitsinformationen</h2>
<div class="cell" data-layout-align="center">
<pre><code>#&gt; R version 4.5.1 (2025-06-13)
#&gt; Platform: aarch64-apple-darwin20
#&gt; Running under: macOS Sequoia 15.5
#&gt; 
#&gt; Locale: en_US.UTF-8 / en_US.UTF-8 / en_US.UTF-8 / C / en_US.UTF-8 / en_US.UTF-8
#&gt; 
#&gt; Package version:
#&gt;   mosaic_1.9.1 tidyr_1.3.1  xfun_0.52</code></pre>
</div>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Fußnoten</h2>

<ol>
<li id="fn1"><p>Das “Cookbook” zur Datentabelle können Sie mit Hilfe von <code>help("mtcars")</code> aufrufen!↩︎</p></li>
<li id="fn2"><p>Sie können hier auch die Funktion <code>scale()</code> verwenden!↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>Statistik</category>
  <guid>https://www.sefiroth.de/posts/2021-06-23-regression-mit-studentisierten-daten/</guid>
  <pubDate>Tue, 22 Jun 2021 22:00:00 GMT</pubDate>
</item>
<item>
  <title>Interaktionseffekte leichter interpretieren durch Transformationen</title>
  <dc:creator>Norman Markgraf</dc:creator>
  <link>https://www.sefiroth.de/posts/2021-06-23-interaktionseffekte-leichter-interpretieren-durch-transformationen/</link>
  <description><![CDATA[ 





<section id="einleitung" class="level3">
<h3 class="anchored" data-anchor-id="einleitung">Einleitung</h3>
<p>Bei einer multiplen linearen Regression kann man den Einfluss einer unabhägigen Variable auf das Verhalten einer anderen unabhägigen Variable in Bezug auf die abhägige Variable mit modellieren.</p>
<p>Wir wollen das einmal an dem Beispiel der folgenden Datentabelle <a href="https://vincentarelbundock.github.io/Rdatasets/doc/AER/TeachingRatings.html"><em>Impact of Beauty on Instructor’s Teaching Ratings</em></a> und der Fragestellung in wie weit das Alter und das Geschlecht einen Einfluss auf das Evaluationsergebnis haben.</p>
<p>Dazu stellen laden wir die Daten aus dem Internet:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(mosaic)</span>
<span id="cb1-2">url <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://vincentarelbundock.github.io/Rdatasets/csv/AER/"</span>,</span>
<span id="cb1-3">              <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"TeachingRatings.csv"</span>)</span>
<span id="cb1-4">teacherratings <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read.csv</span>(url)</span></code></pre></div></div>
</div>
<p>und betrachten das Streudiagramm:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_point</span>(eval <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> age, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>gender, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> teacherratings)</span></code></pre></div></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-23-interaktionseffekte-leichter-interpretieren-durch-transformationen/index_files/figure-html/unnamed-chunk-2-1.webp" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="ein-lineares-modell" class="level3">
<h3 class="anchored" data-anchor-id="ein-lineares-modell">Ein lineares Modell</h3>
<p>Ein klassisches lineares Modell sieht wie folgt aus:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">erglm <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lm</span>(eval <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> age <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> gender <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> age<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>gender, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> teacherratings)</span>
<span id="cb3-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coef</span>(erglm)</span>
<span id="cb3-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;    (Intercept)            age     gendermale age:gendermale </span></span>
<span id="cb3-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;     4.49018892    -0.01306572    -0.32104348     0.01109285</span></span></code></pre></div></div>
</div>
<p>Doch was bedeuten diese Werte konkret:</p>
<ul>
<li><p>(Intercept) = 4.4901889: Gibt das (theoretische) Evaluationsergebnis für einer Frau im Alter von 0 Jahren an.</p></li>
<li><p>age = -0.0130657: Gibt an, um wie viele Punkte im Schnitt sich eine Frau pro Lebensjahr mehr verändert. (Da der Wert negativ ist, also verschlechtert.)</p></li>
<li><p>gendermale = -0.3210435: Gibt an, um wie viel sich das Startwert bei 0 Jahren verändert, wenn es ein Mann gewesen wäre. Wir kommen damit auf einen Startwert bei 0 Jahren für Männer von 4.1691454</p></li>
<li><p>age:gendermale = 0.0110928: Gibt an um wie viel sich die Steigung ändert, wenn statt einer Frau ein Mann betrachtet wird. Statt einer Änderung um -0.0130657 bei Frauen beträgt sie bei Männern <img src="https://latex.codecogs.com/png.latex?-0.0130657-0.0110928%20=%20-0.0019729">.</p></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">coef_female <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coef</span>(erglm)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>], <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coef</span>(erglm)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>])</span>
<span id="cb4-2">coef_male <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(</span>
<span id="cb4-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coef</span>(erglm)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coef</span>(erglm)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>],</span>
<span id="cb4-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coef</span>(erglm)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coef</span>(erglm)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>]</span>
<span id="cb4-5">)</span>
<span id="cb4-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_point</span>(eval <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> age, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>gender, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> teacherratings) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb4-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_coefline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">coef =</span> coef_female, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"female"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb4-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_coefline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">coef =</span> coef_male, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"male"</span>) </span>
<span id="cb4-9">  </span></code></pre></div></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-23-interaktionseffekte-leichter-interpretieren-durch-transformationen/index_files/figure-html/unnamed-chunk-4-1.webp" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
<p>Wir können so die folgenden Modellgleichungen aufstellen:</p>
<ol type="1">
<li><p>Für Frauen: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%20%20%5Cwidehat%7Beval%7D_%7B%5Ctext%7Bfemale%7D%7D%0A%20%20&amp;%20=%204.4901889%20-%200.0130657%20%5Ccdot%20age%20%5C%5C%0A%20%20&amp;%5Capprox%204.49%20-%200.013%20%5Ccdot%20age%0A%5Cend%7Baligned%7D%0A"></p></li>
<li><p>Für Männer: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%5Cwidehat%7Beval%7D_%7B%5Ctext%7Bmale%7D%7D%0A%20%20&amp;=%204.1691454%20-%200.0019729%20%5Ccdot%20age%5C%5C%0A%20%20&amp;%5Capprox%204.169%20-%200.002%20%5Ccdot%20age%0A%5Cend%7Baligned%7D%0A"></p></li>
</ol>
</section>
<section id="besserer-blick-durch-gute-transformation-der-daten" class="level3">
<h3 class="anchored" data-anchor-id="besserer-blick-durch-gute-transformation-der-daten">Besserer Blick durch gute Transformation der Daten</h3>
<p>Spannender wäre es aber, wenn die y-Achenabschnitte nicht so weit ausserhalb unseres Betrachungsbereichs (29; 73) liegen würde.</p>
<p>Wir zentrieren daher einmal unsere Altersangaben mit der Transformation:</p>
<p><img src="https://latex.codecogs.com/png.latex?age_i%5E%5Ctext%7Bcenter%7D%20=%20%20age_i%20-%20%5Coverline%7Bage%7D"></p>
<p>In <strong>R</strong>:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Mittelwert bestimmen und speichern:</span></span>
<span id="cb5-2">mean_age <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>( <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> age, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> teacherratings)</span>
<span id="cb5-3"></span>
<span id="cb5-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Transformation durchführen:</span></span>
<span id="cb5-5">teacherratings <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb5-7">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">age_center =</span> age <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> mean_age</span>
<span id="cb5-8">  ) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> teacherratings</span>
<span id="cb5-9"></span>
<span id="cb5-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Das Ergebnis kurz zusammenfassen:</span></span>
<span id="cb5-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">df_stats</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> age <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> age_center, min, mean, sd, max, </span>
<span id="cb5-12">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> teacherratings)</span>
<span id="cb5-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;     response       min         mean       sd      max</span></span>
<span id="cb5-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 1        age  29.00000 4.836501e+01 9.802742 73.00000</span></span>
<span id="cb5-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 2 age_center -19.36501 1.749500e-15 9.802742 24.63499</span></span></code></pre></div></div>
</div>
<p>Das der Mittelwert bei den zentrierten Daten nicht exakt Null ist liegt an den numerischen Besonderheiten des Rechners. Kurz: Computer können gar nicht richtig rechnen und haben daher hier einen kleinen Rundungsfehler!</p>
<p>Betrachten wir die gerundeten Werte, so ergibt sich das folgende, etwas übersichtlichere Bild:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Wir bauen uns gerundete Funktionen:</span></span>
<span id="cb6-2">round_digits <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Anzahl der Nachkommastellen</span></span>
<span id="cb6-3"></span>
<span id="cb6-4">mean_r <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(x) <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(x), round_digits)</span>
<span id="cb6-5">sd_r <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(x) <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sd</span>(x), round_digits)</span>
<span id="cb6-6">min_r <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(x) <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">min</span>(x), round_digits)</span>
<span id="cb6-7">max_r <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(x) <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>(x), round_digits)</span>
<span id="cb6-8"></span>
<span id="cb6-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Wir benutzen nun die gerundeten Werte:</span></span>
<span id="cb6-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">df_stats</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> age <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> age_center, min_r, mean_r, sd_r, max_r, </span>
<span id="cb6-11">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> teacherratings)</span>
<span id="cb6-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;     response   min_r mean_r  sd_r  max_r</span></span>
<span id="cb6-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 1        age  29.000 48.365 9.803 73.000</span></span>
<span id="cb6-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 2 age_center -19.365  0.000 9.803 24.635</span></span></code></pre></div></div>
</div>
<p>Im Mittel sind unsere Lehrer:innen also <img src="https://latex.codecogs.com/png.latex?48.365"> alt, die Jüngsten mit 29 etwa <img src="https://latex.codecogs.com/png.latex?19.365"> jünger und die Ältesten mit 73 etwa <img src="https://latex.codecogs.com/png.latex?24.635"> älter als der Altersdurchschnitt.</p>
<p>Ein Blick auf die Koeffizenten des linearen Modells bzgl. der zentrierten Daten:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">erglm_c <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lm</span>(eval <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> age_center <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> gender <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> age_center<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>gender, </span>
<span id="cb7-2">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> teacherratings)</span>
<span id="cb7-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coef</span>(erglm_c)</span>
<span id="cb7-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;           (Intercept)            age_center            gendermale </span></span>
<span id="cb7-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;            3.85826543           -0.01306572            0.21546232 </span></span>
<span id="cb7-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; age_center:gendermale </span></span>
<span id="cb7-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;            0.01109285</span></span></code></pre></div></div>
</div>
<p>Das dazu passende Streudiagramm mit den Regressionsgeraden:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">coef_c_female <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coef</span>(erglm_c)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>], <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coef</span>(erglm_c)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>])</span>
<span id="cb8-2">coef_c_male <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(</span>
<span id="cb8-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coef</span>(erglm_c)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coef</span>(erglm_c)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>],</span>
<span id="cb8-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coef</span>(erglm_c)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coef</span>(erglm_c)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>]</span>
<span id="cb8-5">)</span>
<span id="cb8-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_point</span>(eval <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> age_center, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>gender, </span>
<span id="cb8-7">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> teacherratings) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb8-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_coefline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">coef =</span> coef_c_female, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"female"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb8-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_coefline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">coef =</span> coef_c_male, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"male"</span>) </span>
<span id="cb8-10">  </span></code></pre></div></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-23-interaktionseffekte-leichter-interpretieren-durch-transformationen/index_files/figure-html/unnamed-chunk-8-1.webp" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
<p>Was bedeuten nun diese Werte konkret:</p>
<ul>
<li><p>(Intercept) = 3.8582654: Gibt das Evaluationsergebnis für einer Frau mit Durchschnittsalter (48) an.</p></li>
<li><p>age = -0.0130657: Gibt an, um wie viele Punkte im Schnitt sich eine Frau pro Lebensjahr mehr verändert.</p></li>
<li><p>gendermale = -0.3210435: Gibt an, um wie viel sich das Evaluationsergebnis eines Mannes im Durchschnittsalter ändert gegenüber dem einer Frau. Für das Durchschnittalter liegen Männer im Schnitt bei 4.0737278</p></li>
<li><p>age:gendermale = 0.0110928: Gibt an, um wie viel sich die Steigung ändert, wenn statt einer Frau ein Mann betrachtet wird. Statt einer Änderung um -0.0130657 bei Frauen beträgt sie bei Männern <img src="https://latex.codecogs.com/png.latex?-0.0130657-0.0110928%20=%20-0.0019729">.</p></li>
</ul>
<p>Wir können daher die folgenden Modellgleichungen aufstellen:</p>
<ol type="1">
<li><p>Für Frauen: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%20%20%5Cwidehat%7Beval%7D_%7B%5Ctext%7Bfemale%7D%7D%0A%20%20&amp;%20=%203.8582654%20-%200.0130657%20%5Ccdot%20(age%20-%2048.3650108)%20%5C%5C%0A%20%20&amp;%5Capprox%203.858%20-%200.013%20%5Ccdot%20(age%20-%2048.365)%0A%5Cend%7Baligned%7D%0A"></p></li>
<li><p>Für Männer: <img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%5Cwidehat%7Beval%7D_%7B%5Ctext%7Bmale%7D%7D%0A%20%20&amp;=%204.0737278%20-%200.0019729%20%5Ccdot%20(age%20-%2048.3650108)%20%5C%5C%0A%20%20&amp;%5Capprox%204.074%20-%200.002%20%5Ccdot%20(age%20-%2048.365)%0A%5Cend%7Baligned%7D%0A"></p></li>
</ol>
</section>
<section id="zur-interpretation" class="level3">
<h3 class="anchored" data-anchor-id="zur-interpretation">Zur Interpretation</h3>
<p>Im durchschnittlichen Alter ist das erwartete Evaluationsergebnis bei Frauen (<img src="https://latex.codecogs.com/png.latex?3.8582654">) um rund <img src="https://latex.codecogs.com/png.latex?0.215"> Punkte schlechter als bei Männern (<img src="https://latex.codecogs.com/png.latex?4.0737278">). Mit jedem Lebensjahr sinkt dabei in beiden Fällen, also sowohl bei Frauen als auch bei Männern, das Evaluationsergbnis. Bei den Frauen aber mit ca. <img src="https://latex.codecogs.com/png.latex?-0.013"> deutlich stärker als mit ca. <img src="https://latex.codecogs.com/png.latex?-0.002"> bei den Männern .</p>
</section>
<section id="fazit" class="level3">
<h3 class="anchored" data-anchor-id="fazit">Fazit</h3>
<p>Eine gute Transformation einiger Daten kann, dank der angepassten Modellgleichungen, die Interpretation der Ergebnisse deutlich vereinfachen!</p>
</section>
<section id="nachtrag-und-danksagung" class="level2">
<h2 class="anchored" data-anchor-id="nachtrag-und-danksagung">Nachtrag und Danksagung</h2>
<p>Die Idee zu diesem Blog-Post verdanke ich dem Blog von <em>Prof.&nbsp;Dr.&nbsp;Sebastian Sauer</em>. Hier der Link zum Orginal-Blog: <a href="https://data-se.netlify.app/2021/06/17/beispiel-zur-interpretation-des-interaktionseffekts/" class="uri">https://data-se.netlify.app/2021/06/17/beispiel-zur-interpretation-des-interaktionseffekts/</a></p>
<p>Danke auch für die kritische Durchsicht und die hilfreichen Anmerkungen.</p>
<!--
## Reproduzierbarkeitsinformationen


::: {.cell layout-align="center"}

```
#> R version 4.5.1 (2025-06-13)
#> Platform: aarch64-apple-darwin20
#> Running under: macOS Sequoia 15.5
#> 
#> Locale: en_US.UTF-8 / en_US.UTF-8 / en_US.UTF-8 / C / en_US.UTF-8 / en_US.UTF-8
#> 
#> Package version:
#>   mosaic_1.9.1 xfun_0.52
```
:::

-->


</section>

 ]]></description>
  <category>Statistik</category>
  <guid>https://www.sefiroth.de/posts/2021-06-23-interaktionseffekte-leichter-interpretieren-durch-transformationen/</guid>
  <pubDate>Tue, 22 Jun 2021 22:00:00 GMT</pubDate>
</item>
<item>
  <title>Wege zur Normalverteilung</title>
  <dc:creator>Norman Markgraf</dc:creator>
  <link>https://www.sefiroth.de/posts/2021-06-11-wege-zur-normalverteilung/</link>
  <description><![CDATA[ 





<p>Der fairen Wurf einer fairen Münze, also eine Münze bei der Kopf und Zahl gleich wahrscheinlich geworfen wird, sei der Ausgang des ersten Weges.</p>
<p>Wir können den Münzwurf mit R simulieren:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(mosaic)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">set.seed</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2009</span>)</span>
<span id="cb1-3"></span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rflip</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span></code></pre></div></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Flipping 1 coin [ Prob(Heads) = 0.5 ] ...

T

Number of Heads: 0 [Proportion Heads: 0]</code></pre>
</div>
</div>
<p>Genauso wie den Wurf zweier Münzen:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rflip</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)</span></code></pre></div></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Flipping 2 coins [ Prob(Heads) = 0.5 ] ...

H H

Number of Heads: 2 [Proportion Heads: 1]</code></pre>
</div>
</div>
<p>Oder auch von 20 Münzwürfen:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rflip</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>)</span></code></pre></div></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Flipping 20 coins [ Prob(Heads) = 0.5 ] ...

T T T T H H T T T H H H H T H T T H H H

Number of Heads: 10 [Proportion Heads: 0.5]</code></pre>
</div>
</div>
<p>Wir wollen uns dafür interessieren, wie der Zufall auf jeweils <img src="https://latex.codecogs.com/png.latex?n"> Münzwürfe einwirkt</p>
<p>Und wieder holen dafür die drei Experiment jeweils <img src="https://latex.codecogs.com/png.latex?N=10%5E%7B4%7D"> mal und schauen uns danach anwie die Anzahl der <em>Kopf</em> Würfe variiert:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">N <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10000</span></span></code></pre></div></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">n <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb8-2">vrtlg_1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">do</span>(N) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rflip</span>(n)</span>
<span id="cb8-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_bar</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> heads, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> vrtlg_1) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb8-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_refine</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>n, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">limits =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>,n <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>)))</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-11-wege-zur-normalverteilung/index_files/figure-html/unnamed-chunk-5-1.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><img src="https://latex.codecogs.com/png.latex?n=2"></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1">n <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span></span>
<span id="cb9-2">vrtlg_2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">do</span>(N) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rflip</span>(n)</span>
<span id="cb9-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_bar</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> heads, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> vrtlg_2) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb9-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_refine</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>n, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">limits =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, n <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>)))</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-11-wege-zur-normalverteilung/index_files/figure-html/unnamed-chunk-6-1.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><img src="https://latex.codecogs.com/png.latex?n=20"></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1">n <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span></span>
<span id="cb10-2">vrtlg_20 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">do</span>(N) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rflip</span>(n)</span>
<span id="cb10-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_bar</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> heads, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> vrtlg_20) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb10-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_refine</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>n, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">limits =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, n <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>)))</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-11-wege-zur-normalverteilung/index_files/figure-html/unnamed-chunk-7-1.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><img src="https://latex.codecogs.com/png.latex?n=50"></p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1">n <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span></span>
<span id="cb11-2">vrtlg_50 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">do</span>(N) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rflip</span>(n)</span>
<span id="cb11-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_bar</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> heads, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> vrtlg_50) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb11-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_refine</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>n, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">limits =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, n <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>)))</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-11-wege-zur-normalverteilung/index_files/figure-html/unnamed-chunk-8-1.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Der faire Wurf eine fairen Münze <img src="https://latex.codecogs.com/png.latex?X"> ist aber vorallem ein Gedanken-Expermiment, bei dem wir davon ausgehen, dass die Wahrscheinlichkeit für Kopf gleich der Wahrscheinlichkeit für Zahl ist:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0AP(X%20=%20%5Ctext%7B%22Kopf%22%7D)%20=%20P(X%20=%20%5Ctext%7B%22Zahl%22%7D)%20=%2050%5C,%5C%25%20=%200%7B,%7D5%0A"></p>
<p>Wir wollen die beiden Ergebnisse kodieren: <img src="https://latex.codecogs.com/png.latex?%5Ctext%7B%22Kopf%22%7D"> mit <img src="https://latex.codecogs.com/png.latex?1"> und <img src="https://latex.codecogs.com/png.latex?%5Ctext%7B%22Zahl%22%7D"> mit <img src="https://latex.codecogs.com/png.latex?0">. Somit können wir schreiben:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0AP(X%20=%200)%20%20=%200%7B,%7D5%20=%20P(X%20=%201)%0A"></p>
<p>Für denn Fall, dass die Münze nicht mehr fair ist wollen wir vereinbaren, dass wir mit <img src="https://latex.codecogs.com/png.latex?q%20=%20P(X%20=%200)"> und <img src="https://latex.codecogs.com/png.latex?p%20=%20P(X%20=%201)"> die jeweiligen Wahrscheinlichkeiten bezeichnen wollen. Es gilt aber immer, dass <img src="https://latex.codecogs.com/png.latex?q+p%20=%201"> ist!</p>
<p>Eine Variable <img src="https://latex.codecogs.com/png.latex?X"> die dem Zufall ein Wert <img src="https://latex.codecogs.com/png.latex?x"> zuweist, wollen wir <strong>Zufallsvariable</strong> nennen.<sup>1</sup></p>
<p>Ausgehen von der Annahme können wir uns diese theoretischen Verteilungen auch einmal ansehen:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1">p <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span></span>
<span id="cb12-2">n <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb12-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_dist</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"binom"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> n, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prob =</span> p)</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-11-wege-zur-normalverteilung/index_files/figure-html/unnamed-chunk-9-1.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1">n <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span></span>
<span id="cb13-2">tab <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tally</span>( <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> heads, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">format =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"proportion"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> vrtlg_2)</span>
<span id="cb13-3">dist_2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(</span>
<span id="cb13-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(tab)),</span>
<span id="cb13-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">density =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(tab)</span>
<span id="cb13-6">) </span>
<span id="cb13-7"></span>
<span id="cb13-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_dist</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"binom"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> n, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prob =</span> p) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb13-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_point</span>(density <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dist_2, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lightgreen"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>)</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-11-wege-zur-normalverteilung/index_files/figure-html/unnamed-chunk-10-1.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1">n <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span></span>
<span id="cb14-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_dist</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"binom"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> n, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prob =</span> p)</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-11-wege-zur-normalverteilung/index_files/figure-html/unnamed-chunk-11-1.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1">n <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span></span>
<span id="cb15-2">tab <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tally</span>( <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> heads, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">format =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"proportion"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> vrtlg_20)</span>
<span id="cb15-3">dist_20 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(</span>
<span id="cb15-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(tab)),</span>
<span id="cb15-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">density =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(tab)</span>
<span id="cb15-6">) </span>
<span id="cb15-7"></span>
<span id="cb15-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_dist</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"binom"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> n, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prob =</span> p) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb15-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_point</span>(density <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dist_20, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lightgreen"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>)</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-11-wege-zur-normalverteilung/index_files/figure-html/unnamed-chunk-12-1.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1">n <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span></span>
<span id="cb16-2">tab <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tally</span>( <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> heads, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">format =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"proportion"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> vrtlg_50)</span>
<span id="cb16-3">dist_50 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(</span>
<span id="cb16-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(tab)),</span>
<span id="cb16-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">density =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(tab)</span>
<span id="cb16-6">) </span>
<span id="cb16-7"></span>
<span id="cb16-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_dist</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"binom"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> n, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prob =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb16-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_point</span>(density <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dist_50, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lightgreen"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>)</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-11-wege-zur-normalverteilung/index_files/figure-html/unnamed-chunk-13-1.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1">n <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span></span>
<span id="cb17-2">N <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> n<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">**</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span></span>
<span id="cb17-3">vrtlg_100 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">do</span>(N) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rflip</span>(n)</span>
<span id="cb17-4">tab <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tally</span>( <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> heads, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">format =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"proportion"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> vrtlg_100)</span>
<span id="cb17-5">dist_100 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(</span>
<span id="cb17-6">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(tab)),</span>
<span id="cb17-7">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">density =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(tab)</span>
<span id="cb17-8">) </span>
<span id="cb17-9"></span>
<span id="cb17-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_dist</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"binom"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> n, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prob =</span> p) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb17-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_point</span>(density <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dist_100, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lightgreen"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>)</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-11-wege-zur-normalverteilung/index_files/figure-html/unnamed-chunk-14-1.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1">n <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">300</span></span>
<span id="cb18-2">N <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> n<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">**</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span></span>
<span id="cb18-3">vrtlg_300 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">do</span>(N) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rflip</span>(n)</span>
<span id="cb18-4">tab <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tally</span>( <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> heads, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">format =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"proportion"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> vrtlg_300)</span>
<span id="cb18-5">dist_300 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(</span>
<span id="cb18-6">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(tab)),</span>
<span id="cb18-7">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">density =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(tab)</span>
<span id="cb18-8">) </span>
<span id="cb18-9"></span>
<span id="cb18-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_dist</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"binom"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> n, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prob =</span> p) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb18-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_point</span>(density <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dist_300, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lightgreen"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>)</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-11-wege-zur-normalverteilung/index_files/figure-html/unnamed-chunk-15-1.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Zeichnen wir nun die <em>Gauß’sche Glockenkurve</em> in rot dazu:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_dist</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"binom"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> n, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">prob =</span> p) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb19-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_point</span>(density <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> x, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dist_300, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lightgreen"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb19-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_dist</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"norm"</span>, mean <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> n<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>p, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sd =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sqrt</span>(n<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>p<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> p)), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>)</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-11-wege-zur-normalverteilung/index_files/figure-html/unnamed-chunk-16-1.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Die <em>Gauß’sche Glockenkurve</em> ist die <strong>Dichtefunktion</strong> der Normalverteilung und ist definiert durch:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0Af(x)%20=%20%5Cfrac%7B1%7D%7B%5Csqrt%7B2%20%5Cpi%20%5Csigma%5E2%7D%7D%20e%5E%7B-%20%5Cfrac%7B(x-%5Cmu)%5E2%7D%7B2%5Csigma%5E2%7D%7D%0A"></p>
<p>Mit den beiden Parameter <img src="https://latex.codecogs.com/png.latex?%5Cmu"> und <img src="https://latex.codecogs.com/png.latex?%5Csigma%5E2"> kann man den <em>Mittelwert der Verteilung</em> (auch <strong>Erwartungswert</strong> genannt) und die <em>Varianz der Verteilung</em> einstellen.</p>
<p>Wir haben diese Werte oben mit den theoretischen Werten der <em>Binomialverteilung</em> <img src="https://latex.codecogs.com/png.latex?%5Cmu%20=%20E%5BX%5D%20=%20p%20%5Ccdot%20n"> und <img src="https://latex.codecogs.com/png.latex?%5Csigma%20=%20%5Csqrt%7B%5Csigma%5E2%7D=%20%5Csqrt%7BVar%5BX%5D%7D%20=%20%5Csqrt%7Bn%20%5Ccdot%20p%20%5Ccdot%20(1-p)%7D"> belegt.</p>
<p>Wir sehen, die (simulierten) relativen Häufigkeiten der Münzwürfe streben mit steigendem <img src="https://latex.codecogs.com/png.latex?N"> mehr und mehr in Richtung der (theoretischen) Wahrscheinlichkeiten der Binomialverteilung und diese (mit steigendem <img src="https://latex.codecogs.com/png.latex?n">) gegen die Gauß’sche Glockenkurve der Normalverteilung.</p>
<p>Eine <strong>Verteilungsfunktion</strong> <img src="https://latex.codecogs.com/png.latex?F(x)"> gibt an, wie wahrscheinlich es ist, einen Wert <img src="https://latex.codecogs.com/png.latex?%5Cleq%20x"> zu beobachten:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0AF(x)%20=%20P(X%20%5Cleq%20x)%0A"></p>
<p>Natürlich ist damit immer <img src="https://latex.codecogs.com/png.latex?0%20%5Cleq%20F(x)%20%5Cleq%201">.</p>
<p>Eine <em>empirische Verteilungsfunktion</em> <img src="https://latex.codecogs.com/png.latex?F_n(x)">gibt an, wie groß die relative Häufigkeit des eintretens von Werten <img src="https://latex.codecogs.com/png.latex?%5Cleq%20x"> bei einem Stichprobenumfang von <img src="https://latex.codecogs.com/png.latex?n"> waren: <img src="https://latex.codecogs.com/png.latex?F_n(x)%20=%20%5Cfrac%7B%5Ctext%7BAnzahl%20der%20Werte%7D%20%5Cleq%20x%7D%7Bn%7D"></p>
<p>Betrachen wir nun <em>empirische Verteilungsfunktion</em> unserer Experimente:</p>
<p>n = 2</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_ecdf</span>( <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> heads, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data=</span>vrtlg_2)</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-11-wege-zur-normalverteilung/index_files/figure-html/unnamed-chunk-17-1.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>n = 20</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_ecdf</span>( <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> heads, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data=</span>vrtlg_20)</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-11-wege-zur-normalverteilung/index_files/figure-html/unnamed-chunk-18-1.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>n = 50</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_ecdf</span>( <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> heads, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data=</span>vrtlg_50)</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-11-wege-zur-normalverteilung/index_files/figure-html/unnamed-chunk-19-1.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>n = 300</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_ecdf</span>( <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> heads, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data=</span>vrtlg_300)</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-11-wege-zur-normalverteilung/index_files/figure-html/unnamed-chunk-20-1.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Tragen wir zur <em>empirische Verteilungsfunktion</em> auch die <em>Verteilungsfunktion</em> der Normalverteilung von oben ein:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1">n <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">300</span></span>
<span id="cb24-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_ecdf</span>( <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> heads, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> vrtlg_300) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb24-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_dist</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"norm"</span>, mean <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> n<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>p, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sd =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sqrt</span>(n<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>p<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> p)), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">kind=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cdf"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>)</span></code></pre></div></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-11-wege-zur-normalverteilung/index_files/figure-html/unnamed-chunk-21-1.webp" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Die <em>empirische Verteilungsfunktion</em> strebt also gegen die (theoretisch) <em>Verteilungsfunktion</em> der Normalverteilung. Sie lautet:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0AF(x)%20=%20%5Cint_%7B-%5Cinfty%7D%5Ex%20f(u)%5C,%20%5Ctext%7Bd%7D%20u%20=%20%5Cint_%7B-%5Cinfty%7D%5Ex%5Cfrac%7B1%7D%7B%5Csqrt%7B2%20%5Cpi%20%5Csigma%5E2%7D%7D%20e%5E%7B-%20%5Cfrac%7B(x-%5Cmu)%5E2%7D%7B2%5Csigma%5E2%7D%7D%0A"></p>




<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Fußnoten</h2>

<ol>
<li id="fn1"><p>Eigentlich handelt es sich damit strenggenommen um eine Funktion. Und es müssen noch weitere Eigenschaften erfüllt sein. Aber darauf gehen wir hier nicht weiter ein.↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>Statistik</category>
  <guid>https://www.sefiroth.de/posts/2021-06-11-wege-zur-normalverteilung/</guid>
  <pubDate>Thu, 10 Jun 2021 22:00:00 GMT</pubDate>
</item>
<item>
  <title>Über die Koeffizienten einer linearen Regression</title>
  <dc:creator>Norman Markgraf</dc:creator>
  <link>https://www.sefiroth.de/posts/2021-06-09-ueber-die-koeffizienten-einer-linearen-regression/</link>
  <description><![CDATA[ 





<p>Bei einer <em>einfachen Regression</em> versuchen wir zu gegebenen Datenpunkten <img src="https://latex.codecogs.com/png.latex?(x_1,%20y_1),%20...,%20(x_n,%20y_n)"> eine <em>möglichst passende</em> Funktion <img src="https://latex.codecogs.com/png.latex?g(x)"> zu finden, so dass <img src="https://latex.codecogs.com/png.latex?y_i%20=%20g(x_i)%20+%20e_i"> gilt. Dabei tolerieren wir eine (kleine) Abweichung <img src="https://latex.codecogs.com/png.latex?e_i">.</p>
<p>Bei einer <em>einfachen <strong>linearen</strong> Regression</em> gehen wir davon aus, dass die Datenpunkte (im wesentlichen) auf einer Geraden liegen. Mit <img src="https://latex.codecogs.com/png.latex?g(x)=%5Cbeta_0%20+%20%5Cbeta1%20%5Ccdot%20x"> ergibt sich dann für die Datenpunkte die Gleichung:</p>
<p><img src="https://latex.codecogs.com/png.latex?y_i%20=%20%5Cbeta_0%20+%20%5Cbeta_1%20%5Ccdot%20x_i%20+%20e_i"></p>
<p>Unsere Aufgabe besteht nun darin die Parameter <img src="https://latex.codecogs.com/png.latex?%5Cbeta_0"> (y-Achsenabschnitt) und <img src="https://latex.codecogs.com/png.latex?%5Cbeta_1"> (Steigung) an Hand der <img src="https://latex.codecogs.com/png.latex?n"> Datenpunkte zu schätzen. Alle unsere Schätzungen kennzeichnen wir mit einem Dach (<img src="https://latex.codecogs.com/png.latex?%5Chat%7B.%7D">), um sie von den (in der Regel unbekannten) Parametern besser zu unterscheiden.</p>
<p>Wir suchen somit nach <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta=%20%5Cleft(%5Chat%5Cbeta_0,%5C,%20%5Chat%5Cbeta_1%5Cright)">, so dass die Gerade <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_0%20+%20%5Chat%5Cbeta_1%20%5Ccdot%20x"> zu gegebenem <img src="https://latex.codecogs.com/png.latex?x_i"> eine möglichst gute Schätzung von <img src="https://latex.codecogs.com/png.latex?y_i"> (genannt <img src="https://latex.codecogs.com/png.latex?%5Chat%7By%7D_i">) hat:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Chat%7By_i%7D%20=%20%5Chat%5Cbeta_0%20+%20%5Chat%5Cbeta_1%20%5Ccdot%20x_i%0A"></p>
<p>Die Abweichung <img src="https://latex.codecogs.com/png.latex?%5Chat%7Be_i%7D"> unserer Schätzung <img src="https://latex.codecogs.com/png.latex?%5Chat%7By%7D_i"> von dem gegebenen Wert <img src="https://latex.codecogs.com/png.latex?y_i"> lässt sich schreiben als:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Chat%7Be_i%7D%20=%20%20%5Chat%7By_i%7D%20-%20y_i%20=%20%20%5Chat%5Cbeta_0%20+%20%5Chat%5Cbeta_1%20%5Ccdot%20x_i%20-%20y_i%0A"></p>
<p>Wenn wir diese Abweichung über alle <img src="https://latex.codecogs.com/png.latex?i"> minimieren, finden wir unser <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta">.</p>
<p>Doch das wirft eine Frage auf: <em>Wie genau messen wir die möglichst <strong>kleinste Abweichung</strong> der</em> <img src="https://latex.codecogs.com/png.latex?%5Chat%7Be_i%7D"> konkret?</p>
<p>Wir betrachten zunächst drei einfache Ideen:</p>
<ol type="1">
<li><p>Idee: <em>Betrag der Summe der Abweichungen</em></p></li>
<li><p>Idee: <em>Summe der absoluten Abweichungen</em></p></li>
<li><p>Idee: <em>Summe der quadratischen Abweichungen</em></p></li>
</ol>
<p>Gewöhnlich nutzen wir die <em>quadratischen Abweichungen</em>, weshalb wir die drei Ideen ebenso in umgekehrter Reihenfolge betrachten wollen:</p>
<section id="idee-summe-der-quadratischen-abweichungen" class="level2">
<h2 class="anchored" data-anchor-id="idee-summe-der-quadratischen-abweichungen">3. Idee: Summe der quadratischen Abweichungen</h2>
<p>Wir bezeichnen mit</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Baligned%7D%0AQS%20&amp;=%20QS(%5Chat%5Cbeta)%20=%20QS(%5Chat%5Cbeta_0,%20%5Chat%5Cbeta_1)%20%5C%5C%0A%20%20&amp;=%20%5Csum%5Climits_%7Bi=1%7D%5En%20%5Chat%7Be_i%7D%5E2%20=%20%5Csum%5Climits_%7Bi=1%7D%5En%20%5Cleft(%5Chat%7By_i%7D%20-%20y_i%20%5Cright)%5E2%20%5C%5C%0A%20%20&amp;=%20%5Csum%5Climits_%7Bi=1%7D%5En%20%5Cleft(%5Chat%5Cbeta_0%20+%20%5Chat%5Cbeta_1%20%5Ccdot%20x_i%20-%20y_i%20%5Cright)%5E2%0A%5Cend%7Baligned%7D"></p>
<p>die <strong>Q</strong>uadrat-<strong>S</strong>umme der Abweichungen.</p>
<p>Gesucht wird <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta=%5Cleft(%5Chat%5Cbeta_0,%5C,%5Chat%5Cbeta_1%5Cright)">, so das <img src="https://latex.codecogs.com/png.latex?QS"> minimiert wird.</p>
<p>Dies ist ein Minimierungsproblem, bei dem wir zu mindestens eine (exakte) mathematisch-algebraisch Lösung in Form eines stationären Punktes finden können. Dazu berechnen wir die Nullstelle der ersten partiellen Ableitung von <img src="https://latex.codecogs.com/png.latex?QS"> nach <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_0"> bzw. <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_1">.</p>
<section id="vorbemerkungen" class="level3">
<h3 class="anchored" data-anchor-id="vorbemerkungen">Vorbemerkungen</h3>
<p>Wegen <img src="https://latex.codecogs.com/png.latex?%5Cbar%7Bx%7D%20=%20%5Cfrac%7B1%7D%7Bn%7D%20%5Csum%5Climits_%7Bi=1%7D%5En%20x_i"> ist <img src="https://latex.codecogs.com/png.latex?n%20%5Ccdot%20%5Cbar%7Bx%7D%20=%5Csum%5Climits_%7Bi=1%7D%5En%20x_i"> und analog <img src="https://latex.codecogs.com/png.latex?n%20%5Ccdot%20%5Cbar%7By%7D%20=%5Csum%5Climits_%7Bi=1%7D%5En%20y_i"></p>
</section>
<section id="schätzen-des-y-achenabschnitts-hatbeta_0" class="level3">
<h3 class="anchored" data-anchor-id="schätzen-des-y-achenabschnitts-hatbeta_0">Schätzen des y-Achenabschnitts <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_0"></h3>
<p>Es ist:</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Baligned%7D%0A%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%20%5Chat%5Cbeta_0%7D%20%5C,%20QS%20&amp;=%202%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En%20%5Cleft(%5Chat%5Cbeta_0%20+%20%5Chat%5Cbeta_1%20%5Ccdot%20x_i%20-%20y_i%20%5Cright)%20%5Ccdot%201%20%5C%5C%0A%20%20&amp;=%202%20%5Ccdot%20%5Cleft(%5Csum%5Climits_%7Bi=1%7D%5En%20%5Chat%5Cbeta_0%20+%20%5Csum%5Climits_%7Bi=1%7D%5En%5Chat%5Cbeta_1%20%5Ccdot%20x_i%20-%20%5Csum%5Climits_%7Bi=1%7D%5En%20y_i%5Cright)%20%5C%5C%0A%20%20&amp;=%202%20%5Ccdot%20%5Cleft(%20n%20%5Ccdot%20%5Chat%5Cbeta_0%20+%20%5Chat%5Cbeta_1%5Ccdot%5Csum%5Climits_%7Bi=1%7D%5En%20x_i%20-%20%5Csum%5Climits_%7Bi=1%7D%5En%20y_i%20%5Cright)%20%5C%5C%0A%20%20&amp;=%202%20%5Ccdot%20%5Cleft(%20n%20%5Ccdot%20%5Chat%5Cbeta_0%20+%20%5Chat%5Cbeta_1%5Ccdot%20n%20%5Ccdot%20%5Cbar%7Bx%7D%20-%20n%20%5Ccdot%5Cbar%7By%7D%20%5Cright)%20%5C%5C%0A%20%20&amp;=%202%20%5Ccdot%20n%20%5Ccdot%20%5Cleft(%20%5Chat%5Cbeta_0%20+%20%5Chat%5Cbeta_1%5Ccdot%20%5Cbar%7Bx%7D%20-%5Cbar%7By%7D%20%5Cright)%0A%5Cend%7Baligned%7D"></p>
<p>Um stationäre Punkte zu ermitteln, müssen wir den Ausdruck nun gleich Null setzen und erhalten:</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Baligned%7D%0A%20%200%20&amp;=%20%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%20%5Chat%5Cbeta_0%7D%20%5C,%20QS%20%5C%5C%0A%20%20&amp;=%202%20%5Ccdot%20n%20%5Ccdot%20%5Cleft(%20%5Chat%5Cbeta_0%20+%20%5Chat%5Cbeta_1%5Ccdot%20%5Cbar%7Bx%7D%20-%5Cbar%7By%7D%20%5Cright)%20%5Cqquad%20%7C%20:%20(2%20%5Ccdot%20n)%20%5C%5C%0A%20%20&amp;=%20%5Chat%5Cbeta_0%20+%20%5Chat%5Cbeta_1%5Ccdot%20%5Cbar%7Bx%7D%20-%5Cbar%7By%7D%0A%5Cend%7Baligned%7D"></p>
<p>Stellen wir nach <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_0"> um, erhalten wir:</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Baligned%7D%0A%20%20%5Chat%5Cbeta_0%20&amp;=%20-%20%5Chat%5Cbeta_1%5Ccdot%5Cbar%7Bx%7D%20+%20%5Cbar%7By%7D%20%5C%5C%0A%20%20%5Chat%5Cbeta_0%20&amp;=%20%5Cbar%7By%7D%20-%20%5Chat%5Cbeta_1%5Ccdot%5Cbar%7Bx%7D%0A%5Cend%7Baligned%7D"></p>
<p>Um <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_0"> zu bestimmen, benötigen wir <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_1">.</p>
</section>
<section id="schätzen-der-steigung-hatbeta_1" class="level3">
<h3 class="anchored" data-anchor-id="schätzen-der-steigung-hatbeta_1">Schätzen der Steigung <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_1"></h3>
<p>Es ist:</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Baligned%7D%0A%20%20%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%20%5Chat%5Cbeta_1%7D%20%5C,%20QS%20&amp;=%202%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En%20%5Cleft(%5Chat%5Cbeta_0%20+%20%5Chat%5Cbeta_1%20%5Ccdot%20x_i%20-%20y_i%20%5Cright)%20%5Ccdot%20x_i%20%5C%5C%0A%20%20&amp;=%202%20%5Ccdot%20%5Cleft(%5Csum%5Climits_%7Bi=1%7D%5En%20%5Chat%5Cbeta_0%20%5Ccdot%20x_i%20+%20%5Csum%5Climits_%7Bi=1%7D%5En%20%5Chat%5Cbeta_1%20%5Ccdot%20x_i%5Ccdot%20x_i-%20%5Csum%5Climits_%7Bi=1%7D%5En%20y_i%20%5Ccdot%20x_i%5Cright)%20%5C%5C%0A%20%20%20%20&amp;=%202%20%5Ccdot%20%5Cleft(%5Chat%5Cbeta_0%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En%20%20x_i%20+%20%5Chat%5Cbeta_1%20%5Ccdot%5Csum%5Climits_%7Bi=1%7D%5En%20x_i%5E2-%20%5Csum%5Climits_%7Bi=1%7D%5En%20y_i%20%5Ccdot%20x_i%5Cright)%20%5C%5C%0A%20%20%20%20&amp;=%202%20%5Ccdot%20%5Cleft(%5Chat%5Cbeta_0%20%5Ccdot%20n%20%5Ccdot%20%5Cbar%7Bx%7D%20+%20%5Chat%5Cbeta_1%20%5Ccdot%5Csum%5Climits_%7Bi=1%7D%5En%20x_i%5E2-%20%5Csum%5Climits_%7Bi=1%7D%5En%20y_i%20%5Ccdot%20x_i%5Cright)%0A%5Cend%7Baligned%7D"></p>
<p>Wir ersetzen nun <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_0"> durch <img src="https://latex.codecogs.com/png.latex?%5Cbar%7By%7D%20-%20%5Chat%5Cbeta_1%5Ccdot%20%5Cbar%7Bx%7D"> und erhalten:</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Baligned%7D%0A%20%20%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%20%5Chat%5Cbeta_1%7D%20%5C,%20QS%20%20&amp;=%0A%20%202%20%5Ccdot%20%5Cleft(%5Chat%5Cbeta_0%20%5Ccdot%20n%20%5Ccdot%20%5Cbar%7Bx%7D%20+%20%5Chat%5Cbeta_1%20%5Ccdot%5Csum%5Climits_%7Bi=1%7D%5En%20x_i%5E2-%20%5Csum%5Climits_%7Bi=1%7D%5En%20y_i%20%5Ccdot%20x_i%5Cright)%20%5C%5C%0A%20%20&amp;=%202%20%5Ccdot%20%5Cleft(%5Cleft(%5Cbar%7By%7D%20-%20%5Chat%5Cbeta_1%5Ccdot%20%5Cbar%7Bx%7D%5Cright)%20%5Ccdot%20n%20%5Ccdot%20%5Cbar%7Bx%7D%20+%20%5Chat%5Cbeta_1%20%5Ccdot%5Csum%5Climits_%7Bi=1%7D%5En%20%20x_i%5E2-%20%5Csum%5Climits_%7Bi=1%7D%5En%20y_i%20%5Ccdot%20x_i%5Cright)%20%5C%5C%0A%20%20&amp;=%202%20%5Ccdot%20%5Cleft(n%20%5Ccdot%5Cbar%7By%7D%20%5Ccdot%20%5Cbar%7Bx%7D%20-%20n%20%5Ccdot%20%5Chat%5Cbeta_1%20%5Ccdot%20%20%5Cbar%7Bx%7D%5E2%20%20+%20%5Chat%5Cbeta_1%20%5Ccdot%5Csum%5Climits_%7Bi=1%7D%5En%20%20x_i%5E2-%20%5Csum%5Climits_%7Bi=1%7D%5En%20y_i%20%5Ccdot%20x_i%5Cright)%20%5C%5C%0A%20%20&amp;=%202%20%5Ccdot%20%5Cleft(n%20%5Ccdot%5Cbar%7By%7D%20%5Ccdot%20%5Cbar%7Bx%7D%20-%20%5Csum%5Climits_%7Bi=1%7D%5En%20y_i%20%5Ccdot%20x_i%20%20+%20%5Chat%5Cbeta_1%20%5Ccdot%20%5Cleft(%5Csum%5Climits_%7Bi=1%7D%5En%20%20x_i%5E2-%20n%20%5Ccdot%20%20%5Cbar%7Bx%7D%5E2%5Cright)%5Cright)%20%5C%5C%0A%5Cend%7Baligned%7D"></p>
<p>Mit Hilfe des <a href="https://de.wikipedia.org/wiki/Verschiebungssatz_(Statistik)"><em>Verschiebesatzes von Steiner</em></a> (zweimal angewendet) erhalten wir:</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Baligned%7D%0A%20%20%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%20%5Chat%5Cbeta_1%7D%20%5C,%20QS%20%20%0A%20%20%20%20&amp;=2%20%5Ccdot%20%5Cleft(n%20%5Ccdot%5Cbar%7By%7D%20%5Ccdot%20%5Cbar%7Bx%7D%20-%20%5Csum%5Climits_%7Bi=1%7D%5En%20y_i%20%5Ccdot%20x_i%20%20+%20%5Chat%5Cbeta_1%20%5Ccdot%20%5Cleft(%5Csum%5Climits_%7Bi=1%7D%5En%20%20x_i%5E2-%20n%20%5Ccdot%20%20%5Cbar%7Bx%7D%5E2%5Cright)%5Cright)%20%5C%5C%0A%20%20%20%20&amp;=2%20%5Ccdot%20%5Cleft(-%20%5Cleft(%5Csum%5Climits_%7Bi=1%7D%5En%20y_i%20%5Ccdot%20x_i%20-%20n%20%5Ccdot%20%5Cbar%7By%7D%20%5Ccdot%20%5Cbar%7Bx%7D%20%20%20%5Cright)+%20%5Chat%5Cbeta_1%20%5Ccdot%20%5Cleft(%5Csum%5Climits_%7Bi=1%7D%5En%20%20x_i%5E2-%20n%20%5Ccdot%20%20%5Cbar%7Bx%7D%5E2%5Cright)%5Cright)%20%5C%5C%0A%20%20%20%20&amp;=2%20%5Ccdot%20%5Cleft(%5Chat%5Cbeta_1%20%5Ccdot%20%5Cleft(%5Csum%5Climits_%7Bi=1%7D%5En%20%20x_i%5E2-%20n%20%5Ccdot%20%20%5Cbar%7Bx%7D%5E2%5Cright)-%20%5Cleft(%5Csum%5Climits_%7Bi=1%7D%5En%20y_i%20%5Ccdot%20x_i%20-%20n%20%5Ccdot%20%5Cbar%7By%7D%20%5Ccdot%20%5Cbar%7Bx%7D%20%20%20%5Cright)%5Cright)%20%5C%5C%0A%20%20%20%20&amp;=%202%20%5Ccdot%20%5Cleft(%5Chat%5Cbeta_1%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En(x_i-%5Cbar%7Bx%7D)%5E2%20-%20%5Csum%5Climits_%7Bi=1%7D%5En%20(x_i-%5Cbar%7Bx%7D)%20%5Ccdot%20(y_i-%5Cbar%7By%7D)%5Cright)%0A%5Cend%7Baligned%7D"></p>
<p>Wir setzen nun wieder den Ausdruck gleich Null:</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Baligned%7D%0A0%20&amp;=%202%20%5Ccdot%20%5Cleft(%5Chat%5Cbeta_1%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En(x_i-%5Cbar%7Bx%7D)%5E2%20-%20%5Csum%5Climits_%7Bi=1%7D%5En%20(x_i-%5Cbar%7Bx%7D)%20%5Ccdot%20(y_i-%5Cbar%7By%7D)%5Cright)%20%20%5Cqquad%20%7C%20:%202%5C%5C%0A%20%20%20&amp;=%20%5Chat%5Cbeta_1%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En(x_i-%5Cbar%7Bx%7D)%5E2%20-%20%5Csum%5Climits_%7Bi=1%7D%5En%20(x_i-%5Cbar%7Bx%7D)%20%5Ccdot%20(y_i-%5Cbar%7By%7D)%0A%5Cend%7Baligned%7D"></p>
<p>Und stellen dann nach <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_1"> um:</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Baligned%7D%0A%20%20%5Chat%5Cbeta_1%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En(x_i-%5Cbar%7Bx%7D)%5E2%0A%20%20%20%20&amp;=%20%5Csum%5Climits_%7Bi=1%7D%5En%20(x_i-%5Cbar%7Bx%7D)%20%5Ccdot%20(y_i-%5Cbar%7By%7D)%20%5C%5C%0A%20%20%5Chat%5Cbeta_1%0A%20%20%20%20&amp;=%20%5Cfrac%7B%5Csum%5Climits_%7Bi=1%7D%5En%20(x_i-%5Cbar%7Bx%7D)%20%5Ccdot%20(y_i-%5Cbar%7By%7D)%7D%7B%5Csum%5Climits_%7Bi=1%7D%5En(x_i-%5Cbar%7Bx%7D)%5E2%7D%0A%5Cend%7Baligned%7D"></p>
<p>Wir können nun Zähler und Nenner der rechten Seite mit <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B1%7D%7Bn%7D"> erweitern und erhalten so:</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Baligned%7D%0A%5Chat%5Cbeta_1%0A%20%20%20%20%20%20&amp;=%20%5Cfrac%7B%5Cfrac%7B1%7D%7Bn%7D%20%5Ccdot%5Csum%5Climits_%7Bi=1%7D%5En%20(x_i-%5Cbar%7Bx%7D)%20%5Ccdot%20(y_i-%5Cbar%7By%7D)%7D%7B%5Cfrac%7B1%7D%7Bn%7D%20%5Ccdot%5Csum%5Climits_%7Bi=1%7D%5En%20%20(x_i-%5Cbar%7Bx%7D)%5E2%7D%20%5C%5C%0A%20%20%20%20%20%20&amp;=%20%5Cfrac%7B%5Csigma_%7Bx,y%7D%7D%7B%5Csigma%5E2_x%7D%20%5C%5C%0A%5Cend%7Baligned%7D"></p>
<p>Oder aber wir erweitern mit <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B1%7D%7Bn-1%7D"> und erhalten:</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Baligned%7D%0A%5Chat%5Cbeta_1%0A%20%20%20%20%20%20&amp;=%20%5Cfrac%7B%5Cfrac%7B1%7D%7Bn-1%7D%20%5Ccdot%5Csum%5Climits_%7Bi=1%7D%5En%20(x_i-%5Cbar%7Bx%7D)%20%5Ccdot%20(y_i-%5Cbar%7By%7D)%7D%7B%5Cfrac%7B1%7D%7Bn-1%7D%20%5Ccdot%5Csum%5Climits_%7Bi=1%7D%5En%20%20(x_i-%5Cbar%7Bx%7D)%5E2%7D%20%5C%5C%0A%20%20%20%20%20%20&amp;=%20%5Cfrac%7Bs_%7Bx,y%7D%7D%7Bs%5E2_%7Bx%7D%7D%0A%5Cend%7Baligned%7D"></p>
<p>Damit können wir zur Berechnung sowohl die Kovarianz der Grundgesamtheit <img src="https://latex.codecogs.com/png.latex?%5Csigma_%7Bx,y%7D"> und die Varianz <img src="https://latex.codecogs.com/png.latex?%5Csigma%5E2_x"> von <img src="https://latex.codecogs.com/png.latex?x">, als auch deren Schätzer <img src="https://latex.codecogs.com/png.latex?s_%7Bx,y%7D"> und <img src="https://latex.codecogs.com/png.latex?s%5E2_x"> verwendet werden!</p>
<p>Diese Methode nennt sich <strong>Methode der kleinsten Quadrate</strong> (engl. <em>ordenary least square method</em>) und wir sprechen dann auch von den <strong>Kleinste-Quadrate-Schätzern</strong> (oder kurz <strong>KQ-Schätzer</strong> bzw. <strong>OLS-Schätzer</strong>) <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_0"> und <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_1">.</p>
<p>Erweitern wir den Ausdruck mit Standardabweichung <img src="https://latex.codecogs.com/png.latex?%5Csigma_y"> bzw. <img src="https://latex.codecogs.com/png.latex?s_y">, so erhalten wir:</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Baligned%7D%0A%5Chat%5Cbeta_1%20&amp;=%20%5Cfrac%7B%5Csigma_%7Bx,y%7D%7D%7B%5Csigma%5E2_x%7D%20%5Ccdot%20%5Cfrac%7B%5Csigma_y%7D%7B%5Csigma_y%7D%20=%20%5Cfrac%7B%5Csigma_%7Bx,y%7D%7D%7B%5Csigma_x%20%5Ccdot%20%5Csigma_x%7D%20%5Ccdot%20%5Cfrac%7B%5Csigma_y%7D%7B%5Csigma_y%7D%20=%20%5Cfrac%7B%5Csigma_%7Bx,y%7D%7D%7B%5Csigma_x%20%5Ccdot%20%5Csigma_y%7D%20%5Ccdot%20%5Cfrac%7B%5Csigma_y%7D%7B%5Csigma_x%7D%20%5C%5C%0A&amp;=%20%5Crho_%7Bx,y%7D%20%5Ccdot%20%5Cfrac%7B%5Csigma_y%7D%7B%5Csigma_x%7D%20%5C%5C%0A%5Cend%7Baligned%7D"></p>
<p>und analog für die Schätzer:</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Baligned%7D%0A%5Chat%5Cbeta_1%20&amp;=%20%5Cfrac%7Bs_%7Bx,y%7D%7D%7Bs%5E2_x%7D%20%5Ccdot%20%5Cfrac%7Bs_y%7D%7Bs_y%7D%0A%20%20=%20%5Cfrac%7Bs_%7Bx,y%7D%7D%7Bs_x%20%5Ccdot%20s_x%7D%20%5Ccdot%20%5Cfrac%7Bs_y%7D%7Bs_y%7D%0A%20%20=%20%5Cfrac%7Bs_%7Bx,y%7D%7D%7Bs_x%20%5Ccdot%20s_y%7D%20%5Ccdot%20%5Cfrac%7Bs_y%7D%7Bs_x%7D%20%5C%5C%0A&amp;=%20r_%7Bx,y%7D%20%5Ccdot%20%5Cfrac%7Bs_y%7D%7Bs_x%7D%20%5C%5C%0A%5Cend%7Baligned%7D"></p>
<p>Die Steigung <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_1"> hat somit eine direkte Beziehung mit dem <em>Korrelationskoeffizenten</em> <img src="https://latex.codecogs.com/png.latex?%5Crho"> (der Grundgesamtheit) bzw. <img src="https://latex.codecogs.com/png.latex?r"> (der Stichprobe).</p>
<p>Für eine Berechnung in <strong>R</strong> heißt dies: wir können die Regressionskoeffizienten <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_0"> und <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_1"> direkt algebraisch ausrechnen, wenn wir</p>
<ol type="a">
<li><p>die Standardabweichungen von <img src="https://latex.codecogs.com/png.latex?x"> und <img src="https://latex.codecogs.com/png.latex?y"> und den Korrelationskoeffizienten oder</p></li>
<li><p>die Varianz von <img src="https://latex.codecogs.com/png.latex?x"> und Kovarianz von <img src="https://latex.codecogs.com/png.latex?x"> und <img src="https://latex.codecogs.com/png.latex?y"></p></li>
</ol>
<p>haben.</p>
</section>
<section id="ein-beispiel-in-r" class="level3">
<h3 class="anchored" data-anchor-id="ein-beispiel-in-r">Ein Beispiel in R:</h3>
<p>Auf Grundlage der Datentabelle <em>mtcars</em> wollen wir Prüfen wie ein linearer Zusammenhang zwischen dem Verbrauch (in Meilen pro Gallone <em>mpg</em>) und der Leistung (Pferdestärke <em>hp</em>) modelliert werden kann.<sup>1</sup></p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(mosaic)</span>
<span id="cb1-2"></span>
<span id="cb1-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Wir nehmen die Datentabelle 'mtcars':</span></span>
<span id="cb1-4">mtcars <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb1-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(hp, mpg) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> dt</span>
<span id="cb1-6"></span>
<span id="cb1-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Ein kurzer Blick auf die Daten:</span></span>
<span id="cb1-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">favstats</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mean"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sd"</span>)]</span>
<span id="cb1-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;      mean       sd</span></span>
<span id="cb1-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;  146.6875 68.56287</span></span>
<span id="cb1-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">favstats</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> mpg, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mean"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sd"</span>)]</span>
<span id="cb1-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;      mean       sd</span></span>
<span id="cb1-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;  20.09062 6.026948</span></span>
<span id="cb1-14"></span>
<span id="cb1-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Wir vergleichen den Verbrauch (mpg, miles per gallon) </span></span>
<span id="cb1-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># mit den Pferdestärken (hp) mit Hilfe eines Streudiagramms:</span></span>
<span id="cb1-17"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_point</span>(mpg <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb1-18">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_lims</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">35</span>))</span></code></pre></div></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-09-ueber-die-koeffizienten-einer-linearen-regression/index_files/figure-html/unnamed-chunk-1-1.webp" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
<p>Berechnen wir zunächst die Mittelwerte von <img src="https://latex.codecogs.com/png.latex?x"> (also ‘hp’) und <img src="https://latex.codecogs.com/png.latex?y"> (also ‘mpg’)</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">(mean_hp <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt))</span>
<span id="cb2-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; [1] 146.6875</span></span>
<span id="cb2-3">(mean_mpg <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> mpg, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt))</span>
<span id="cb2-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; [1] 20.09062</span></span></code></pre></div></div>
</div>
<p>und zeichnen die Punkt <img src="https://latex.codecogs.com/png.latex?(%5Cbar%7Bx%7D,%20%5Cbar%7By%7D)%20=%20(146.69,%2020.09)"> in unser Streudiagramm ein:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_point</span>(mpg <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_hline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">yintercept =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> mean_mpg, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey60"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dashed"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_vline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> mean_hp, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey60"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dashed"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_point</span>(mean_mpg <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> mean_hp, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb3-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_lims</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">35</span>))</span></code></pre></div></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-09-ueber-die-koeffizienten-einer-linearen-regression/index_files/figure-html/unnamed-chunk-3-1.webp" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
<p>Berechnen wir nun die Schätzwerte für die Regressionsgerade</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">(beta_1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cov</span>(mpg <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">var</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt))</span>
<span id="cb4-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; [1] -0.06822828</span></span>
<span id="cb4-3">(beta_0 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> mean_mpg <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> beta_1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> mean_hp)</span>
<span id="cb4-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; [1] 30.09886</span></span></code></pre></div></div>
</div>
<p>und zeichnen diese in unser Streudiagramm ein:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_point</span>(mpg <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_hline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">yintercept =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> mean_mpg, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey60"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dashed"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_vline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xintercept =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> mean_hp, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"grey60"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linetype =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dashed"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_point</span>(mean_mpg <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> mean_hp, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_abline</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">slope =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> beta_1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">intercept =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>beta_0, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dodgerblue"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_lims</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">35</span>))</span></code></pre></div></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-09-ueber-die-koeffizienten-einer-linearen-regression/index_files/figure-html/unnamed-chunk-5-1.webp" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
<p>Die Funktionsvorschrift für die (blaue) Regressionsgerade lautet:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%20%20%5Chat%7By%7D%20&amp;=%20%5Chat%5Cbeta_0%20+%20%5Chat%5Cbeta_1%20%5Ccdot%20x%20%5C%5C%0A%20%20%20%20%20%20%20%20%20%20&amp;%5Capprox%2030.0988605%20-0.0682283%20%5Ccdot%20x%20%5C%5C%0A%20%20%20%20%20%20%20%20%20%20&amp;%5Capprox%2030.099%20-0.068%20%5Ccdot%20x%0A%5Cend%7Baligned%7D%0A"></p>
</section>
<section id="studentisieren-einmal-hin-und-einmal-zurück" class="level3">
<h3 class="anchored" data-anchor-id="studentisieren-einmal-hin-und-einmal-zurück">Studentisieren – einmal hin und einmal zurück</h3>
<p>Was passiert eigentlich, wenn wir unsere <img src="https://latex.codecogs.com/png.latex?x"> und <img src="https://latex.codecogs.com/png.latex?y"> Werte studentisieren (aka standardisieren oder z-transformieren)?</p>
<p>Zur Erinnerung, studentisieren geht so: <img src="https://latex.codecogs.com/png.latex?%0Ax%5E%7Bstud%7D%20=%20%5Cfrac%7Bx%20-%20%5Cbar%7Bx%7D%7D%7Bs_x%7D%0A"></p>
<p>In <strong>R</strong> können wir das mit der Funktion ‘zscore’ wie folgt machen:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1">dt <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb6-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb6-3">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hp_stud =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">zscore</span>(hp),</span>
<span id="cb6-4">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mpg_stud =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">zscore</span>(mpg)</span>
<span id="cb6-5">  ) <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> dt</span></code></pre></div></div>
</div>
<p>Natürlich sind die Mittelwerte nun Null und die Standardabweichungen Eins:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">favstats</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp_stud, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mean"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sd"</span>)]</span>
<span id="cb7-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;           mean sd</span></span>
<span id="cb7-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;  -4.857226e-17  1</span></span>
<span id="cb7-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">favstats</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> mpg_stud, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mean"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sd"</span>)]</span>
<span id="cb7-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;          mean sd</span></span>
<span id="cb7-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;  4.336809e-17  1</span></span></code></pre></div></div>
</div>
<p>Der Grund für die kleinen Abweichungen von der Null bei den Mittelwerten sind unumgängliche Rundungsfehler, die der Computer macht!</p>
<p>Schauen wir uns nun das Streudiagramm an, zusammen mit dem Mittelpunkt <img src="https://latex.codecogs.com/png.latex?(0,0)"></p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_point</span>(mpg_stud <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp_stud, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb8-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_point</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb8-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gf_lims</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>))</span></code></pre></div></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-09-ueber-die-koeffizienten-einer-linearen-regression/index_files/figure-html/unnamed-chunk-8-1.webp" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
<p>Auch wenn die Skalierungen sich geändert haben, die Diagramme sind sehr ähnlich.</p>
<p>Bestimmen wir die Koeffizienten der Regressionsgerade</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1">(beta_stud_1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cov</span>(mpg_stud <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp_stud, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt))</span>
<span id="cb9-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; [1] -0.7761684</span></span>
<span id="cb9-3">(beta_stud_0 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> beta_stud_1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span>
<span id="cb9-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; [1] 0</span></span></code></pre></div></div>
</div>
<p>und setzen sie in das Streudiagramm ein:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-09-ueber-die-koeffizienten-einer-linearen-regression/index_files/figure-html/unnamed-chunk-10-1.webp" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
<p>Wir können das studentisierte Problem auch wieder auf unser ursprüngliches zurück rechnen.</p>
<p>Die Regressionsgerade im studentisierten Problem lautet:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%20%20%5Chat%7By%7D%5E%7Bstud%7D%20&amp;=%20%5Chat%5Cbeta%5E%7Bstud%7D_0%20+%20%5Chat%5Cbeta_1%5E%7Bstud%7D%20%5Ccdot%20x%5E%7Bstud%7D%20%5C%5C%0A%20%20%20%20%20%20%20%20%20%20&amp;%5Capprox%200%20-0.7761684%20%5Ccdot%20x%5E%7Bstud%7D%20%5C%5C%0A%20%20%20%20%20%20%20%20%20%20&amp;%5Capprox%200%20-0.776%20%5Ccdot%20x%5E%7Bstud%7D%0A%5Cend%7Baligned%7D%0A"></p>
<p>Rechnen wir nun mittels der Formel <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_1%20=%20%5Chat%5Cbeta_1%5E%7Bstud%7D%20%5Ccdot%20%5Cfrac%7Bs_y%7D%7Bs_x%7D"></p>
<p>die Steigung um, so erhalten wir:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1">(b1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> beta_stud_1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sd</span>(dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>mpg) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sd</span>(dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>hp))</span>
<span id="cb10-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; [1] -0.06822828</span></span></code></pre></div></div>
</div>
<p>Und setzen wir das in unsere Gleichung zur Bestimmung von <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_0"> ein:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1">(b0 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>mpg) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> b1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>hp))</span>
<span id="cb11-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; [1] 30.09886</span></span></code></pre></div></div>
</div>
<p>so erhalten wir die Schätzwerte des ursprünglichen Problem.</p>
</section>
<section id="ein-anderer-weg-um-die-regressionskoeffizenten-zu-bestimmen" class="level3">
<h3 class="anchored" data-anchor-id="ein-anderer-weg-um-die-regressionskoeffizenten-zu-bestimmen">Ein anderer Weg um die Regressionskoeffizenten zu bestimmen…</h3>
<p>Gehen wir das Problem noch einmal neu an. Wir suchen <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta=(%5Chat%5Cbeta_0,%20%5Chat%5Cbeta_1)"> welches <img src="https://latex.codecogs.com/png.latex?QS(%5Chat%5Cbeta)%20=%20QS(%5Chat%5Cbeta_0,%20%5Chat%5Cbeta_1)%20=%20%5Csum%5Climits_%7Bi=1%7D%5En%20%5Cleft(%5Chat%5Cbeta_0%20+%20%5Chat%5Cbeta_1%20%5Ccdot%20x_i%20-%20y_i%20%5Cright)%5E2"> minimiert.</p>
<p>Statt es direkt, wie oben durch Null setzen der partiellen Ableitungen, zu bestimmen, wählen wir nun einen mathematisch-<em>numerischen</em> Ansatz und wollen <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta%20%5Cin%20%5Cmathbf%7BR%7D%5E2"> als <em>Optimierungsproblem</em> mit Hilfe des <em>Gradientenverfahrens</em> lösen.</p>
<p>Beim Gradientenverfahren wird versucht, ausgehend von einem Startwert <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta%5E0%20%5Cin%20%5Cmathbf%7BR%7D%5E2">, gemäß der Iterationsvorschrift</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Chat%5Cbeta%5E%7Bk+1%7D%20=%20%5Chat%5Cbeta%5E%7Bk%7D%20+%20%5Calpha%5Ek%20%5Ccdot%20d%5Ek%0A"></p>
<p>für alle <img src="https://latex.codecogs.com/png.latex?k=0,1,%20..."> eine Näherungslösung für <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta"> zu finden. Dabei ist <img src="https://latex.codecogs.com/png.latex?%5Calpha%5Ek%20%3E%200"> eine <em>positive Schrittweite</em> und <img src="https://latex.codecogs.com/png.latex?d%5Ek%5Cin%5Cmathbf%7BR%7D%5En"> eine <em>Abstiegsrichtung</em>, welche wir in jedem Iterationsschritt <img src="https://latex.codecogs.com/png.latex?k"> so bestimmen, dass die Folge <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta%5Ek"> zu einem stationären Punkt, unserer Näherungslösung, konvergiert.</p>
<p>Im einfachsten Fall, dem <strong>Verfahren des steilsten Abstieges</strong>, wird der Abstiegsvektor <img src="https://latex.codecogs.com/png.latex?d%5Ek"> aus dem Gradienten <img src="https://latex.codecogs.com/png.latex?%5Cnabla%20QS"> wie folgt bestimmt:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0Ad%5Ek%20=%20-%5Cnabla%20QS%5Cleft(%5Chat%5Cbeta%5Ek%5Cright)%0A"></p>
<p>Wegen <img src="https://latex.codecogs.com/png.latex?%0A%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%20%5Chat%5Cbeta_0%7D%20%5C,%20QS%20=%202%20%5Ccdot%20n%20%5Ccdot%20%5Cleft(%20%20%5Chat%5Cbeta_0%20+%20%5Chat%5Cbeta_1%5Ccdot%5Cbar%7Bx%7D%20-%20%5Cbar%7By%7D%20%5Cright)%0A"></p>
<p>und</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%20%5Chat%5Cbeta_1%7D%20%5C,%20QS%20=%202%20%5Ccdot%20%5Cleft(%5Chat%5Cbeta_1%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En(x_i-%5Cbar%7Bx%7D)%5E2%20-%20%5Csum%5Climits_%7Bi=1%7D%5En%20(x_i-%5Cbar%7Bx%7D)%20%5Ccdot%20(y_i-%5Cbar%7By%7D)%20%5Cright)%0A"></p>
<p>gilt:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%5Cnabla%20QS(%5Chat%5Cbeta)%20&amp;=%20%5Cnabla%20QS(%5Chat%5Cbeta_0,%20%5Chat%5Cbeta_1)%20%5C%5C%0A&amp;=%202%20%5Ccdot%20%5Cbegin%7Bpmatrix%7D%0An%20%5Ccdot(%5Chat%5Cbeta_0%20+%20%5Chat%5Cbeta_1%5Ccdot%5Cbar%7Bx%7D%20-%20%5Cbar%7By%7D)%20%20%5C%5C%0A%5Chat%5Cbeta_1%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En(x_i-%5Cbar%7Bx%7D)%5E2%20-%20%5Csum%5Climits_%7Bi=1%7D%5En%20(x_i-%5Cbar%7Bx%7D)%20%5Ccdot%20(y_i-%5Cbar%7By%7D)%0A%5Cend%7Bpmatrix%7D%0A%5Cend%7Baligned%7D%0A"></p>
<p>Wir wollen hier von Anfang an mit den studentisierten Werten arbeiten, weil diese numerisch viele Vorteile haben. Darum vereinfachen sich die beiden partiellen Ableitungen noch einmal zu:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%20%5Chat%5Cbeta_0%7D%20%5C,%20QS%20=%202%20%5Ccdot%20v%0A"></p>
<p>und</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%5Cfrac%7B%5Cpartial%7D%7B%5Cpartial%20%5Chat%5Cbeta_1%7D%20%5C,%20QS%20&amp;=%202%20%5Ccdot%20%5Cleft(%5Chat%5Cbeta_1%20%5Ccdot%20%5Csum%5Climits_%7Bi=1%7D%5En(x_i-%5Cbar%7Bx%7D)%5E2%20-%20%5Csum%5Climits_%7Bi=1%7D%5En%20(x_i-%5Cbar%7Bx%7D)%20%5Ccdot%20(y_i-%5Cbar%7By%7D)%5Cright)%20%5C%5C%0A&amp;=%202%20%5Ccdot%20(n-1)%20%5Cleft(%5Chat%5Cbeta_1%20%5Ccdot%20s%5E2_%7Bx%7D%20-%20s_%7Bx,y%7D%5Cright)%0A%5Cend%7Baligned%7D%0A"></p>
<p>Somit gilt:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%5Cnabla%20QS(%5Chat%5Cbeta)%20&amp;=%20%5Cnabla%20QS(%5Chat%5Cbeta_0,%20%5Chat%5Cbeta_1)%20%5C%5C%0A&amp;=%202%20%5Ccdot%20%5Cbegin%7Bpmatrix%7D%0An%20%5Ccdot%20%5Chat%5Cbeta_0%20%5C%5C%0A(n-1)%20%5Cleft(%5Chat%5Cbeta_1%20%5Ccdot%20s%5E2_%7Bx%7D%20-%20s_%7Bx,y%7D%5Cright)%0A%5Cend%7Bpmatrix%7D%0A%5Cend%7Baligned%7D%0A"></p>
<p>Um die Varianz und die Kovarianz nicht jedesmal neu zu berechnen, speichern wir die Ergebnisse vorab. Ebenso, damit der Quellcode kürzer wird, speichern wir in <img src="https://latex.codecogs.com/png.latex?x"> und <img src="https://latex.codecogs.com/png.latex?y"> die studentisierten Werte von <img src="https://latex.codecogs.com/png.latex?hp"> und <img src="https://latex.codecogs.com/png.latex?mpg">:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Vorbereitungen </span></span>
<span id="cb12-2">var_x <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">var</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp_stud, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)</span>
<span id="cb12-3">cov_xy <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cov</span>(mpg_stud <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp_stud, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)</span>
<span id="cb12-4"></span>
<span id="cb12-5">n <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">length</span>(dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>hp_stud)</span>
<span id="cb12-6"></span>
<span id="cb12-7">x <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>hp_stud</span>
<span id="cb12-8">y <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>mpg_stud</span></code></pre></div></div>
</div>
<p>Nun erstellen wir die <img src="https://latex.codecogs.com/png.latex?QS"> und <img src="https://latex.codecogs.com/png.latex?%5Cnabla%20QS"> Funktionen: Wir definieren diese Funktion wie folgt in <strong>R</strong>:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1">qs <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(b_0, b_1) {</span>
<span id="cb13-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>((b_1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> x <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> y)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">**</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)</span>
<span id="cb13-3">}</span>
<span id="cb13-4"></span>
<span id="cb13-5">nabla_qs <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(b_0, b_1) {</span>
<span id="cb13-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> n <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> b_0,</span>
<span id="cb13-7">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> (n <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> (b_1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> var_x <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> cov_xy)</span>
<span id="cb13-8">  )</span>
<span id="cb13-9">}</span></code></pre></div></div>
</div>
<p>Die Schrittweite <img src="https://latex.codecogs.com/png.latex?alpha"> bestimmen wir mit Hilfe der <em>Armijo-Bedingung</em> und der <em>Backtracking Liniensuche</em>: Diese formalisiert das Konzept “genügend” in der geforderten Verringerung des Funktionswertes. Die Bedingung <img src="https://latex.codecogs.com/png.latex?f(x%5Ek%20+%20%5Calpha%20d%5Ek)%20%3C%20f(x%5Ek)"> wird modifiziert zu <img src="https://latex.codecogs.com/png.latex?f(x%5Ek%20+%20%5Calpha%20d%5Ek)%20%5Cleq%20f(x%5Ek)%20+%20%5Csigma%20%5Calpha%20%5Cleft(%5Cnabla%20f(x%5Ek)%5Cright)%5ET%20d%5Ek,"> mit <img src="https://latex.codecogs.com/png.latex?%5Csigma%5Cin%20(0,1)">. Die Armijo-Bedingung umgeht Konvergenzprobleme der einfachen Bedingung, indem sie fordert, dass die Verringerung zumindest proportional zur Schrittweite und zur Richtungsableitung <img src="https://latex.codecogs.com/png.latex?%5Cleft(%5Cnabla%20f(x%5Ek)%5Cright)%5ET%20d%5Ek"> ist, mit Hilfe der Proportionalitätskonstante <img src="https://latex.codecogs.com/png.latex?%5Csigma">. In der Praxis werden oft sehr kleine Werte verwendet, z.B. <img src="https://latex.codecogs.com/png.latex?%5Csigma=0.0001">.</p>
<p>Die <em>Backtracking-Liniensuche</em> verringert die Schrittweite wiederholt um den Faktor <img src="https://latex.codecogs.com/png.latex?%5Crho"> (<code>rho</code>) , bis die Armijo-Bedingung erfüllt ist. Sie terminiert garantiert nach einer endlichen Anzahl von Schritten. Weshalb wir sie hier einsetzen:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1">alpha_k <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(b_0, b_1, d_k, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">alpha =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sigma =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.0001</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">rho =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>) {</span>
<span id="cb14-2">  d_0 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> d_k[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]</span>
<span id="cb14-3">  d_1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> d_k[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>]</span>
<span id="cb14-4">  nabla <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">nabla_qs</span>(b_0, b_1)</span>
<span id="cb14-5">  n_0 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> nabla[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]</span>
<span id="cb14-6">  n_1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> nabla[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>]</span>
<span id="cb14-7"></span>
<span id="cb14-8">  lhs <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">qs</span>(b_0 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> alpha<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>d_0, b_1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> alpha<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>d_1)</span>
<span id="cb14-9">  rhs <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">qs</span>(b_0, b_1) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> sigma<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>alpha<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>(n_0<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>d_0 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> n_1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>d_1)</span>
<span id="cb14-10"></span>
<span id="cb14-11">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">while</span> (lhs <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> rhs) {</span>
<span id="cb14-12">    alpha <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> rho <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> alpha</span>
<span id="cb14-13">    lhs <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">qs</span>(b_0 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> alpha<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>d_0, b_1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> alpha<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>d_1)</span>
<span id="cb14-14">    rhs <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">qs</span>(b_0, b_1) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> sigma<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>alpha<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>(n_0<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>d_0 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> n_1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>d_1)</span>
<span id="cb14-15">  }</span>
<span id="cb14-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">return</span>(alpha)</span>
<span id="cb14-17">}</span></code></pre></div></div>
</div>
<p>Ein paar Einstellungen vorab:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># maximale Anzahl an Iterationen</span></span>
<span id="cb15-2">max_iter <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1000</span></span>
<span id="cb15-3">iter <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span></span>
<span id="cb15-4"></span>
<span id="cb15-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Genauigkeit</span></span>
<span id="cb15-6">eps <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">**-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span></span>
<span id="cb15-7"></span>
<span id="cb15-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Startwerte</span></span>
<span id="cb15-9">b_0 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span> </span>
<span id="cb15-10">b_1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> </span></code></pre></div></div>
</div>
<p>Für eine vorgegebene Genauigkeit <img src="https://latex.codecogs.com/png.latex?eps=10%5E%7B-6%7D">, den Startwerten <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_0%5E0%20=%200"> und <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_1%5E0%20=%20-1"> können wir somit das Verfahren starten:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">while</span> (<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>) {</span>
<span id="cb16-2">  iter <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> iter <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb16-3"></span>
<span id="cb16-4">  d_k <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">nabla_qs</span>(b_0, b_1)</span>
<span id="cb16-5"></span>
<span id="cb16-6">  ad_ <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">alpha_k</span>(b_0, b_1, d_k) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> d_k</span>
<span id="cb16-7"></span>
<span id="cb16-8">  x0 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> b_0 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> ad_[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]</span>
<span id="cb16-9">  x1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> b_1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> ad_[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>]</span>
<span id="cb16-10"></span>
<span id="cb16-11">  <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">if</span> ((<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">abs</span>(b_0 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> x0) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> eps) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> (<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">abs</span>(b_1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> x1) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> eps) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> (iter <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> max_iter)) {</span>
<span id="cb16-12">    <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">break</span></span>
<span id="cb16-13">  }</span>
<span id="cb16-14">  b_0 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> x0</span>
<span id="cb16-15">  b_1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> x1</span>
<span id="cb16-16">}</span></code></pre></div></div>
</div>
<p>Wir haben in <img src="https://latex.codecogs.com/png.latex?203"> Iterationsschritten das folgende Ergebnis für die Regressionskoeffizienten:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Chat%5Cbeta_0%5E%7Bstud%7D%20=%200%20%5Cqquad%20%5Chat%5Cbeta_1%5E%7Bstud%7D%20=%20-0.7761689%0A"></p>
<p>Betrachten wir die daraus erstellte Regressionsgerade:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-09-ueber-die-koeffizienten-einer-linearen-regression/index_files/figure-html/unnamed-chunk-18-1.webp" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
<p>Um die Regressionskoeffizienten für unser ursprüngliches Problem zu erhalten müssen wir wie folgt zurück rechnen:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1">(b1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> b_1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sd</span>(dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>mpg) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sd</span>(dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>hp))</span>
<span id="cb17-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; [1] -0.06822832</span></span>
<span id="cb17-3">(b0 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>mpg) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>  b1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>hp))</span>
<span id="cb17-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; [1] 30.09887</span></span></code></pre></div></div>
</div>
<p>Die Geradengleichung für das ursprüngliches Problem lautet somit:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%20%20%5Chat%7By%7D%20&amp;=%20%5Chat%5Cbeta_0%20+%20%5Chat%5Cbeta_1%20%5Ccdot%20x%20%5C%5C%0A%20%20%20%20%20%20%20%20%20%20&amp;%5Capprox%2030.0988668%20-0.0682283%20%5Ccdot%20x%20%5C%5C%0A%20%20%20%20%20%20%20%20%20%20&amp;%5Capprox%2030.099%20-0.068%20%5Ccdot%20x%0A%5Cend%7Baligned%7D%0A"></p>
</section>
<section id="die-r-funktion-optim" class="level3">
<h3 class="anchored" data-anchor-id="die-r-funktion-optim">Die R Funktion <code>optim</code></h3>
<p>In <strong>R</strong> gibt es bessere Optimierungsmethoden, als die hier verwendete. Zum Beispiel können wir die Funktion <code>optim</code> verwenden. Die Funktion <code>optim</code> benötigt die zu optimierende <img src="https://latex.codecogs.com/png.latex?f(x)"> und ggf. die Gradientenfunktion <img src="https://latex.codecogs.com/png.latex?gf(x)"> sowie einen Startpunkt <img src="https://latex.codecogs.com/png.latex?x%5E0">:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1">f <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(beta) {</span>
<span id="cb18-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">qs</span>(beta[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>], beta[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>])</span>
<span id="cb18-3">}</span>
<span id="cb18-4"></span>
<span id="cb18-5">grf <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(beta) {</span>
<span id="cb18-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">nabla_qs</span>(beta[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>], beta[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>])</span>
<span id="cb18-7">}</span>
<span id="cb18-8"></span>
<span id="cb18-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Der eigentliche Aufruf von optim:</span></span>
<span id="cb18-10">ergb <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">optim</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>,<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>),f ,grf, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">method =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CG"</span>)</span>
<span id="cb18-11"></span>
<span id="cb18-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Auslesen der Schätzer aus dem Ergebnis:</span></span>
<span id="cb18-13">(optim_beta_0 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> ergb<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>par[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>])</span>
<span id="cb18-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; [1] 0</span></span>
<span id="cb18-15">(optim_beta_1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> ergb<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>par[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>])</span>
<span id="cb18-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; [1] -0.7761683</span></span></code></pre></div></div>
</div>
<p>Wir erhalten somit für das studentisierte Problem die Gerade:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%20%20%5Chat%7By%7D%5E%7Bstud%7D%20&amp;=%20%5Chat%5Cbeta_0%5E%7Bstud%7D%20+%20%5Chat%5Cbeta_1%5E%7Bstud%7D%20%5Ccdot%20x%5E%7Bstud%7D%20%5C%5C%0A%20%20%20%20%20%20%20%20%20%20&amp;%5Capprox%200%20-0.7761683%20%5Ccdot%20%20x%5E%7Bstud%7D%20%5C%5C%0A%20%20%20%20%20%20%20%20%20%20&amp;%5Capprox%200%20-0.776%20%5Ccdot%20%20x%5E%7Bstud%7D%0A%5Cend%7Baligned%7D%0A"></p>
<p>Für das ursprüngliche Problem rechnen wir mittels</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1">optim_b1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> optim_beta_1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sd</span>(dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>mpg) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sd</span>(dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>hp)</span>
<span id="cb19-2">optim_b0 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>mpg) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>  optim_b1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>hp)</span></code></pre></div></div>
</div>
<p>um und erhalten:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%20%20%5Chat%7By%7D%20&amp;=%20%5Chat%5Cbeta_0%20+%20%5Chat%5Cbeta_1%20%5Ccdot%20x%20%5C%5C%0A%20%20%20%20%20%20%20%20%20%20&amp;%5Capprox%2030.0988601%20-0.0682283%20%5Ccdot%20x%20%5C%5C%0A%20%20%20%20%20%20%20%20%20%20&amp;%5Capprox%2030.099%20-0.068%20%5Ccdot%20x%0A%5Cend%7Baligned%7D%0A"></p>
</section>
</section>
<section id="idee-summe-der-absoluten-abweichungen" class="level2">
<h2 class="anchored" data-anchor-id="idee-summe-der-absoluten-abweichungen">2. Idee: Summe der absoluten Abweichungen</h2>
<p>Wir ändern nun die Abweichungsmessfunktion von der <em>Q</em>uadrat-<em>S</em>umme hin zu den <strong>A</strong>bsolut-<em>S</em>ummen:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0AAS%20=%20AS(%5Chat%5Cbeta)%20=%20AS(%5Chat%5Cbeta_0,%20%5Chat%5Cbeta_1)%20=%20%5Csum_%7Bi=1%7D%5En%20%7C%5Chat%7By%7D_i%20-%20y_i%7C%0A"></p>
<p>Auch hier wollen wir mit den studentisierten Daten arbeiten und stellen die Funktion der <em>A</em>bsolut-<em>S</em>ummen auf:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Absolute Abweichungssummen</span></span>
<span id="cb20-2">as <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(b_0, b_1) {</span>
<span id="cb20-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">return</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">abs</span>(b_0 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> b_1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> x <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> y)))</span>
<span id="cb20-4">}</span></code></pre></div></div>
</div>
<p>Danach konstruieren wir die zu optimierende Funktion <img src="https://latex.codecogs.com/png.latex?f">:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Zu optimierende Funktion</span></span>
<span id="cb21-2">f <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(beta) {</span>
<span id="cb21-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as</span>(beta[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>], beta[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>])</span>
<span id="cb21-4">}</span></code></pre></div></div>
</div>
<p>Diesmal nutzen wir <code>optim</code> ohne eine Gradientenfunktion:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1">ergb <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">optim</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>,<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>), f)</span>
<span id="cb22-2"></span>
<span id="cb22-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Schätzer auslesen</span></span>
<span id="cb22-4">(opti_as_beta_0 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> ergb<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>par[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>])</span>
<span id="cb22-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; [1] -0.1304518</span></span>
<span id="cb22-6">(opti_as_beta_1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> ergb<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>par[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>])</span>
<span id="cb22-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; [1] -0.6844911</span></span></code></pre></div></div>
</div>
<p>Schauen wir uns nun die so erhaltene Gerade im Vergleich mit der ‘normalen’ Regressionsgerade an:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-09-ueber-die-koeffizienten-einer-linearen-regression/index_files/figure-html/unnamed-chunk-25-1.webp" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
<p>In grün und gestrichelt sehen wir die Gerade aus der <em>Idee der quadratischen Abweichungssummen</em>, in blau die aus der <em>Idee der absoluten Abweichungssummen</em>.</p>
<p>Für unser ursprüngliches Problem rechnen wir um:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Umrechnen in die ursprüngliche Fragestellung</span></span>
<span id="cb23-2">(as_b1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> opti_as_beta_1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sd</span>(dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>mpg) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sd</span>(dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>hp))</span>
<span id="cb23-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; [1] -0.06016948</span></span>
<span id="cb23-4">(as_b0 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> (<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>mpg) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> as_b1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>hp)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> opti_as_beta_0 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sd</span>(dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>mpg))</span>
<span id="cb23-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; [1] 28.13051</span></span></code></pre></div></div>
</div>
<p>Und die dazu gehörige Darstellung:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.sefiroth.de/posts/2021-06-09-ueber-die-koeffizienten-einer-linearen-regression/index_files/figure-html/unnamed-chunk-27-1.webp" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
<p>Die Funktionsvorschrift für die (blaue) Regressionsgerade lautet:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%20%20%5Chat%7By%7D%20&amp;=%20%5Chat%5Cbeta_0%20+%20%5Chat%5Cbeta_1%20%5Ccdot%20x%20%5C%5C%0A%20%20%20%20%20%20%20%20%20%20&amp;%5Capprox%2028.1305094%20-0.0601695%20%5Ccdot%20x%20%5C%5C%0A%20%20%20%20%20%20%20%20%20%20&amp;%5Capprox%2028.131%20-0.06%20%5Ccdot%20x%0A%5Cend%7Baligned%7D%0A"></p>
<p>Diese Methode nennt sich <strong>Median-Regression</strong> und ein ein Spezialfall der <strong>Quantilsregression</strong>, die sich u.a. mit dem R-Paket <a href="https://cran.r-project.org/web/packages/quantreg/index.html"><em>quantreg</em></a> unmittelbar umsetzen lässt:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(quantreg)</span>
<span id="cb24-2">ergmedianreg <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rq</span>(mpg <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> hp, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dt)</span>
<span id="cb24-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coef</span>(ergmedianreg)</span>
<span id="cb24-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; (Intercept)          hp </span></span>
<span id="cb24-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 28.13050847 -0.06016949</span></span></code></pre></div></div>
</div>
</section>
<section id="idee-betrag-der-summe-der-abweichungen" class="level2">
<h2 class="anchored" data-anchor-id="idee-betrag-der-summe-der-abweichungen">1. Idee: Betrag der Summe der Abweichungen</h2>
<p>Wenn wir die Summe der Abweichungen <img src="https://latex.codecogs.com/png.latex?%5Csum%5Climits_%7Bi=1%7D%5En%20%5Chat%7Be%7D_i"> minimieren wollen, dann ist es sinnvoll den Betrag davon zu minimieren. Wir suchen also die Schätzer <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_0"> und <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_1">, so dass der Ausdruck</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cleft%7C%20%5Csum_%7Bi=1%7D%5En%20%5Chat%7Be%7D_i%20%5Cright%7C%20=%20%5Cleft%7C%20%5Csum_%7Bi=1%7D%5En%20(%5Chat%5Cbeta_0%20+%20%5Chat%5Cbeta_1%20%5Ccdot%20x_i%20-%20y_i)%20%5Cright%7C%0A"></p>
<p>minimal ist.</p>
<p>Wegen:</p>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Baligned%7D%0A%5Csum_%7Bi=1%7D%5En%20(%5Chat%5Cbeta_0%20+%20%5Chat%5Cbeta_1%20%5Ccdot%20x_i%20-%20y_i)%0A&amp;=%20%5Csum_%7Bi=1%7D%5En%20%5Chat%5Cbeta_0%20+%20%5Csum_%7Bi=1%7D%5En%20%5Chat%5Cbeta_1%20%5Ccdot%20x_i%20-%20%5Csum_%7Bi=1%7D%5En%20y_i%20%5C%5C%0A&amp;=%20n%20%5Ccdot%20%5Chat%5Cbeta_0%20+%20%5Chat%5Cbeta_1%20%5Ccdot%20%5Csum_%7Bi=1%7D%5En%20x_i%20-%20%5Csum_%7Bi=1%7D%5En%20y_i%20%5C%5C%0A&amp;=%20n%20%5Ccdot%20%5Chat%5Cbeta_0%20+%20%5Chat%5Cbeta_1%20%5Ccdot%20n%20%5Ccdot%20%5Cbar%7Bx%7D%20-%20n%20%5Ccdot%20%5Cbar%7By%7D%20%5C%5C%0A&amp;=%20n%20%5Ccdot%20%5Cleft(%20%5Chat%5Cbeta_0%20+%20%5Chat%5Cbeta_1%20%5Ccdot%20%5Cbar%7Bx%7D%20-%20%5Cbar%7By%7D%20%5Cright)%20%5C%5C%0A&amp;=%20n%20%5Ccdot%20%5Cleft(%20%5Chat%5Cbeta_0%20-%20%5Cbar%7By%7D%20+%20%5Chat%5Cbeta_1%20%5Ccdot%20%5Cbar%7Bx%7D%20%20%5Cright)%0A%5Cend%7Baligned%7D%0A"></p>
<p>können wir das absolute Minimum bei <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_0%20-%20%5Cbar%7By%7D%20=0"> und <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_1%20%5Ccdot%20%5Cbar%7Bx%7D=0"> erreichen, was zur Lösung <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_0%20=%5Cbar%7By%7D"> und <img src="https://latex.codecogs.com/png.latex?%5Chat%5Cbeta_1%20=%200"> führt. Dies ist unser <em>Nullmodel</em> in dem die <img src="https://latex.codecogs.com/png.latex?x_i"> keinen Einfluss auf die <img src="https://latex.codecogs.com/png.latex?y_i"> haben und wir daher pauschal die <img src="https://latex.codecogs.com/png.latex?y_i"> mit <img src="https://latex.codecogs.com/png.latex?%5Chat%7By%7D_i=%5Cbar%7By%7D">, also dem Mittelwert der <img src="https://latex.codecogs.com/png.latex?y_i"> abschätzen.</p>
</section>
<section id="zusammenfassung" class="level2">
<h2 class="anchored" data-anchor-id="zusammenfassung">Zusammenfassung</h2>
<p>Als Vergleich können wir uns die Quadratsumme <img src="https://latex.codecogs.com/png.latex?QS"> und Absolutsumme <img src="https://latex.codecogs.com/png.latex?AS"> der drei Modelle einmal ansehen:</p>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Quadratische Abweichungssummen</span></span>
<span id="cb25-2">qs <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(b_0, b_1) {</span>
<span id="cb25-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(((b_0 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> b_1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>hp) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>mpg )<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">**</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)</span>
<span id="cb25-4">}</span>
<span id="cb25-5"></span>
<span id="cb25-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Absolute Abweichungssummen</span></span>
<span id="cb25-7">as <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-weight: bold;
font-style: inherit;">function</span>(b_0, b_1) {</span>
<span id="cb25-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">abs</span>((b_0 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> b_1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>hp) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> dt<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>mpg))</span>
<span id="cb25-9">}</span></code></pre></div></div>
</div>
<div class="cell" data-layout-align="center">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Quadratsummen:</span></span>
<span id="cb26-2">quad_sum <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">qs</span>(b0, b1), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">qs</span>(as_b0, as_b1), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">qs</span>(mean_mpg, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>))</span>
<span id="cb26-3"></span>
<span id="cb26-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Absolutsummen:</span></span>
<span id="cb26-5">abs_sum <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as</span>(b0, b1), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as</span>(as_b0, as_b1), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as</span>(mean_mpg, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>))</span>
<span id="cb26-6"></span>
<span id="cb26-7">tab <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tibble</span>(</span>
<span id="cb26-8">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sums =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(quad_sum, abs_sum),</span>
<span id="cb26-9">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sum_type =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"quad"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"abs"</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">each =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>),</span>
<span id="cb26-10">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">methode =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rep</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Idee 3"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Idee 2"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Idee 1"</span>), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)</span>
<span id="cb26-11">)</span>
<span id="cb26-12"></span>
<span id="cb26-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_wider</span>(tab, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_from=</span>sum_type, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_from=</span>sums, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_sort=</span>T)</span>
<span id="cb26-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; # A tibble: 3 × 3</span></span>
<span id="cb26-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;   methode   abs  quad</span></span>
<span id="cb26-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt;   &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb26-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 1 Idee 3   93.0  448.</span></span>
<span id="cb26-18"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 2 Idee 2   87.3  477.</span></span>
<span id="cb26-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#&gt; 3 Idee 1  151.  1126.</span></span></code></pre></div></div>
</div>
</section>
<section id="reproduzierbarkeitsinformationen" class="level2">
<h2 class="anchored" data-anchor-id="reproduzierbarkeitsinformationen">Reproduzierbarkeitsinformationen</h2>
<div class="cell" data-layout-align="center">
<pre><code>#&gt; R version 4.5.1 (2025-06-13)
#&gt; Platform: aarch64-apple-darwin20
#&gt; Running under: macOS Sequoia 15.5
#&gt; 
#&gt; Locale: en_US.UTF-8 / en_US.UTF-8 / en_US.UTF-8 / C / en_US.UTF-8 / en_US.UTF-8
#&gt; 
#&gt; Package version:
#&gt;   mosaic_1.9.1 quantreg_6.1 tidyr_1.3.1  xfun_0.52</code></pre>
</div>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Fußnoten</h2>

<ol>
<li id="fn1"><p>Das “Cookbook” zur Datentabelle können Sie mit Hilfe von <code>help("mtcars")</code> aufrufen!↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>Statistik</category>
  <guid>https://www.sefiroth.de/posts/2021-06-09-ueber-die-koeffizienten-einer-linearen-regression/</guid>
  <pubDate>Tue, 08 Jun 2021 22:00:00 GMT</pubDate>
</item>
</channel>
</rss>
